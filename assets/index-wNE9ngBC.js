(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function gp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ig={exports:{}},Ks={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=Symbol.for("react.transitional.element"),yp=Symbol.for("react.fragment");function lg(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:vp,type:e,key:a,ref:t!==void 0?t:null,props:n}}Ks.Fragment=yp;Ks.jsx=lg;Ks.jsxs=lg;ig.exports=Ks;var x=ig.exports,sg={exports:{}},Z={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc=Symbol.for("react.transitional.element"),mp=Symbol.for("react.portal"),pp=Symbol.for("react.fragment"),bp=Symbol.for("react.strict_mode"),_p=Symbol.for("react.profiler"),wp=Symbol.for("react.consumer"),Sp=Symbol.for("react.context"),Ep=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),Ap=Symbol.for("react.memo"),og=Symbol.for("react.lazy"),Op=Symbol.for("react.activity"),Yf=Symbol.iterator;function xp(e){return e===null||typeof e!="object"?null:(e=Yf&&e[Yf]||e["@@iterator"],typeof e=="function"?e:null)}var ug={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cg=Object.assign,fg={};function Gr(e,t,n){this.props=e,this.context=t,this.refs=fg,this.updater=n||ug}Gr.prototype.isReactComponent={};Gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dg(){}dg.prototype=Gr.prototype;function Cc(e,t,n){this.props=e,this.context=t,this.refs=fg,this.updater=n||ug}var Dc=Cc.prototype=new dg;Dc.constructor=Cc;cg(Dc,Gr.prototype);Dc.isPureReactComponent=!0;var Xf=Array.isArray;function mu(){}var _e={H:null,A:null,T:null,S:null},hg=Object.prototype.hasOwnProperty;function jc(e,t,n){var a=n.ref;return{$$typeof:Rc,type:e,key:t,ref:a!==void 0?a:null,props:n}}function Rp(e,t){return jc(e.type,t,e.props)}function Nc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rc}function Cp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var If=/\/+/g;function wo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cp(""+e.key):t.toString(36)}function Dp(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(mu,mu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function tr(e,t,n,a,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Rc:case mp:l=!0;break;case og:return l=e._init,tr(l(e._payload),t,n,a,r)}}if(l)return r=r(e),l=a===""?"."+wo(e,0):a,Xf(r)?(n="",l!=null&&(n=l.replace(If,"$&/")+"/"),tr(r,t,n,"",function(u){return u})):r!=null&&(Nc(r)&&(r=Rp(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(If,"$&/")+"/")+l)),t.push(r)),1;l=0;var s=a===""?".":a+":";if(Xf(e))for(var o=0;o<e.length;o++)a=e[o],i=s+wo(a,o),l+=tr(a,t,n,i,r);else if(o=xp(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,i=s+wo(a,o++),l+=tr(a,t,n,i,r);else if(i==="object"){if(typeof e.then=="function")return tr(Dp(e),t,n,a,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function wl(e,t,n){if(e==null)return e;var a=[],r=0;return tr(e,a,"","",function(i){return t.call(n,i,r++)}),a}function jp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jf=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Np={map:wl,forEach:function(e,t,n){wl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wl(e,function(){t++}),t},toArray:function(e){return wl(e,function(t){return t})||[]},only:function(e){if(!Nc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Activity=Op;Z.Children=Np;Z.Component=Gr;Z.Fragment=pp;Z.Profiler=_p;Z.PureComponent=Cc;Z.StrictMode=bp;Z.Suspense=Tp;Z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_e;Z.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _e.H.useMemoCache(e)}};Z.cache=function(e){return function(){return e.apply(null,arguments)}};Z.cacheSignal=function(){return null};Z.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=cg({},e.props),r=e.key;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)!hg.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+2];a.children=l}return jc(e.type,r,a)};Z.createContext=function(e){return e={$$typeof:Sp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:wp,_context:e},e};Z.createElement=function(e,t,n){var a,r={},i=null;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)hg.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(r[a]=t[a]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var s=Array(l),o=0;o<l;o++)s[o]=arguments[o+2];r.children=s}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)r[a]===void 0&&(r[a]=l[a]);return jc(e,i,r)};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Ep,render:e}};Z.isValidElement=Nc;Z.lazy=function(e){return{$$typeof:og,_payload:{_status:-1,_result:e},_init:jp}};Z.memo=function(e,t){return{$$typeof:Ap,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=_e.T,n={};_e.T=n;try{var a=e(),r=_e.S;r!==null&&r(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(mu,Jf)}catch(i){Jf(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),_e.T=t}};Z.unstable_useCacheRefresh=function(){return _e.H.useCacheRefresh()};Z.use=function(e){return _e.H.use(e)};Z.useActionState=function(e,t,n){return _e.H.useActionState(e,t,n)};Z.useCallback=function(e,t){return _e.H.useCallback(e,t)};Z.useContext=function(e){return _e.H.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e,t){return _e.H.useDeferredValue(e,t)};Z.useEffect=function(e,t){return _e.H.useEffect(e,t)};Z.useEffectEvent=function(e){return _e.H.useEffectEvent(e)};Z.useId=function(){return _e.H.useId()};Z.useImperativeHandle=function(e,t,n){return _e.H.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return _e.H.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return _e.H.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return _e.H.useMemo(e,t)};Z.useOptimistic=function(e,t){return _e.H.useOptimistic(e,t)};Z.useReducer=function(e,t,n){return _e.H.useReducer(e,t,n)};Z.useRef=function(e){return _e.H.useRef(e)};Z.useState=function(e){return _e.H.useState(e)};Z.useSyncExternalStore=function(e,t,n){return _e.H.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return _e.H.useTransition()};Z.version="19.2.3";sg.exports=Z;var S=sg.exports;const ye=gp(S);var gg={exports:{}},Vs={},vg={exports:{}},yg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,D){var E=T.length;T.push(D);e:for(;0<E;){var O=E-1>>>1,A=T[O];if(0<r(A,D))T[O]=D,T[E]=A,E=O;else break e}}function n(T){return T.length===0?null:T[0]}function a(T){if(T.length===0)return null;var D=T[0],E=T.pop();if(E!==D){T[0]=E;e:for(var O=0,A=T.length,M=A>>>1;O<M;){var z=2*(O+1)-1,B=T[z],$=z+1,H=T[$];if(0>r(B,E))$<A&&0>r(H,B)?(T[O]=H,T[$]=E,O=$):(T[O]=B,T[z]=E,O=z);else if($<A&&0>r(H,E))T[O]=H,T[$]=E,O=$;else break e}}return D}function r(T,D){var E=T.sortIndex-D.sortIndex;return E!==0?E:T.id-D.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var o=[],u=[],c=1,d=null,f=3,h=!1,m=!1,p=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function b(T){for(var D=n(u);D!==null;){if(D.callback===null)a(u);else if(D.startTime<=T)a(u),D.sortIndex=D.expirationTime,t(o,D);else break;D=n(u)}}function C(T){if(p=!1,b(T),!m)if(n(o)!==null)m=!0,j||(j=!0,G());else{var D=n(u);D!==null&&ne(C,D.startTime-T)}}var j=!1,w=-1,R=5,N=-1;function k(){return _?!0:!(e.unstable_now()-N<R)}function L(){if(_=!1,j){var T=e.unstable_now();N=T;var D=!0;try{e:{m=!1,p&&(p=!1,g(w),w=-1),h=!0;var E=f;try{t:{for(b(T),d=n(o);d!==null&&!(d.expirationTime>T&&k());){var O=d.callback;if(typeof O=="function"){d.callback=null,f=d.priorityLevel;var A=O(d.expirationTime<=T);if(T=e.unstable_now(),typeof A=="function"){d.callback=A,b(T),D=!0;break t}d===n(o)&&a(o),b(T)}else a(o);d=n(o)}if(d!==null)D=!0;else{var M=n(u);M!==null&&ne(C,M.startTime-T),D=!1}}break e}finally{d=null,f=E,h=!1}D=void 0}}finally{D?G():j=!1}}}var G;if(typeof y=="function")G=function(){y(L)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Y=Q.port2;Q.port1.onmessage=L,G=function(){Y.postMessage(null)}}else G=function(){v(L,0)};function ne(T,D){w=v(function(){T(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var E=f;f=D;try{return T()}finally{f=E}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var E=f;f=T;try{return D()}finally{f=E}},e.unstable_scheduleCallback=function(T,D,E){var O=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?O+E:O):E=O,T){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=E+A,T={id:c++,callback:D,priorityLevel:T,startTime:E,expirationTime:A,sortIndex:-1},E>O?(T.sortIndex=E,t(u,T),n(o)===null&&T===n(u)&&(p?(g(w),w=-1):p=!0,ne(C,E-O))):(T.sortIndex=A,t(o,T),m||h||(m=!0,j||(j=!0,G()))),T},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(T){var D=f;return function(){var E=f;f=D;try{return T.apply(this,arguments)}finally{f=E}}}})(yg);vg.exports=yg;var Up=vg.exports,mg={exports:{}},at={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp=S;function pg(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Hn(){}var nt={d:{f:Hn,r:function(){throw Error(pg(522))},D:Hn,C:Hn,L:Hn,m:Hn,X:Hn,S:Hn,M:Hn},p:0,findDOMNode:null},kp=Symbol.for("react.portal");function Mp(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kp,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var yi=zp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ys(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(pg(299));return Mp(e,t,null,n)};at.flushSync=function(e){var t=yi.T,n=nt.p;try{if(yi.T=null,nt.p=2,e)return e()}finally{yi.T=t,nt.p=n,nt.d.f()}};at.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,nt.d.C(e,t))};at.prefetchDNS=function(e){typeof e=="string"&&nt.d.D(e)};at.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Ys(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?nt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:i}):n==="script"&&nt.d.X(e,{crossOrigin:a,integrity:r,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};at.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Ys(t.as,t.crossOrigin);nt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&nt.d.M(e)};at.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Ys(n,t.crossOrigin);nt.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};at.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Ys(t.as,t.crossOrigin);nt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else nt.d.m(e)};at.requestFormReset=function(e){nt.d.r(e)};at.unstable_batchedUpdates=function(e,t){return e(t)};at.useFormState=function(e,t,n){return yi.H.useFormState(e,t,n)};at.useFormStatus=function(){return yi.H.useHostTransitionStatus()};at.version="19.2.3";function bg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bg)}catch(e){console.error(e)}}bg(),mg.exports=at;var sr=mg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qe=Up,_g=S,Bp=sr;function U(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function wg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function al(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Eg(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qf(e){if(al(e)!==e)throw Error(U(188))}function Lp(e){var t=e.alternate;if(!t){if(t=al(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(a=r.return,a!==null){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Qf(r),e;if(i===a)return Qf(r),t;i=i.sibling}throw Error(U(188))}if(n.return!==a.return)n=r,a=i;else{for(var l=!1,s=r.child;s;){if(s===n){l=!0,n=r,a=i;break}if(s===a){l=!0,a=r,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,a=r;break}if(s===a){l=!0,a=i,n=r;break}s=s.sibling}if(!l)throw Error(U(189))}}if(n.alternate!==a)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Tg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Tg(e),t!==null)return t;e=e.sibling}return null}var we=Object.assign,qp=Symbol.for("react.element"),Sl=Symbol.for("react.transitional.element"),ci=Symbol.for("react.portal"),or=Symbol.for("react.fragment"),Ag=Symbol.for("react.strict_mode"),pu=Symbol.for("react.profiler"),Og=Symbol.for("react.consumer"),En=Symbol.for("react.context"),Uc=Symbol.for("react.forward_ref"),bu=Symbol.for("react.suspense"),_u=Symbol.for("react.suspense_list"),zc=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),wu=Symbol.for("react.activity"),Hp=Symbol.for("react.memo_cache_sentinel"),Zf=Symbol.iterator;function ai(e){return e===null||typeof e!="object"?null:(e=Zf&&e[Zf]||e["@@iterator"],typeof e=="function"?e:null)}var $p=Symbol.for("react.client.reference");function Su(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===$p?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case or:return"Fragment";case pu:return"Profiler";case Ag:return"StrictMode";case bu:return"Suspense";case _u:return"SuspenseList";case wu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ci:return"Portal";case En:return e.displayName||"Context";case Og:return(e._context.displayName||"Context")+".Consumer";case Uc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zc:return t=e.displayName||null,t!==null?t:Su(e.type)||"Memo";case $n:t=e._payload,e=e._init;try{return Su(e(t))}catch{}}return null}var fi=Array.isArray,J=_g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=Bp.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ra={pending:!1,data:null,method:null,action:null},Eu=[],ur=-1;function dn(e){return{current:e}}function Ke(e){0>ur||(e.current=Eu[ur],Eu[ur]=null,ur--)}function me(e,t){ur++,Eu[ur]=e.current,e.current=t}var fn=dn(null),ki=dn(null),ta=dn(null),is=dn(null);function ls(e,t){switch(me(ta,t),me(ki,e),me(fn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?nh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=nh(t),e=Xy(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ke(fn),me(fn,e)}function Dr(){Ke(fn),Ke(ki),Ke(ta)}function Tu(e){e.memoizedState!==null&&me(is,e);var t=fn.current,n=Xy(t,e.type);t!==n&&(me(ki,e),me(fn,n))}function ss(e){ki.current===e&&(Ke(fn),Ke(ki)),is.current===e&&(Ke(is),Xi._currentValue=Ra)}var So,Pf;function _a(e){if(So===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);So=t&&t[1]||"",Pf=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+So+e+Pf}var Eo=!1;function To(e,t){if(!e||Eo)return"";Eo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(h){var f=h}Reflect.construct(e,[],d)}else{try{d.call()}catch(h){f=h}e.call(d.prototype)}}else{try{throw Error()}catch(h){f=h}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(h){if(h&&f&&typeof h.stack=="string")return[h.stack,f.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),l=i[0],s=i[1];if(l&&s){var o=l.split(`
`),u=s.split(`
`);for(r=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(a===o.length||r===u.length)for(a=o.length-1,r=u.length-1;1<=a&&0<=r&&o[a]!==u[r];)r--;for(;1<=a&&0<=r;a--,r--)if(o[a]!==u[r]){if(a!==1||r!==1)do if(a--,r--,0>r||o[a]!==u[r]){var c=`
`+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=r);break}}}finally{Eo=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?_a(n):""}function Gp(e,t){switch(e.tag){case 26:case 27:case 5:return _a(e.type);case 16:return _a("Lazy");case 13:return e.child!==t&&t!==null?_a("Suspense Fallback"):_a("Suspense");case 19:return _a("SuspenseList");case 0:case 15:return To(e.type,!1);case 11:return To(e.type.render,!1);case 1:return To(e.type,!0);case 31:return _a("Activity");default:return""}}function Wf(e){try{var t="",n=null;do t+=Gp(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Au=Object.prototype.hasOwnProperty,kc=qe.unstable_scheduleCallback,Ao=qe.unstable_cancelCallback,Kp=qe.unstable_shouldYield,Vp=qe.unstable_requestPaint,Ot=qe.unstable_now,Yp=qe.unstable_getCurrentPriorityLevel,xg=qe.unstable_ImmediatePriority,Rg=qe.unstable_UserBlockingPriority,os=qe.unstable_NormalPriority,Xp=qe.unstable_LowPriority,Cg=qe.unstable_IdlePriority,Ip=qe.log,Jp=qe.unstable_setDisableYieldValue,rl=null,xt=null;function Zn(e){if(typeof Ip=="function"&&Jp(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(rl,e)}catch{}}var Rt=Math.clz32?Math.clz32:Pp,Qp=Math.log,Zp=Math.LN2;function Pp(e){return e>>>=0,e===0?32:31-(Qp(e)/Zp|0)|0}var El=256,Tl=262144,Al=4194304;function wa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xs(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var s=a&134217727;return s!==0?(a=s&~i,a!==0?r=wa(a):(l&=s,l!==0?r=wa(l):n||(n=s&~e,n!==0&&(r=wa(n))))):(s=a&~i,s!==0?r=wa(s):l!==0?r=wa(l):n||(n=a&~e,n!==0&&(r=wa(n)))),r===0?0:t!==0&&t!==r&&!(t&i)&&(i=r&-r,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:r}function il(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Wp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dg(){var e=Al;return Al<<=1,!(Al&62914560)&&(Al=4194304),e}function Oo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ll(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fp(e,t,n,a,r,i){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=l&~n;0<n;){var c=31-Rt(n),d=1<<c;s[c]=0,o[c]=-1;var f=u[c];if(f!==null)for(u[c]=null,c=0;c<f.length;c++){var h=f[c];h!==null&&(h.lane&=-536870913)}n&=~d}a!==0&&jg(e,a,0),i!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=i&~(l&~t))}function jg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Rt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Ng(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Rt(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function Ug(e,t){var n=t&-t;return n=n&42?1:Mc(n),n&(e.suspendedLanes|t)?0:n}function Mc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function zg(){var e=oe.p;return e!==0?e:(e=window.event,e===void 0?32:am(e.type))}function Ff(e,t){var n=oe.p;try{return oe.p=e,t()}finally{oe.p=n}}var ga=Math.random().toString(36).slice(2),Qe="__reactFiber$"+ga,ft="__reactProps$"+ga,Kr="__reactContainer$"+ga,Ou="__reactEvents$"+ga,e0="__reactListeners$"+ga,t0="__reactHandles$"+ga,ed="__reactResources$"+ga,sl="__reactMarker$"+ga;function Lc(e){delete e[Qe],delete e[ft],delete e[Ou],delete e[e0],delete e[t0]}function cr(e){var t=e[Qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kr]||n[Qe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sh(e);e!==null;){if(n=e[Qe])return n;e=sh(e)}return t}e=n,n=e.parentNode}return null}function Vr(e){if(e=e[Qe]||e[Kr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function di(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(U(33))}function wr(e){var t=e[ed];return t||(t=e[ed]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[sl]=!0}var kg=new Set,Mg={};function qa(e,t){jr(e,t),jr(e+"Capture",t)}function jr(e,t){for(Mg[e]=t,e=0;e<t.length;e++)kg.add(t[e])}var n0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),td={},nd={};function a0(e){return Au.call(nd,e)?!0:Au.call(td,e)?!1:n0.test(e)?nd[e]=!0:(td[e]=!0,!1)}function Kl(e,t,n){if(a0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ol(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function vn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function r0(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xu(e){if(!e._valueTracker){var t=Bg(e)?"checked":"value";e._valueTracker=r0(e,t,""+e[t])}}function Lg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Bg(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var i0=/[\n"\\]/g;function Lt(e){return e.replace(i0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ru(e,t,n,a,r,i,l,s){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?Cu(e,l,kt(t)):n!=null?Cu(e,l,kt(n)):a!=null&&e.removeAttribute("value"),r==null&&i!=null&&(e.defaultChecked=!!i),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+kt(s):e.removeAttribute("name")}function qg(e,t,n,a,r,i,l,s){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){xu(e);return}n=n!=null?""+kt(n):"",t=t!=null?""+kt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=s?e.checked:!!a,e.defaultChecked=!!a,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),xu(e)}function Cu(e,t,n){t==="number"&&us(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Sr(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+kt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,a&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Hg(e,t,n){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+kt(n):""}function $g(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(U(92));if(fi(a)){if(1<a.length)throw Error(U(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=kt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),xu(e)}function Nr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var l0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ad(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||l0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Gg(e,t,n){if(t!=null&&typeof t!="object")throw Error(U(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&ad(e,r,a)}else for(var i in t)t.hasOwnProperty(i)&&ad(e,i,t[i])}function qc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),o0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vl(e){return o0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tn(){}var Du=null;function Hc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fr=null,Er=null;function rd(e){var t=Vr(e);if(t&&(e=t.stateNode)){var n=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ru(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[ft]||null;if(!r)throw Error(U(90));Ru(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Lg(a)}break e;case"textarea":Hg(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Sr(e,!!n.multiple,t,!1)}}}var xo=!1;function Kg(e,t,n){if(xo)return e(t,n);xo=!0;try{var a=e(t);return a}finally{if(xo=!1,(fr!==null||Er!==null)&&(ro(),fr&&(t=fr,e=Er,Er=fr=null,rd(t),e)))for(t=0;t<e.length;t++)rd(e[t])}}function Mi(e,t){var n=e.stateNode;if(n===null)return null;var a=n[ft]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ju=!1;if(Cn)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){ju=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{ju=!1}var Pn=null,$c=null,Yl=null;function Vg(){if(Yl)return Yl;var e,t=$c,n=t.length,a,r="value"in Pn?Pn.value:Pn.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(a=1;a<=l&&t[n-a]===r[i-a];a++);return Yl=r.slice(e,1<a?1-a:void 0)}function Xl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function id(){return!1}function dt(e){function t(n,a,r,i,l){this._reactName=n,this._targetInst=r,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xl:id,this.isPropagationStopped=id,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),t}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=dt(Ha),ol=we({},Ha,{view:0,detail:0}),u0=dt(ol),Ro,Co,ii,Js=we({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(Ro=e.screenX-ii.screenX,Co=e.screenY-ii.screenY):Co=Ro=0,ii=e),Ro)},movementY:function(e){return"movementY"in e?e.movementY:Co}}),ld=dt(Js),c0=we({},Js,{dataTransfer:0}),f0=dt(c0),d0=we({},ol,{relatedTarget:0}),Do=dt(d0),h0=we({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),g0=dt(h0),v0=we({},Ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y0=dt(v0),m0=we({},Ha,{data:0}),sd=dt(m0),p0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_0[e])?!!t[e]:!1}function Gc(){return w0}var S0=we({},ol,{key:function(e){if(e.key){var t=p0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(e){return e.type==="keypress"?Xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E0=dt(S0),T0=we({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=dt(T0),A0=we({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),O0=dt(A0),x0=we({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),R0=dt(x0),C0=we({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D0=dt(C0),j0=we({},Ha,{newState:0,oldState:0}),N0=dt(j0),U0=[9,13,27,32],Kc=Cn&&"CompositionEvent"in window,mi=null;Cn&&"documentMode"in document&&(mi=document.documentMode);var z0=Cn&&"TextEvent"in window&&!mi,Yg=Cn&&(!Kc||mi&&8<mi&&11>=mi),ud=" ",cd=!1;function Xg(e,t){switch(e){case"keyup":return U0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ig(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function k0(e,t){switch(e){case"compositionend":return Ig(t);case"keypress":return t.which!==32?null:(cd=!0,ud);case"textInput":return e=t.data,e===ud&&cd?null:e;default:return null}}function M0(e,t){if(dr)return e==="compositionend"||!Kc&&Xg(e,t)?(e=Vg(),Yl=$c=Pn=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yg&&t.locale!=="ko"?null:t.data;default:return null}}var B0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B0[e.type]:t==="textarea"}function Jg(e,t,n,a){fr?Er?Er.push(a):Er=[a]:fr=a,t=xs(t,"onChange"),0<t.length&&(n=new Is("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var pi=null,Bi=null;function L0(e){Ky(e,0)}function Qs(e){var t=di(e);if(Lg(t))return e}function dd(e,t){if(e==="change")return t}var Qg=!1;if(Cn){var jo;if(Cn){var No="oninput"in document;if(!No){var hd=document.createElement("div");hd.setAttribute("oninput","return;"),No=typeof hd.oninput=="function"}jo=No}else jo=!1;Qg=jo&&(!document.documentMode||9<document.documentMode)}function gd(){pi&&(pi.detachEvent("onpropertychange",Zg),Bi=pi=null)}function Zg(e){if(e.propertyName==="value"&&Qs(Bi)){var t=[];Jg(t,Bi,e,Hc(e)),Kg(L0,t)}}function q0(e,t,n){e==="focusin"?(gd(),pi=t,Bi=n,pi.attachEvent("onpropertychange",Zg)):e==="focusout"&&gd()}function H0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qs(Bi)}function $0(e,t){if(e==="click")return Qs(t)}function G0(e,t){if(e==="input"||e==="change")return Qs(t)}function K0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:K0;function Li(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!Au.call(t,r)||!Dt(e[r],t[r]))return!1}return!0}function vd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yd(e,t){var n=vd(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vd(n)}}function Pg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=us(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=us(e.document)}return t}function Vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var V0=Cn&&"documentMode"in document&&11>=document.documentMode,hr=null,Nu=null,bi=null,Uu=!1;function md(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uu||hr==null||hr!==us(a)||(a=hr,"selectionStart"in a&&Vc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),bi&&Li(bi,a)||(bi=a,a=xs(Nu,"onSelect"),0<a.length&&(t=new Is("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=hr)))}function ma(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Uo={},Fg={};Cn&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function $a(e){if(Uo[e])return Uo[e];if(!gr[e])return e;var t=gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fg)return Uo[e]=t[n];return e}var ev=$a("animationend"),tv=$a("animationiteration"),nv=$a("animationstart"),Y0=$a("transitionrun"),X0=$a("transitionstart"),I0=$a("transitioncancel"),av=$a("transitionend"),rv=new Map,zu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zu.push("scrollEnd");function en(e,t){rv.set(e,t),qa(t,[e])}var cs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],vr=0,Yc=0;function Zs(){for(var e=vr,t=Yc=vr=0;t<e;){var n=Ut[t];Ut[t++]=null;var a=Ut[t];Ut[t++]=null;var r=Ut[t];Ut[t++]=null;var i=Ut[t];if(Ut[t++]=null,a!==null&&r!==null){var l=a.pending;l===null?r.next=r:(r.next=l.next,l.next=r),a.pending=r}i!==0&&iv(n,r,i)}}function Ps(e,t,n,a){Ut[vr++]=e,Ut[vr++]=t,Ut[vr++]=n,Ut[vr++]=a,Yc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Xc(e,t,n,a){return Ps(e,t,n,a),fs(e)}function Ga(e,t){return Ps(e,null,null,t),fs(e)}function iv(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var r=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(r=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,r&&t!==null&&(r=31-Rt(n),e=i.hiddenUpdates,a=e[r],a===null?e[r]=[t]:a.push(t),t.lane=n|536870912),i):null}function fs(e){if(50<Ri)throw Ri=0,tc=null,Error(U(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var yr={};function J0(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,a){return new J0(e,t,n,a)}function Ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function On(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function lv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Il(e,t,n,a,r,i){var l=0;if(a=e,typeof e=="function")Ic(e)&&(l=1);else if(typeof e=="string")l=Fb(e,n,fn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case wu:return e=St(31,n,t,r),e.elementType=wu,e.lanes=i,e;case or:return Ca(n.children,r,i,t);case Ag:l=8,r|=24;break;case pu:return e=St(12,n,t,r|2),e.elementType=pu,e.lanes=i,e;case bu:return e=St(13,n,t,r),e.elementType=bu,e.lanes=i,e;case _u:return e=St(19,n,t,r),e.elementType=_u,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case En:l=10;break e;case Og:l=9;break e;case Uc:l=11;break e;case zc:l=14;break e;case $n:l=16,a=null;break e}l=29,n=Error(U(130,e===null?"null":typeof e,"")),a=null}return t=St(l,n,t,r),t.elementType=e,t.type=a,t.lanes=i,t}function Ca(e,t,n,a){return e=St(7,e,a,t),e.lanes=n,e}function zo(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function sv(e){var t=St(18,null,null,0);return t.stateNode=e,t}function ko(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pd=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var n=pd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Wf(t)},pd.set(e,t),t)}return{value:e,source:t,stack:Wf(t)}}var mr=[],pr=0,ds=null,qi=0,Mt=[],Bt=0,ca=null,on=1,un="";function wn(e,t){mr[pr++]=qi,mr[pr++]=ds,ds=e,qi=t}function ov(e,t,n){Mt[Bt++]=on,Mt[Bt++]=un,Mt[Bt++]=ca,ca=e;var a=on;e=un;var r=32-Rt(a)-1;a&=~(1<<r),n+=1;var i=32-Rt(t)+r;if(30<i){var l=r-r%5;i=(a&(1<<l)-1).toString(32),a>>=l,r-=l,on=1<<32-Rt(t)+r|n<<r|a,un=i+e}else on=1<<i|n<<r|a,un=e}function Jc(e){e.return!==null&&(wn(e,1),ov(e,1,0))}function Qc(e){for(;e===ds;)ds=mr[--pr],mr[pr]=null,qi=mr[--pr],mr[pr]=null;for(;e===ca;)ca=Mt[--Bt],Mt[Bt]=null,un=Mt[--Bt],Mt[Bt]=null,on=Mt[--Bt],Mt[Bt]=null}function uv(e,t){Mt[Bt++]=on,Mt[Bt++]=un,Mt[Bt++]=ca,on=t.id,un=t.overflow,ca=e}var Ze=null,be=null,re=!1,na=null,Ht=!1,ku=Error(U(519));function fa(e){var t=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hi(qt(t,e)),ku}function bd(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Qe]=e,t[ft]=a,n){case"dialog":F("cancel",t),F("close",t);break;case"iframe":case"object":case"embed":F("load",t);break;case"video":case"audio":for(n=0;n<Vi.length;n++)F(Vi[n],t);break;case"source":F("error",t);break;case"img":case"image":case"link":F("error",t),F("load",t);break;case"details":F("toggle",t);break;case"input":F("invalid",t),qg(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":F("invalid",t);break;case"textarea":F("invalid",t),$g(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Yy(t.textContent,n)?(a.popover!=null&&(F("beforetoggle",t),F("toggle",t)),a.onScroll!=null&&F("scroll",t),a.onScrollEnd!=null&&F("scrollend",t),a.onClick!=null&&(t.onclick=Tn),t=!0):t=!1,t||fa(e,!0)}function _d(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:Ze=Ze.return}}function Xa(e){if(e!==Ze)return!1;if(!re)return _d(e),re=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||lc(e.type,e.memoizedProps)),n=!n),n&&be&&fa(e),_d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));be=lh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));be=lh(e)}else t===27?(t=be,va(e.type)?(e=cc,cc=null,be=e):be=t):be=Ze?Gt(e.stateNode.nextSibling):null;return!0}function Ua(){be=Ze=null,re=!1}function Mo(){var e=na;return e!==null&&(ut===null?ut=e:ut.push.apply(ut,e),na=null),e}function Hi(e){na===null?na=[e]:na.push(e)}var Mu=dn(null),Ka=null,An=null;function Yn(e,t,n){me(Mu,t._currentValue),t._currentValue=n}function xn(e){e._currentValue=Mu.current,Ke(Mu)}function Bu(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Lu(e,t,n,a){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null){var l=r.child;i=i.firstContext;e:for(;i!==null;){var s=i;i=r;for(var o=0;o<t.length;o++)if(s.context===t[o]){i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),Bu(i.return,n,e),a||(l=null);break e}i=s.next}}else if(r.tag===18){if(l=r.return,l===null)throw Error(U(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),Bu(l,n,e),l=null}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}}function Yr(e,t,n,a){e=null;for(var r=t,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var l=r.alternate;if(l===null)throw Error(U(387));if(l=l.memoizedProps,l!==null){var s=r.type;Dt(r.pendingProps.value,l.value)||(e!==null?e.push(s):e=[s])}}else if(r===is.current){if(l=r.alternate,l===null)throw Error(U(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Xi):e=[Xi])}r=r.return}e!==null&&Lu(t,e,n,a),t.flags|=262144}function hs(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function za(e){Ka=e,An=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pe(e){return cv(Ka,e)}function Rl(e,t){return Ka===null&&za(e),cv(e,t)}function cv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},An===null){if(e===null)throw Error(U(308));An=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else An=An.next=t;return n}var Q0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Z0=qe.unstable_scheduleCallback,P0=qe.unstable_NormalPriority,ze={$$typeof:En,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new Q0,data:new Map,refCount:0}}function ul(e){e.refCount--,e.refCount===0&&Z0(P0,function(){e.controller.abort()})}var _i=null,qu=0,Ur=0,Tr=null;function W0(e,t){if(_i===null){var n=_i=[];qu=0,Ur=Sf(),Tr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return qu++,t.then(wd,wd),t}function wd(){if(--qu===0&&_i!==null){Tr!==null&&(Tr.status="fulfilled");var e=_i;_i=null,Ur=0,Tr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function F0(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(a.status="rejected",a.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),a}var Sd=J.S;J.S=function(e,t){Ty=Ot(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&W0(e,t),Sd!==null&&Sd(e,t)};var Da=dn(null);function Pc(){var e=Da.current;return e!==null?e:ge.pooledCache}function Jl(e,t){t===null?me(Da,Da.current):me(Da,t.pool)}function fv(){var e=Pc();return e===null?null:{parent:ze._currentValue,pool:e}}var Xr=Error(U(460)),Wc=Error(U(474)),Ws=Error(U(542)),gs={then:function(){}};function Ed(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Tn,Tn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ad(e),e;default:if(typeof t.status=="string")t.then(Tn,Tn);else{if(e=ge,e!==null&&100<e.shellSuspendCounter)throw Error(U(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=a}},function(a){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ad(e),e}throw ja=t,Xr}}function Sa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ja=n,Xr):n}}var ja=null;function Td(){if(ja===null)throw Error(U(459));var e=ja;return ja=null,e}function Ad(e){if(e===Xr||e===Ws)throw Error(U(483))}var Ar=null,$i=0;function Cl(e){var t=$i;return $i+=1,Ar===null&&(Ar=[]),dv(Ar,e,t)}function li(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Dl(e,t){throw t.$$typeof===qp?Error(U(525)):(e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function hv(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function a(v){for(var g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function r(v,g){return v=On(v,g),v.index=0,v.sibling=null,v}function i(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=67108866,g):y):(v.flags|=67108866,g)):(v.flags|=1048576,g)}function l(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function s(v,g,y,b){return g===null||g.tag!==6?(g=zo(y,v.mode,b),g.return=v,g):(g=r(g,y),g.return=v,g)}function o(v,g,y,b){var C=y.type;return C===or?c(v,g,y.props.children,b,y.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$n&&Sa(C)===g.type)?(g=r(g,y.props),li(g,y),g.return=v,g):(g=Il(y.type,y.key,y.props,null,v.mode,b),li(g,y),g.return=v,g)}function u(v,g,y,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=ko(y,v.mode,b),g.return=v,g):(g=r(g,y.children||[]),g.return=v,g)}function c(v,g,y,b,C){return g===null||g.tag!==7?(g=Ca(y,v.mode,b,C),g.return=v,g):(g=r(g,y),g.return=v,g)}function d(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=zo(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Sl:return y=Il(g.type,g.key,g.props,null,v.mode,y),li(y,g),y.return=v,y;case ci:return g=ko(g,v.mode,y),g.return=v,g;case $n:return g=Sa(g),d(v,g,y)}if(fi(g)||ai(g))return g=Ca(g,v.mode,y,null),g.return=v,g;if(typeof g.then=="function")return d(v,Cl(g),y);if(g.$$typeof===En)return d(v,Rl(v,g),y);Dl(v,g)}return null}function f(v,g,y,b){var C=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return C!==null?null:s(v,g,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Sl:return y.key===C?o(v,g,y,b):null;case ci:return y.key===C?u(v,g,y,b):null;case $n:return y=Sa(y),f(v,g,y,b)}if(fi(y)||ai(y))return C!==null?null:c(v,g,y,b,null);if(typeof y.then=="function")return f(v,g,Cl(y),b);if(y.$$typeof===En)return f(v,g,Rl(v,y),b);Dl(v,y)}return null}function h(v,g,y,b,C){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return v=v.get(y)||null,s(g,v,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sl:return v=v.get(b.key===null?y:b.key)||null,o(g,v,b,C);case ci:return v=v.get(b.key===null?y:b.key)||null,u(g,v,b,C);case $n:return b=Sa(b),h(v,g,y,b,C)}if(fi(b)||ai(b))return v=v.get(y)||null,c(g,v,b,C,null);if(typeof b.then=="function")return h(v,g,y,Cl(b),C);if(b.$$typeof===En)return h(v,g,y,Rl(g,b),C);Dl(g,b)}return null}function m(v,g,y,b){for(var C=null,j=null,w=g,R=g=0,N=null;w!==null&&R<y.length;R++){w.index>R?(N=w,w=null):N=w.sibling;var k=f(v,w,y[R],b);if(k===null){w===null&&(w=N);break}e&&w&&k.alternate===null&&t(v,w),g=i(k,g,R),j===null?C=k:j.sibling=k,j=k,w=N}if(R===y.length)return n(v,w),re&&wn(v,R),C;if(w===null){for(;R<y.length;R++)w=d(v,y[R],b),w!==null&&(g=i(w,g,R),j===null?C=w:j.sibling=w,j=w);return re&&wn(v,R),C}for(w=a(w);R<y.length;R++)N=h(w,v,R,y[R],b),N!==null&&(e&&N.alternate!==null&&w.delete(N.key===null?R:N.key),g=i(N,g,R),j===null?C=N:j.sibling=N,j=N);return e&&w.forEach(function(L){return t(v,L)}),re&&wn(v,R),C}function p(v,g,y,b){if(y==null)throw Error(U(151));for(var C=null,j=null,w=g,R=g=0,N=null,k=y.next();w!==null&&!k.done;R++,k=y.next()){w.index>R?(N=w,w=null):N=w.sibling;var L=f(v,w,k.value,b);if(L===null){w===null&&(w=N);break}e&&w&&L.alternate===null&&t(v,w),g=i(L,g,R),j===null?C=L:j.sibling=L,j=L,w=N}if(k.done)return n(v,w),re&&wn(v,R),C;if(w===null){for(;!k.done;R++,k=y.next())k=d(v,k.value,b),k!==null&&(g=i(k,g,R),j===null?C=k:j.sibling=k,j=k);return re&&wn(v,R),C}for(w=a(w);!k.done;R++,k=y.next())k=h(w,v,R,k.value,b),k!==null&&(e&&k.alternate!==null&&w.delete(k.key===null?R:k.key),g=i(k,g,R),j===null?C=k:j.sibling=k,j=k);return e&&w.forEach(function(G){return t(v,G)}),re&&wn(v,R),C}function _(v,g,y,b){if(typeof y=="object"&&y!==null&&y.type===or&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Sl:e:{for(var C=y.key;g!==null;){if(g.key===C){if(C=y.type,C===or){if(g.tag===7){n(v,g.sibling),b=r(g,y.props.children),b.return=v,v=b;break e}}else if(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$n&&Sa(C)===g.type){n(v,g.sibling),b=r(g,y.props),li(b,y),b.return=v,v=b;break e}n(v,g);break}else t(v,g);g=g.sibling}y.type===or?(b=Ca(y.props.children,v.mode,b,y.key),b.return=v,v=b):(b=Il(y.type,y.key,y.props,null,v.mode,b),li(b,y),b.return=v,v=b)}return l(v);case ci:e:{for(C=y.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),b=r(g,y.children||[]),b.return=v,v=b;break e}else{n(v,g);break}else t(v,g);g=g.sibling}b=ko(y,v.mode,b),b.return=v,v=b}return l(v);case $n:return y=Sa(y),_(v,g,y,b)}if(fi(y))return m(v,g,y,b);if(ai(y)){if(C=ai(y),typeof C!="function")throw Error(U(150));return y=C.call(y),p(v,g,y,b)}if(typeof y.then=="function")return _(v,g,Cl(y),b);if(y.$$typeof===En)return _(v,g,Rl(v,y),b);Dl(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),b=r(g,y),b.return=v,v=b):(n(v,g),b=zo(y,v.mode,b),b.return=v,v=b),l(v)):n(v,g)}return function(v,g,y,b){try{$i=0;var C=_(v,g,y,b);return Ar=null,C}catch(w){if(w===Xr||w===Ws)throw w;var j=St(29,w,null,v.mode);return j.lanes=b,j.return=v,j}finally{}}}var ka=hv(!0),gv=hv(!1),Gn=!1;function Fc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ra(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,se&2){var r=a.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=fs(e),iv(e,null,n),t}return Ps(e,a,t,n),fs(e)}function wi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ng(e,n)}}function Bo(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var $u=!1;function Si(){if($u){var e=Tr;if(e!==null)throw e}}function Ei(e,t,n,a){$u=!1;var r=e.updateQueue;Gn=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,s=r.shared.pending;if(s!==null){r.shared.pending=null;var o=s,u=o.next;o.next=null,l===null?i=u:l.next=u,l=o;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==l&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=o))}if(i!==null){var d=r.baseState;l=0,c=u=o=null,s=i;do{var f=s.lane&-536870913,h=f!==s.lane;if(h?(te&f)===f:(a&f)===f){f!==0&&f===Ur&&($u=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,p=s;f=t;var _=n;switch(p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(_,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(_,d,f):m,f==null)break e;d=we({},d,f);break e;case 2:Gn=!0}}f=s.callback,f!==null&&(e.flags|=64,h&&(e.flags|=8192),h=r.callbacks,h===null?r.callbacks=[f]:h.push(f))}else h={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,o=d):c=c.next=h,l|=f;if(s=s.next,s===null){if(s=r.shared.pending,s===null)break;h=s,s=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);c===null&&(o=d),r.baseState=o,r.firstBaseUpdate=u,r.lastBaseUpdate=c,i===null&&(r.shared.lanes=0),ha|=l,e.lanes=l,e.memoizedState=d}}function vv(e,t){if(typeof e!="function")throw Error(U(191,e));e.call(t)}function yv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)vv(n[e],t)}var zr=dn(null),vs=dn(0);function Od(e,t){e=Un,me(vs,e),me(zr,t),Un=e|t.baseLanes}function Gu(){me(vs,Un),me(zr,zr.current)}function ef(){Un=vs.current,Ke(zr),Ke(vs)}var jt=dn(null),$t=null;function Xn(e){var t=e.alternate;me(Re,Re.current&1),me(jt,e),$t===null&&(t===null||zr.current!==null||t.memoizedState!==null)&&($t=e)}function Ku(e){me(Re,Re.current),me(jt,e),$t===null&&($t=e)}function mv(e){e.tag===22?(me(Re,Re.current),me(jt,e),$t===null&&($t=e)):In()}function In(){me(Re,Re.current),me(jt,jt.current)}function wt(e){Ke(jt),$t===e&&($t=null),Ke(Re)}var Re=dn(0);function ys(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||oc(n)||uc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dn=0,P=null,he=null,Ne=null,ms=!1,Or=!1,Ma=!1,ps=0,Gi=0,xr=null,eb=0;function Ae(){throw Error(U(321))}function tf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function nf(e,t,n,a,r,i){return Dn=i,P=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,J.H=e===null||e.memoizedState===null?Jv:gf,Ma=!1,i=n(a,r),Ma=!1,Or&&(i=bv(t,n,a,r)),pv(e),i}function pv(e){J.H=Ki;var t=he!==null&&he.next!==null;if(Dn=0,Ne=he=P=null,ms=!1,Gi=0,xr=null,t)throw Error(U(300));e===null||ke||(e=e.dependencies,e!==null&&hs(e)&&(ke=!0))}function bv(e,t,n,a){P=e;var r=0;do{if(Or&&(xr=null),Gi=0,Or=!1,25<=r)throw Error(U(301));if(r+=1,Ne=he=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}J.H=Qv,i=t(n,a)}while(Or);return i}function tb(){var e=J.H,t=e.useState()[0];return t=typeof t.then=="function"?cl(t):t,e=e.useState()[0],(he!==null?he.memoizedState:null)!==e&&(P.flags|=1024),t}function af(){var e=ps!==0;return ps=0,e}function rf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function lf(e){if(ms){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ms=!1}Dn=0,Ne=he=P=null,Or=!1,Gi=ps=0,xr=null}function tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?P.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function Ce(){if(he===null){var e=P.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=Ne===null?P.memoizedState:Ne.next;if(t!==null)Ne=t,he=e;else{if(e===null)throw P.alternate===null?Error(U(467)):Error(U(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Ne===null?P.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Fs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var t=Gi;return Gi+=1,xr===null&&(xr=[]),e=dv(xr,e,t),t=P,(Ne===null?t.memoizedState:Ne.next)===null&&(t=t.alternate,J.H=t===null||t.memoizedState===null?Jv:gf),e}function eo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===En)return Pe(e)}throw Error(U(438,String(e)))}function sf(e){var t=null,n=P.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=P.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Fs(),P.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Hp;return t.index++,n}function jn(e,t){return typeof t=="function"?t(e):t}function Ql(e){var t=Ce();return of(t,he,e)}function of(e,t,n){var a=e.queue;if(a===null)throw Error(U(311));a.lastRenderedReducer=n;var r=e.baseQueue,i=a.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}t.baseQueue=r=i,a.pending=null}if(i=e.baseState,r===null)e.memoizedState=i;else{t=r.next;var s=l=null,o=null,u=t,c=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(te&d)===d:(Dn&d)===d){var f=u.revertLane;if(f===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Ur&&(c=!0);else if((Dn&f)===f){u=u.next,f===Ur&&(c=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(s=o=d,l=i):o=o.next=d,P.lanes|=f,ha|=f;d=u.action,Ma&&n(i,d),i=u.hasEagerState?u.eagerState:n(i,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(s=o=f,l=i):o=o.next=f,P.lanes|=d,ha|=d;u=u.next}while(u!==null&&u!==t);if(o===null?l=i:o.next=s,!Dt(i,e.memoizedState)&&(ke=!0,c&&(n=Tr,n!==null)))throw n;e.memoizedState=i,e.baseState=l,e.baseQueue=o,a.lastRenderedState=i}return r===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Lo(e){var t=Ce(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=e(i,l.action),l=l.next;while(l!==r);Dt(i,t.memoizedState)||(ke=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function _v(e,t,n){var a=P,r=Ce(),i=re;if(i){if(n===void 0)throw Error(U(407));n=n()}else n=t();var l=!Dt((he||r).memoizedState,n);if(l&&(r.memoizedState=n,ke=!0),r=r.queue,uf(Ev.bind(null,a,r,e),[e]),r.getSnapshot!==t||l||Ne!==null&&Ne.memoizedState.tag&1){if(a.flags|=2048,kr(9,{destroy:void 0},Sv.bind(null,a,r,n,t),null),ge===null)throw Error(U(349));i||Dn&127||wv(a,t,n)}return n}function wv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=P.updateQueue,t===null?(t=Fs(),P.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sv(e,t,n,a){t.value=n,t.getSnapshot=a,Tv(t)&&Av(e)}function Ev(e,t,n){return n(function(){Tv(t)&&Av(e)})}function Tv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function Av(e){var t=Ga(e,2);t!==null&&ct(t,e,2)}function Vu(e){var t=tt();if(typeof e=="function"){var n=e;if(e=n(),Ma){Zn(!0);try{n()}finally{Zn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:e},t}function Ov(e,t,n,a){return e.baseState=n,of(e,he,typeof a=="function"?a:jn)}function nb(e,t,n,a,r){if(no(e))throw Error(U(485));if(e=t.action,e!==null){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){i.listeners.push(l)}};J.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,xv(t,i)):(i.next=n.next,t.pending=n.next=i)}}function xv(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var i=J.T,l={};J.T=l;try{var s=n(r,a),o=J.S;o!==null&&o(l,s),xd(e,t,s)}catch(u){Yu(e,t,u)}finally{i!==null&&l.types!==null&&(i.types=l.types),J.T=i}}else try{i=n(r,a),xd(e,t,i)}catch(u){Yu(e,t,u)}}function xd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Rd(e,t,a)},function(a){return Yu(e,t,a)}):Rd(e,t,n)}function Rd(e,t,n){t.status="fulfilled",t.value=n,Rv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,xv(e,n)))}function Yu(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Rv(t),t=t.next;while(t!==a)}e.action=null}function Rv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cv(e,t){return t}function Cd(e,t){if(re){var n=ge.formState;if(n!==null){e:{var a=P;if(re){if(be){t:{for(var r=be,i=Ht;r.nodeType!==8;){if(!i){r=null;break t}if(r=Gt(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){be=Gt(r.nextSibling),a=r.data==="F!";break e}}fa(a)}a=!1}a&&(t=n[0])}}return n=tt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cv,lastRenderedState:t},n.queue=a,n=Yv.bind(null,P,a),a.dispatch=n,a=Vu(!1),i=hf.bind(null,P,!1,a.queue),a=tt(),r={state:t,dispatch:null,action:e,pending:null},a.queue=r,n=nb.bind(null,P,r,i,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function Dd(e){var t=Ce();return Dv(t,he,e)}function Dv(e,t,n){if(t=of(e,t,Cv)[0],e=Ql(jn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=cl(t)}catch(l){throw l===Xr?Ws:l}else a=t;t=Ce();var r=t.queue,i=r.dispatch;return n!==t.memoizedState&&(P.flags|=2048,kr(9,{destroy:void 0},ab.bind(null,r,n),null)),[a,i,e]}function ab(e,t){e.action=t}function jd(e){var t=Ce(),n=he;if(n!==null)return Dv(t,n,e);Ce(),t=t.memoizedState,n=Ce();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function kr(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=P.updateQueue,t===null&&(t=Fs(),P.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function jv(){return Ce().memoizedState}function Zl(e,t,n,a){var r=tt();P.flags|=e,r.memoizedState=kr(1|t,{destroy:void 0},n,a===void 0?null:a)}function to(e,t,n,a){var r=Ce();a=a===void 0?null:a;var i=r.memoizedState.inst;he!==null&&a!==null&&tf(a,he.memoizedState.deps)?r.memoizedState=kr(t,i,n,a):(P.flags|=e,r.memoizedState=kr(1|t,i,n,a))}function Nd(e,t){Zl(8390656,8,e,t)}function uf(e,t){to(2048,8,e,t)}function rb(e){P.flags|=4;var t=P.updateQueue;if(t===null)t=Fs(),P.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Nv(e){var t=Ce().memoizedState;return rb({ref:t,nextImpl:e}),function(){if(se&2)throw Error(U(440));return t.impl.apply(void 0,arguments)}}function Uv(e,t){return to(4,2,e,t)}function zv(e,t){return to(4,4,e,t)}function kv(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mv(e,t,n){n=n!=null?n.concat([e]):null,to(4,4,kv.bind(null,t,e),n)}function cf(){}function Bv(e,t){var n=Ce();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&tf(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Lv(e,t){var n=Ce();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&tf(t,a[1]))return a[0];if(a=e(),Ma){Zn(!0);try{e()}finally{Zn(!1)}}return n.memoizedState=[a,t],a}function ff(e,t,n){return n===void 0||Dn&1073741824&&!(te&261930)?e.memoizedState=t:(e.memoizedState=n,e=Oy(),P.lanes|=e,ha|=e,n)}function qv(e,t,n,a){return Dt(n,t)?n:zr.current!==null?(e=ff(e,n,a),Dt(e,t)||(ke=!0),e):!(Dn&42)||Dn&1073741824&&!(te&261930)?(ke=!0,e.memoizedState=n):(e=Oy(),P.lanes|=e,ha|=e,t)}function Hv(e,t,n,a,r){var i=oe.p;oe.p=i!==0&&8>i?i:8;var l=J.T,s={};J.T=s,hf(e,!1,t,n);try{var o=r(),u=J.S;if(u!==null&&u(s,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=F0(o,a);Ti(e,t,c,Ct(e))}else Ti(e,t,a,Ct(e))}catch(d){Ti(e,t,{then:function(){},status:"rejected",reason:d},Ct())}finally{oe.p=i,l!==null&&s.types!==null&&(l.types=s.types),J.T=l}}function ib(){}function Xu(e,t,n,a){if(e.tag!==5)throw Error(U(476));var r=$v(e).queue;Hv(e,r,t,Ra,n===null?ib:function(){return Gv(e),n(a)})}function $v(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ra,baseState:Ra,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:Ra},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Gv(e){var t=$v(e);t.next===null&&(t=e.alternate.memoizedState),Ti(e,t.next.queue,{},Ct())}function df(){return Pe(Xi)}function Kv(){return Ce().memoizedState}function Vv(){return Ce().memoizedState}function lb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ct();e=aa(n);var a=ra(t,e,n);a!==null&&(ct(a,t,n),wi(a,t,n)),t={cache:Zc()},e.payload=t;return}t=t.return}}function sb(e,t,n){var a=Ct();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},no(e)?Xv(t,n):(n=Xc(e,t,n,a),n!==null&&(ct(n,e,a),Iv(n,t,a)))}function Yv(e,t,n){var a=Ct();Ti(e,t,n,a)}function Ti(e,t,n,a){var r={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))Xv(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,s=i(l,n);if(r.hasEagerState=!0,r.eagerState=s,Dt(s,l))return Ps(e,t,r,0),ge===null&&Zs(),!1}catch{}finally{}if(n=Xc(e,t,r,a),n!==null)return ct(n,e,a),Iv(n,t,a),!0}return!1}function hf(e,t,n,a){if(a={lane:2,revertLane:Sf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},no(e)){if(t)throw Error(U(479))}else t=Xc(e,n,a,2),t!==null&&ct(t,e,2)}function no(e){var t=e.alternate;return e===P||t!==null&&t===P}function Xv(e,t){Or=ms=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Iv(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ng(e,n)}}var Ki={readContext:Pe,use:eo,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae};Ki.useEffectEvent=Ae;var Jv={readContext:Pe,use:eo,useCallback:function(e,t){return tt().memoizedState=[e,t===void 0?null:t],e},useContext:Pe,useEffect:Nd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Zl(4194308,4,kv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zl(4194308,4,e,t)},useInsertionEffect:function(e,t){Zl(4,2,e,t)},useMemo:function(e,t){var n=tt();t=t===void 0?null:t;var a=e();if(Ma){Zn(!0);try{e()}finally{Zn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=tt();if(n!==void 0){var r=n(t);if(Ma){Zn(!0);try{n(t)}finally{Zn(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=sb.bind(null,P,e),[a.memoizedState,e]},useRef:function(e){var t=tt();return e={current:e},t.memoizedState=e},useState:function(e){e=Vu(e);var t=e.queue,n=Yv.bind(null,P,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:cf,useDeferredValue:function(e,t){var n=tt();return ff(n,e,t)},useTransition:function(){var e=Vu(!1);return e=Hv.bind(null,P,e.queue,!0,!1),tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=P,r=tt();if(re){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),ge===null)throw Error(U(349));te&127||wv(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Nd(Ev.bind(null,a,i,e),[e]),a.flags|=2048,kr(9,{destroy:void 0},Sv.bind(null,a,i,n,t),null),n},useId:function(){var e=tt(),t=ge.identifierPrefix;if(re){var n=un,a=on;n=(a&~(1<<32-Rt(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ps++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=eb++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:df,useFormState:Cd,useActionState:Cd,useOptimistic:function(e){var t=tt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=hf.bind(null,P,!0,n),n.dispatch=t,[e,t]},useMemoCache:sf,useCacheRefresh:function(){return tt().memoizedState=lb.bind(null,P)},useEffectEvent:function(e){var t=tt(),n={impl:e};return t.memoizedState=n,function(){if(se&2)throw Error(U(440));return n.impl.apply(void 0,arguments)}}},gf={readContext:Pe,use:eo,useCallback:Bv,useContext:Pe,useEffect:uf,useImperativeHandle:Mv,useInsertionEffect:Uv,useLayoutEffect:zv,useMemo:Lv,useReducer:Ql,useRef:jv,useState:function(){return Ql(jn)},useDebugValue:cf,useDeferredValue:function(e,t){var n=Ce();return qv(n,he.memoizedState,e,t)},useTransition:function(){var e=Ql(jn)[0],t=Ce().memoizedState;return[typeof e=="boolean"?e:cl(e),t]},useSyncExternalStore:_v,useId:Kv,useHostTransitionStatus:df,useFormState:Dd,useActionState:Dd,useOptimistic:function(e,t){var n=Ce();return Ov(n,he,e,t)},useMemoCache:sf,useCacheRefresh:Vv};gf.useEffectEvent=Nv;var Qv={readContext:Pe,use:eo,useCallback:Bv,useContext:Pe,useEffect:uf,useImperativeHandle:Mv,useInsertionEffect:Uv,useLayoutEffect:zv,useMemo:Lv,useReducer:Lo,useRef:jv,useState:function(){return Lo(jn)},useDebugValue:cf,useDeferredValue:function(e,t){var n=Ce();return he===null?ff(n,e,t):qv(n,he.memoizedState,e,t)},useTransition:function(){var e=Lo(jn)[0],t=Ce().memoizedState;return[typeof e=="boolean"?e:cl(e),t]},useSyncExternalStore:_v,useId:Kv,useHostTransitionStatus:df,useFormState:jd,useActionState:jd,useOptimistic:function(e,t){var n=Ce();return he!==null?Ov(n,he,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:sf,useCacheRefresh:Vv};Qv.useEffectEvent=Nv;function qo(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Iu={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Ct(),r=aa(a);r.payload=t,n!=null&&(r.callback=n),t=ra(e,r,a),t!==null&&(ct(t,e,a),wi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Ct(),r=aa(a);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=ra(e,r,a),t!==null&&(ct(t,e,a),wi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ct(),a=aa(n);a.tag=2,t!=null&&(a.callback=t),t=ra(e,a,n),t!==null&&(ct(t,e,n),wi(t,e,n))}};function Ud(e,t,n,a,r,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):t.prototype&&t.prototype.isPureReactComponent?!Li(n,a)||!Li(r,i):!0}function zd(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Iu.enqueueReplaceState(t,t.state,null)}function Ba(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=we({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function Zv(e){cs(e)}function Pv(e){console.error(e)}function Wv(e){cs(e)}function bs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function kd(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ju(e,t,n){return n=aa(n),n.tag=3,n.payload={element:null},n.callback=function(){bs(e,t)},n}function Fv(e){return e=aa(e),e.tag=3,e}function ey(e,t,n,a){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=a.value;e.payload=function(){return r(i)},e.callback=function(){kd(t,n,a)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){kd(t,n,a),typeof r!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var s=a.stack;this.componentDidCatch(a.value,{componentStack:s!==null?s:""})})}function ob(e,t,n,a,r){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Yr(t,n,r,!0),n=jt.current,n!==null){switch(n.tag){case 31:case 13:return $t===null?Ts():n.alternate===null&&xe===0&&(xe=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===gs?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Zo(e,a,r)),!1;case 22:return n.flags|=65536,a===gs?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Zo(e,a,r)),!1}throw Error(U(435,n.tag))}return Zo(e,a,r),Ts(),!1}if(re)return t=jt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==ku&&(e=Error(U(422),{cause:a}),Hi(qt(e,n)))):(a!==ku&&(t=Error(U(423),{cause:a}),Hi(qt(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,a=qt(a,n),r=Ju(e.stateNode,a,r),Bo(e,r),xe!==4&&(xe=2)),!1;var i=Error(U(520),{cause:a});if(i=qt(i,n),xi===null?xi=[i]:xi.push(i),xe!==4&&(xe=2),t===null)return!0;a=qt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Ju(n.stateNode,a,e),Bo(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ia===null||!ia.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Fv(r),ey(r,e,n,a),Bo(n,r),!1}n=n.return}while(n!==null);return!1}var vf=Error(U(461)),ke=!1;function Je(e,t,n,a){t.child=e===null?gv(t,null,n,a):ka(t,e.child,n,a)}function Md(e,t,n,a,r){n=n.render;var i=t.ref;if("ref"in a){var l={};for(var s in a)s!=="ref"&&(l[s]=a[s])}else l=a;return za(t),a=nf(e,t,n,l,i,r),s=af(),e!==null&&!ke?(rf(e,t,r),Nn(e,t,r)):(re&&s&&Jc(t),t.flags|=1,Je(e,t,a,r),t.child)}function Bd(e,t,n,a,r){if(e===null){var i=n.type;return typeof i=="function"&&!Ic(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,ty(e,t,i,a,r)):(e=Il(n.type,null,a,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!yf(e,r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Li,n(l,a)&&e.ref===t.ref)return Nn(e,t,r)}return t.flags|=1,e=On(i,a),e.ref=t.ref,e.return=t,t.child=e}function ty(e,t,n,a,r){if(e!==null){var i=e.memoizedProps;if(Li(i,a)&&e.ref===t.ref)if(ke=!1,t.pendingProps=a=i,yf(e,r))e.flags&131072&&(ke=!0);else return t.lanes=e.lanes,Nn(e,t,r)}return Qu(e,t,n,a,r)}function ny(e,t,n,a){var r=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,r=0;a!==null;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~i}else a=0,t.child=null;return Ld(e,t,i,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jl(t,i!==null?i.cachePool:null),i!==null?Od(t,i):Gu(),mv(t);else return a=t.lanes=536870912,Ld(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(Jl(t,i.cachePool),Od(t,i),In(),t.memoizedState=null):(e!==null&&Jl(t,null),Gu(),In());return Je(e,t,r,n),t.child}function hi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ld(e,t,n,a,r){var i=Pc();return i=i===null?null:{parent:ze._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Jl(t,null),Gu(),mv(t),e!==null&&Yr(e,t,a,!0),t.childLanes=r,null}function Pl(e,t){return t=_s({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qd(e,t,n){return ka(t,e.child,null,n),e=Pl(t,t.pendingProps),e.flags|=2,wt(t),t.memoizedState=null,e}function ub(e,t,n){var a=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(re){if(a.mode==="hidden")return e=Pl(t,a),t.lanes=536870912,hi(null,e);if(Ku(t),(e=be)?(e=Jy(e,Ht),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ca!==null?{id:on,overflow:un}:null,retryLane:536870912,hydrationErrors:null},n=sv(e),n.return=t,t.child=n,Ze=t,be=null)):e=null,e===null)throw fa(t);return t.lanes=536870912,null}return Pl(t,a)}var i=e.memoizedState;if(i!==null){var l=i.dehydrated;if(Ku(t),r)if(t.flags&256)t.flags&=-257,t=qd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(U(558));else if(ke||Yr(e,t,n,!1),r=(n&e.childLanes)!==0,ke||r){if(a=ge,a!==null&&(l=Ug(a,n),l!==0&&l!==i.retryLane))throw i.retryLane=l,Ga(e,l),ct(a,e,l),vf;Ts(),t=qd(e,t,n)}else e=i.treeContext,be=Gt(l.nextSibling),Ze=t,re=!0,na=null,Ht=!1,e!==null&&uv(t,e),t=Pl(t,a),t.flags|=4096;return t}return e=On(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Wl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Qu(e,t,n,a,r){return za(t),n=nf(e,t,n,a,void 0,r),a=af(),e!==null&&!ke?(rf(e,t,r),Nn(e,t,r)):(re&&a&&Jc(t),t.flags|=1,Je(e,t,n,r),t.child)}function Hd(e,t,n,a,r,i){return za(t),t.updateQueue=null,n=bv(t,a,n,r),pv(e),a=af(),e!==null&&!ke?(rf(e,t,i),Nn(e,t,i)):(re&&a&&Jc(t),t.flags|=1,Je(e,t,n,i),t.child)}function $d(e,t,n,a,r){if(za(t),t.stateNode===null){var i=yr,l=n.contextType;typeof l=="object"&&l!==null&&(i=Pe(l)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Iu,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},Fc(t),l=n.contextType,i.context=typeof l=="object"&&l!==null?Pe(l):yr,i.state=t.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(qo(t,n,l,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(l=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),l!==i.state&&Iu.enqueueReplaceState(i,i.state,null),Ei(t,a,i,r),Si(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var s=t.memoizedProps,o=Ba(n,s);i.props=o;var u=i.context,c=n.contextType;l=yr,typeof c=="object"&&c!==null&&(l=Pe(c));var d=n.getDerivedStateFromProps;c=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,c||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s||u!==l)&&zd(t,i,a,l),Gn=!1;var f=t.memoizedState;i.state=f,Ei(t,a,i,r),Si(),u=t.memoizedState,s||f!==u||Gn?(typeof d=="function"&&(qo(t,n,d,a),u=t.memoizedState),(o=Gn||Ud(t,n,o,a,f,u,l))?(c||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),i.props=a,i.state=u,i.context=l,a=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Hu(e,t),l=t.memoizedProps,c=Ba(n,l),i.props=c,d=t.pendingProps,f=i.context,u=n.contextType,o=yr,typeof u=="object"&&u!==null&&(o=Pe(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||f!==o)&&zd(t,i,a,o),Gn=!1,f=t.memoizedState,i.state=f,Ei(t,a,i,r),Si();var h=t.memoizedState;l!==d||f!==h||Gn||e!==null&&e.dependencies!==null&&hs(e.dependencies)?(typeof s=="function"&&(qo(t,n,s,a),h=t.memoizedState),(c=Gn||Ud(t,n,c,a,f,h,o)||e!==null&&e.dependencies!==null&&hs(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,h,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,h,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),i.props=a,i.state=h,i.context=o,a=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Wl(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=ka(t,e.child,null,r),t.child=ka(t,null,n,r)):Je(e,t,n,r),t.memoizedState=i.state,e=t.child):e=Nn(e,t,r),e}function Gd(e,t,n,a){return Ua(),t.flags|=256,Je(e,t,n,a),t.child}var Ho={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $o(e){return{baseLanes:e,cachePool:fv()}}function Go(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=At),e}function ay(e,t,n){var a=t.pendingProps,r=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),l&&(r=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(re){if(r?Xn(t):In(),(e=be)?(e=Jy(e,Ht),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ca!==null?{id:on,overflow:un}:null,retryLane:536870912,hydrationErrors:null},n=sv(e),n.return=t,t.child=n,Ze=t,be=null)):e=null,e===null)throw fa(t);return uc(e)?t.lanes=32:t.lanes=536870912,null}var s=a.children;return a=a.fallback,r?(In(),r=t.mode,s=_s({mode:"hidden",children:s},r),a=Ca(a,r,n,null),s.return=t,a.return=t,s.sibling=a,t.child=s,a=t.child,a.memoizedState=$o(n),a.childLanes=Go(e,l,n),t.memoizedState=Ho,hi(null,a)):(Xn(t),Zu(t,s))}var o=e.memoizedState;if(o!==null&&(s=o.dehydrated,s!==null)){if(i)t.flags&256?(Xn(t),t.flags&=-257,t=Ko(e,t,n)):t.memoizedState!==null?(In(),t.child=e.child,t.flags|=128,t=null):(In(),s=a.fallback,r=t.mode,a=_s({mode:"visible",children:a.children},r),s=Ca(s,r,n,null),s.flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,ka(t,e.child,null,n),a=t.child,a.memoizedState=$o(n),a.childLanes=Go(e,l,n),t.memoizedState=Ho,t=hi(null,a));else if(Xn(t),uc(s)){if(l=s.nextSibling&&s.nextSibling.dataset,l)var u=l.dgst;l=u,a=Error(U(419)),a.stack="",a.digest=l,Hi({value:a,source:null,stack:null}),t=Ko(e,t,n)}else if(ke||Yr(e,t,n,!1),l=(n&e.childLanes)!==0,ke||l){if(l=ge,l!==null&&(a=Ug(l,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Ga(e,a),ct(l,e,a),vf;oc(s)||Ts(),t=Ko(e,t,n)}else oc(s)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,be=Gt(s.nextSibling),Ze=t,re=!0,na=null,Ht=!1,e!==null&&uv(t,e),t=Zu(t,a.children),t.flags|=4096);return t}return r?(In(),s=a.fallback,r=t.mode,o=e.child,u=o.sibling,a=On(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,u!==null?s=On(u,s):(s=Ca(s,r,n,null),s.flags|=2),s.return=t,a.return=t,a.sibling=s,t.child=a,hi(null,a),a=t.child,s=e.child.memoizedState,s===null?s=$o(n):(r=s.cachePool,r!==null?(o=ze._currentValue,r=r.parent!==o?{parent:o,pool:o}:r):r=fv(),s={baseLanes:s.baseLanes|n,cachePool:r}),a.memoizedState=s,a.childLanes=Go(e,l,n),t.memoizedState=Ho,hi(e.child,a)):(Xn(t),n=e.child,e=n.sibling,n=On(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=n,t.memoizedState=null,n)}function Zu(e,t){return t=_s({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function _s(e,t){return e=St(22,e,null,t),e.lanes=0,e}function Ko(e,t,n){return ka(t,e.child,null,n),e=Zu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kd(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Bu(e.return,t,n)}function Vo(e,t,n,a,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=n,l.tailMode=r,l.treeForkCount=i)}function ry(e,t,n){var a=t.pendingProps,r=a.revealOrder,i=a.tail;a=a.children;var l=Re.current,s=(l&2)!==0;if(s?(l=l&1|2,t.flags|=128):l&=1,me(Re,l),Je(e,t,a,n),a=re?qi:0,!s&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kd(e,n,t);else if(e.tag===19)Kd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ys(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Vo(t,!1,r,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ys(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Vo(t,!0,n,null,i,a);break;case"together":Vo(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Nn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ha|=t.lanes,!(n&t.childLanes))if(e!==null){if(Yr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=On(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=On(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&hs(e)))}function cb(e,t,n){switch(t.tag){case 3:ls(t,t.stateNode.containerInfo),Yn(t,ze,e.memoizedState.cache),Ua();break;case 27:case 5:Tu(t);break;case 4:ls(t,t.stateNode.containerInfo);break;case 10:Yn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ku(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Xn(t),t.flags|=128,null):n&t.child.childLanes?ay(e,t,n):(Xn(t),e=Nn(e,t,n),e!==null?e.sibling:null);Xn(t);break;case 19:var r=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Yr(e,t,n,!1),a=(n&t.childLanes)!==0),r){if(a)return ry(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),me(Re,Re.current),a)break;return null;case 22:return t.lanes=0,ny(e,t,n,t.pendingProps);case 24:Yn(t,ze,e.memoizedState.cache)}return Nn(e,t,n)}function iy(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ke=!0;else{if(!yf(e,n)&&!(t.flags&128))return ke=!1,cb(e,t,n);ke=!!(e.flags&131072)}else ke=!1,re&&t.flags&1048576&&ov(t,qi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Sa(t.elementType),t.type=e,typeof e=="function")Ic(e)?(a=Ba(e,a),t.tag=1,t=$d(null,t,e,a,n)):(t.tag=0,t=Qu(null,t,e,a,n));else{if(e!=null){var r=e.$$typeof;if(r===Uc){t.tag=11,t=Md(null,t,e,a,n);break e}else if(r===zc){t.tag=14,t=Bd(null,t,e,a,n);break e}}throw t=Su(e)||e,Error(U(306,t,""))}}return t;case 0:return Qu(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,r=Ba(a,t.pendingProps),$d(e,t,a,r,n);case 3:e:{if(ls(t,t.stateNode.containerInfo),e===null)throw Error(U(387));a=t.pendingProps;var i=t.memoizedState;r=i.element,Hu(e,t),Ei(t,a,null,n);var l=t.memoizedState;if(a=l.cache,Yn(t,ze,a),a!==i.cache&&Lu(t,[ze],n,!0),Si(),a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Gd(e,t,a,n);break e}else if(a!==r){r=qt(Error(U(424)),t),Hi(r),t=Gd(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(be=Gt(e.firstChild),Ze=t,re=!0,na=null,Ht=!0,n=gv(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ua(),a===r){t=Nn(e,t,n);break e}Je(e,t,a,n)}t=t.child}return t;case 26:return Wl(e,t),e===null?(n=uh(t.type,null,t.pendingProps,null))?t.memoizedState=n:re||(n=t.type,e=t.pendingProps,a=Rs(ta.current).createElement(n),a[Qe]=t,a[ft]=e,We(a,n,e),Ge(a),t.stateNode=a):t.memoizedState=uh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Tu(t),e===null&&re&&(a=t.stateNode=Qy(t.type,t.pendingProps,ta.current),Ze=t,Ht=!0,r=be,va(t.type)?(cc=r,be=Gt(a.firstChild)):be=r),Je(e,t,t.pendingProps.children,n),Wl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&re&&((r=a=be)&&(a=Hb(a,t.type,t.pendingProps,Ht),a!==null?(t.stateNode=a,Ze=t,be=Gt(a.firstChild),Ht=!1,r=!0):r=!1),r||fa(t)),Tu(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,a=i.children,lc(r,i)?a=null:l!==null&&lc(r,l)&&(t.flags|=32),t.memoizedState!==null&&(r=nf(e,t,tb,null,null,n),Xi._currentValue=r),Wl(e,t),Je(e,t,a,n),t.child;case 6:return e===null&&re&&((e=n=be)&&(n=$b(n,t.pendingProps,Ht),n!==null?(t.stateNode=n,Ze=t,be=null,e=!0):e=!1),e||fa(t)),null;case 13:return ay(e,t,n);case 4:return ls(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ka(t,null,a,n):Je(e,t,a,n),t.child;case 11:return Md(e,t,t.type,t.pendingProps,n);case 7:return Je(e,t,t.pendingProps,n),t.child;case 8:return Je(e,t,t.pendingProps.children,n),t.child;case 12:return Je(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Yn(t,t.type,a.value),Je(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,za(t),r=Pe(r),a=a(r),t.flags|=1,Je(e,t,a,n),t.child;case 14:return Bd(e,t,t.type,t.pendingProps,n);case 15:return ty(e,t,t.type,t.pendingProps,n);case 19:return ry(e,t,n);case 31:return ub(e,t,n);case 22:return ny(e,t,n,t.pendingProps);case 24:return za(t),a=Pe(ze),e===null?(r=Pc(),r===null&&(r=ge,i=Zc(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),t.memoizedState={parent:a,cache:r},Fc(t),Yn(t,ze,r)):(e.lanes&n&&(Hu(e,t),Ei(t,null,null,n),Si()),r=e.memoizedState,i=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Yn(t,ze,a)):(a=i.cache,Yn(t,ze,a),a!==r.cache&&Lu(t,[ze],n,!0))),Je(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(U(156,t.tag))}function yn(e){e.flags|=4}function Yo(e,t,n,a,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Cy())e.flags|=8192;else throw ja=gs,Wc}else e.flags&=-16777217}function Vd(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Wy(t))if(Cy())e.flags|=8192;else throw ja=gs,Wc}function jl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dg():536870912,e.lanes|=t,Mr|=t)}function si(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function fb(e,t,n){var a=t.pendingProps;switch(Qc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(t),null;case 1:return pe(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),xn(ze),Dr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xa(t)?yn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mo())),pe(t),null;case 26:var r=t.type,i=t.memoizedState;return e===null?(yn(t),i!==null?(pe(t),Vd(t,i)):(pe(t),Yo(t,r,null,a,n))):i?i!==e.memoizedState?(yn(t),pe(t),Vd(t,i)):(pe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&yn(t),pe(t),Yo(t,r,e,a,n)),null;case 27:if(ss(t),n=ta.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&yn(t);else{if(!a){if(t.stateNode===null)throw Error(U(166));return pe(t),null}e=fn.current,Xa(t)?bd(t):(e=Qy(r,a,n),t.stateNode=e,yn(t))}return pe(t),null;case 5:if(ss(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&yn(t);else{if(!a){if(t.stateNode===null)throw Error(U(166));return pe(t),null}if(i=fn.current,Xa(t))bd(t);else{var l=Rs(ta.current);switch(i){case 1:i=l.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=l.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=l.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?l.createElement(r,{is:a.is}):l.createElement(r)}}i[Qe]=t,i[ft]=a;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=i;e:switch(We(i,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&yn(t)}}return pe(t),Yo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&yn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(U(166));if(e=ta.current,Xa(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,r=Ze,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}e[Qe]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Yy(e.nodeValue,n)),e||fa(t,!0)}else e=Rs(e).createTextNode(a),e[Qe]=t,t.stateNode=e}return pe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Xa(t),n!==null){if(e===null){if(!a)throw Error(U(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(557));e[Qe]=t}else Ua(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pe(t),e=!1}else n=Mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(wt(t),t):(wt(t),null);if(t.flags&128)throw Error(U(558))}return pe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Xa(t),a!==null&&a.dehydrated!==null){if(e===null){if(!r)throw Error(U(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(U(317));r[Qe]=t}else Ua(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pe(t),r=!1}else r=Mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(wt(t),t):(wt(t),null)}return wt(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==r&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),jl(t,t.updateQueue),pe(t),null);case 4:return Dr(),e===null&&Ef(t.stateNode.containerInfo),pe(t),null;case 10:return xn(t.type),pe(t),null;case 19:if(Ke(Re),a=t.memoizedState,a===null)return pe(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)si(a,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ys(e),i!==null){for(t.flags|=128,si(a,!1),e=i.updateQueue,t.updateQueue=e,jl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)lv(n,e),n=n.sibling;return me(Re,Re.current&1|2),re&&wn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Ot()>Ss&&(t.flags|=128,r=!0,si(a,!1),t.lanes=4194304)}else{if(!r)if(e=ys(i),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,jl(t,e),si(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!re)return pe(t),null}else 2*Ot()-a.renderingStartTime>Ss&&n!==536870912&&(t.flags|=128,r=!0,si(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ot(),e.sibling=null,n=Re.current,me(Re,r?n&1|2:n&1),re&&wn(t,a.treeForkCount),e):(pe(t),null);case 22:case 23:return wt(t),ef(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(pe(t),t.subtreeFlags&6&&(t.flags|=8192)):pe(t),n=t.updateQueue,n!==null&&jl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Ke(Da),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xn(ze),pe(t),null;case 25:return null;case 30:return null}throw Error(U(156,t.tag))}function db(e,t){switch(Qc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xn(ze),Dr(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ss(t),null;case 31:if(t.memoizedState!==null){if(wt(t),t.alternate===null)throw Error(U(340));Ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(wt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(Re),null;case 4:return Dr(),null;case 10:return xn(t.type),null;case 22:case 23:return wt(t),ef(),e!==null&&Ke(Da),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return xn(ze),null;case 25:return null;default:return null}}function ly(e,t){switch(Qc(t),t.tag){case 3:xn(ze),Dr();break;case 26:case 27:case 5:ss(t);break;case 4:Dr();break;case 31:t.memoizedState!==null&&wt(t);break;case 13:wt(t);break;case 19:Ke(Re);break;case 10:xn(t.type);break;case 22:case 23:wt(t),ef(),e!==null&&Ke(Da);break;case 24:xn(ze)}}function fl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var i=n.create,l=n.inst;a=i(),l.destroy=a}n=n.next}while(n!==r)}}catch(s){ce(t,t.return,s)}}function da(e,t,n){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var i=r.next;a=i;do{if((a.tag&e)===e){var l=a.inst,s=l.destroy;if(s!==void 0){l.destroy=void 0,r=t;var o=n,u=s;try{u()}catch(c){ce(r,o,c)}}}a=a.next}while(a!==i)}}catch(c){ce(t,t.return,c)}}function sy(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{yv(t,n)}catch(a){ce(e,e.return,a)}}}function oy(e,t,n){n.props=Ba(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){ce(e,t,a)}}function Ai(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(r){ce(e,t,r)}}function cn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(r){ce(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){ce(e,t,r)}else n.current=null}function uy(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){ce(e,e.return,r)}}function Xo(e,t,n){try{var a=e.stateNode;zb(a,e.type,n,t),a[ft]=t}catch(r){ce(e,e.return,r)}}function cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&va(e.type)||e.tag===4}function Io(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&va(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Tn));else if(a!==4&&(a===27&&va(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Pu(e,t,n),e=e.sibling;e!==null;)Pu(e,t,n),e=e.sibling}function ws(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&va(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ws(e,t,n),e=e.sibling;e!==null;)ws(e,t,n),e=e.sibling}function fy(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);We(t,a,n),t[Qe]=e,t[ft]=n}catch(i){ce(e,e.return,i)}}var Sn=!1,Ue=!1,Jo=!1,Yd=typeof WeakSet=="function"?WeakSet:Set,He=null;function hb(e,t){if(e=e.containerInfo,rc=Ns,e=Wg(e),Vc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,s=-1,o=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||r!==0&&d.nodeType!==3||(s=l+r),d!==i||a!==0&&d.nodeType!==3||(o=l+a),d.nodeType===3&&(l+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===r&&(s=l),f===i&&++c===a&&(o=l),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=s===-1||o===-1?null:{start:s,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(ic={focusedElem:e,selectionRange:n},Ns=!1,He=t;He!==null;)if(t=He,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,He=e;else for(;He!==null;){switch(t=He,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,r=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var m=Ba(n.type,r);e=a.getSnapshotBeforeUpdate(m,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(p){ce(n,n.return,p)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)sc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(U(163))}if(e=t.sibling,e!==null){e.return=t.return,He=e;break}He=t.return}}function dy(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:pn(e,n),a&4&&fl(5,n);break;case 1:if(pn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(l){ce(n,n.return,l)}else{var r=Ba(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ce(n,n.return,l)}}a&64&&sy(n),a&512&&Ai(n,n.return);break;case 3:if(pn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{yv(e,t)}catch(l){ce(n,n.return,l)}}break;case 27:t===null&&a&4&&fy(n);case 26:case 5:pn(e,n),t===null&&a&4&&uy(n),a&512&&Ai(n,n.return);break;case 12:pn(e,n);break;case 31:pn(e,n),a&4&&vy(e,n);break;case 13:pn(e,n),a&4&&yy(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Sb.bind(null,n),Gb(e,n))));break;case 22:if(a=n.memoizedState!==null||Sn,!a){t=t!==null&&t.memoizedState!==null||Ue,r=Sn;var i=Ue;Sn=a,(Ue=t)&&!i?bn(e,n,(n.subtreeFlags&8772)!==0):pn(e,n),Sn=r,Ue=i}break;case 30:break;default:pn(e,n)}}function hy(e){var t=e.alternate;t!==null&&(e.alternate=null,hy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Lc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Se=null,ot=!1;function mn(e,t,n){for(n=n.child;n!==null;)gy(e,t,n),n=n.sibling}function gy(e,t,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(rl,n)}catch{}switch(n.tag){case 26:Ue||cn(n,t),mn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ue||cn(n,t);var a=Se,r=ot;va(n.type)&&(Se=n.stateNode,ot=!1),mn(e,t,n),Ci(n.stateNode),Se=a,ot=r;break;case 5:Ue||cn(n,t);case 6:if(a=Se,r=ot,Se=null,mn(e,t,n),Se=a,ot=r,Se!==null)if(ot)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(n.stateNode)}catch(i){ce(n,t,i)}else try{Se.removeChild(n.stateNode)}catch(i){ce(n,t,i)}break;case 18:Se!==null&&(ot?(e=Se,rh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Hr(e)):rh(Se,n.stateNode));break;case 4:a=Se,r=ot,Se=n.stateNode.containerInfo,ot=!0,mn(e,t,n),Se=a,ot=r;break;case 0:case 11:case 14:case 15:da(2,n,t),Ue||da(4,n,t),mn(e,t,n);break;case 1:Ue||(cn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&oy(n,t,a)),mn(e,t,n);break;case 21:mn(e,t,n);break;case 22:Ue=(a=Ue)||n.memoizedState!==null,mn(e,t,n),Ue=a;break;default:mn(e,t,n)}}function vy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Hr(e)}catch(n){ce(t,t.return,n)}}}function yy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hr(e)}catch(n){ce(t,t.return,n)}}function gb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Yd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Yd),t;default:throw Error(U(435,e.tag))}}function Nl(e,t){var n=gb(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var r=Eb.bind(null,e,a);a.then(r,r)}})}function lt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var r=n[a],i=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 27:if(va(s.type)){Se=s.stateNode,ot=!1;break e}break;case 5:Se=s.stateNode,ot=!1;break e;case 3:case 4:Se=s.stateNode.containerInfo,ot=!0;break e}s=s.return}if(Se===null)throw Error(U(160));gy(i,l,r),Se=null,ot=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)my(t,e),t=t.sibling}var Zt=null;function my(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:lt(t,e),st(e),a&4&&(da(3,e,e.return),fl(3,e),da(5,e,e.return));break;case 1:lt(t,e),st(e),a&512&&(Ue||n===null||cn(n,n.return)),a&64&&Sn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var r=Zt;if(lt(t,e),st(e),a&512&&(Ue||n===null||cn(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":i=r.getElementsByTagName("title")[0],(!i||i[sl]||i[Qe]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(a),r.head.insertBefore(i,r.querySelector("head > title"))),We(i,a,n),i[Qe]=e,Ge(i),a=i;break e;case"link":var l=fh("link","href",r).get(a+(n.href||""));if(l){for(var s=0;s<l.length;s++)if(i=l[s],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(s,1);break t}}i=r.createElement(a),We(i,a,n),r.head.appendChild(i);break;case"meta":if(l=fh("meta","content",r).get(a+(n.content||""))){for(s=0;s<l.length;s++)if(i=l[s],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(s,1);break t}}i=r.createElement(a),We(i,a,n),r.head.appendChild(i);break;default:throw Error(U(468,a))}i[Qe]=e,Ge(i),a=i}e.stateNode=a}else dh(r,e.type,e.stateNode);else e.stateNode=ch(r,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?dh(r,e.type,e.stateNode):ch(r,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Xo(e,e.memoizedProps,n.memoizedProps)}break;case 27:lt(t,e),st(e),a&512&&(Ue||n===null||cn(n,n.return)),n!==null&&a&4&&Xo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(lt(t,e),st(e),a&512&&(Ue||n===null||cn(n,n.return)),e.flags&32){r=e.stateNode;try{Nr(r,"")}catch(m){ce(e,e.return,m)}}a&4&&e.stateNode!=null&&(r=e.memoizedProps,Xo(e,r,n!==null?n.memoizedProps:r)),a&1024&&(Jo=!0);break;case 6:if(lt(t,e),st(e),a&4){if(e.stateNode===null)throw Error(U(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(m){ce(e,e.return,m)}}break;case 3:if(ts=null,r=Zt,Zt=Cs(t.containerInfo),lt(t,e),Zt=r,st(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Hr(t.containerInfo)}catch(m){ce(e,e.return,m)}Jo&&(Jo=!1,py(e));break;case 4:a=Zt,Zt=Cs(e.stateNode.containerInfo),lt(t,e),st(e),Zt=a;break;case 12:lt(t,e),st(e);break;case 31:lt(t,e),st(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Nl(e,a)));break;case 13:lt(t,e),st(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ao=Ot()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Nl(e,a)));break;case 22:r=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=Sn,c=Ue;if(Sn=u||r,Ue=c||o,lt(t,e),Ue=c,Sn=u,st(e),a&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||o||Sn||Ue||Ea(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(i=o.stateNode,r)l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{s=o.stateNode;var d=o.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;s.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(m){ce(o,o.return,m)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=r?"":o.memoizedProps}catch(m){ce(o,o.return,m)}}}else if(t.tag===18){if(n===null){o=t;try{var h=o.stateNode;r?ih(h,!0):ih(o.stateNode,!1)}catch(m){ce(o,o.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Nl(e,n))));break;case 19:lt(t,e),st(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Nl(e,a)));break;case 30:break;case 21:break;default:lt(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(cy(a)){n=a;break}a=a.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var r=n.stateNode,i=Io(e);ws(e,i,r);break;case 5:var l=n.stateNode;n.flags&32&&(Nr(l,""),n.flags&=-33);var s=Io(e);ws(e,s,l);break;case 3:case 4:var o=n.stateNode.containerInfo,u=Io(e);Pu(e,u,o);break;default:throw Error(U(161))}}catch(c){ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;py(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)dy(e,t.alternate,t),t=t.sibling}function Ea(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:da(4,t,t.return),Ea(t);break;case 1:cn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&oy(t,t.return,n),Ea(t);break;case 27:Ci(t.stateNode);case 26:case 5:cn(t,t.return),Ea(t);break;case 22:t.memoizedState===null&&Ea(t);break;case 30:Ea(t);break;default:Ea(t)}e=e.sibling}}function bn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,r=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:bn(r,i,n),fl(4,i);break;case 1:if(bn(r,i,n),a=i,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){ce(a,a.return,u)}if(a=i,r=a.updateQueue,r!==null){var s=a.stateNode;try{var o=r.shared.hiddenCallbacks;if(o!==null)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)vv(o[r],s)}catch(u){ce(a,a.return,u)}}n&&l&64&&sy(i),Ai(i,i.return);break;case 27:fy(i);case 26:case 5:bn(r,i,n),n&&a===null&&l&4&&uy(i),Ai(i,i.return);break;case 12:bn(r,i,n);break;case 31:bn(r,i,n),n&&l&4&&vy(r,i);break;case 13:bn(r,i,n),n&&l&4&&yy(r,i);break;case 22:i.memoizedState===null&&bn(r,i,n),Ai(i,i.return);break;case 30:break;default:bn(r,i,n)}t=t.sibling}}function mf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ul(n))}function pf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ul(e))}function It(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)by(e,t,n,a),t=t.sibling}function by(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,n,a),r&2048&&fl(9,t);break;case 1:It(e,t,n,a);break;case 3:It(e,t,n,a),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ul(e)));break;case 12:if(r&2048){It(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,s=i.onPostCommit;typeof s=="function"&&s(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){ce(t,t.return,o)}}else It(e,t,n,a);break;case 31:It(e,t,n,a);break;case 13:It(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,t.memoizedState!==null?i._visibility&2?It(e,t,n,a):Oi(e,t):i._visibility&2?It(e,t,n,a):(i._visibility|=2,nr(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),r&2048&&mf(l,t);break;case 24:It(e,t,n,a),r&2048&&pf(t.alternate,t);break;default:It(e,t,n,a)}}function nr(e,t,n,a,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,l=t,s=n,o=a,u=l.flags;switch(l.tag){case 0:case 11:case 15:nr(i,l,s,o,r),fl(8,l);break;case 23:break;case 22:var c=l.stateNode;l.memoizedState!==null?c._visibility&2?nr(i,l,s,o,r):Oi(i,l):(c._visibility|=2,nr(i,l,s,o,r)),r&&u&2048&&mf(l.alternate,l);break;case 24:nr(i,l,s,o,r),r&&u&2048&&pf(l.alternate,l);break;default:nr(i,l,s,o,r)}t=t.sibling}}function Oi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:Oi(n,a),r&2048&&mf(a.alternate,a);break;case 24:Oi(n,a),r&2048&&pf(a.alternate,a);break;default:Oi(n,a)}t=t.sibling}}var gi=8192;function Ia(e,t,n){if(e.subtreeFlags&gi)for(e=e.child;e!==null;)_y(e,t,n),e=e.sibling}function _y(e,t,n){switch(e.tag){case 26:Ia(e,t,n),e.flags&gi&&e.memoizedState!==null&&e_(n,Zt,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,t,n);break;case 3:case 4:var a=Zt;Zt=Cs(e.stateNode.containerInfo),Ia(e,t,n),Zt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=gi,gi=16777216,Ia(e,t,n),gi=a):Ia(e,t,n));break;default:Ia(e,t,n)}}function wy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function oi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];He=a,Ey(a,e)}wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 0:case 11:case 15:oi(e),e.flags&2048&&da(9,e,e.return);break;case 3:oi(e);break;case 12:oi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Fl(e)):oi(e);break;default:oi(e)}}function Fl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];He=a,Ey(a,e)}wy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:da(8,t,t.return),Fl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Fl(t));break;default:Fl(t)}e=e.sibling}}function Ey(e,t){for(;He!==null;){var n=He;switch(n.tag){case 0:case 11:case 15:da(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ul(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,He=a;else e:for(n=e;He!==null;){a=He;var r=a.sibling,i=a.return;if(hy(a),a===n){He=null;break e}if(r!==null){r.return=i,He=r;break e}He=i}}}var vb={getCacheForType:function(e){var t=Pe(ze),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Pe(ze).controller.signal}},yb=typeof WeakMap=="function"?WeakMap:Map,se=0,ge=null,ee=null,te=0,ue=0,_t=null,Wn=!1,Ir=!1,bf=!1,Un=0,xe=0,ha=0,Na=0,_f=0,At=0,Mr=0,xi=null,ut=null,Wu=!1,ao=0,Ty=0,Ss=1/0,Es=null,ia=null,Le=0,la=null,Br=null,Rn=0,Fu=0,ec=null,Ay=null,Ri=0,tc=null;function Ct(){return se&2&&te!==0?te&-te:J.T!==null?Sf():zg()}function Oy(){if(At===0)if(!(te&536870912)||re){var e=Tl;Tl<<=1,!(Tl&3932160)&&(Tl=262144),At=e}else At=536870912;return e=jt.current,e!==null&&(e.flags|=32),At}function ct(e,t,n){(e===ge&&(ue===2||ue===9)||e.cancelPendingCommit!==null)&&(Lr(e,0),Fn(e,te,At,!1)),ll(e,n),(!(se&2)||e!==ge)&&(e===ge&&(!(se&2)&&(Na|=n),xe===4&&Fn(e,te,At,!1)),hn(e))}function xy(e,t,n){if(se&6)throw Error(U(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||il(e,t),r=a?bb(e,t):Qo(e,t,!0),i=a;do{if(r===0){Ir&&!a&&Fn(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!mb(n)){r=Qo(e,t,!1),i=!1;continue}if(r===2){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var s=e;r=xi;var o=s.current.memoizedState.isDehydrated;if(o&&(Lr(s,l).flags|=256),l=Qo(s,l,!1),l!==2){if(bf&&!o){s.errorRecoveryDisabledLanes|=i,Na|=i,r=4;break e}i=ut,ut=r,i!==null&&(ut===null?ut=i:ut.push.apply(ut,i))}r=l}if(i=!1,r!==2)continue}}if(r===1){Lr(e,0),Fn(e,t,0,!0);break}e:{switch(a=e,i=r,i){case 0:case 1:throw Error(U(345));case 4:if((t&4194048)!==t)break;case 6:Fn(a,t,At,!Wn);break e;case 2:ut=null;break;case 3:case 5:break;default:throw Error(U(329))}if((t&62914560)===t&&(r=ao+300-Ot(),10<r)){if(Fn(a,t,At,!Wn),Xs(a,0,!0)!==0)break e;Rn=t,a.timeoutHandle=Iy(Xd.bind(null,a,n,ut,Es,Wu,t,At,Na,Mr,Wn,i,"Throttled",-0,0),r);break e}Xd(a,n,ut,Es,Wu,t,At,Na,Mr,Wn,i,null,-0,0)}}break}while(!0);hn(e)}function Xd(e,t,n,a,r,i,l,s,o,u,c,d,f,h){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tn},_y(t,i,d);var m=(i&62914560)===i?ao-Ot():(i&4194048)===i?Ty-Ot():0;if(m=t_(d,m),m!==null){Rn=i,e.cancelPendingCommit=m(Jd.bind(null,e,t,i,n,a,r,l,s,o,c,d,null,f,h)),Fn(e,i,l,!u);return}}Jd(e,t,i,n,a,r,l,s,o)}function mb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var r=n[a],i=r.getSnapshot;r=r.value;try{if(!Dt(i(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t,n,a){t&=~_f,t&=~Na,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var i=31-Rt(r),l=1<<i;a[i]=-1,r&=~l}n!==0&&jg(e,n,t)}function ro(){return se&6?!0:(dl(0),!1)}function wf(){if(ee!==null){if(ue===0)var e=ee.return;else e=ee,An=Ka=null,lf(e),Ar=null,$i=0,e=ee;for(;e!==null;)ly(e.alternate,e),e=e.return;ee=null}}function Lr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Bb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Rn=0,wf(),ge=e,ee=n=On(e.current,null),te=t,ue=0,_t=null,Wn=!1,Ir=il(e,t),bf=!1,Mr=At=_f=Na=ha=xe=0,ut=xi=null,Wu=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var r=31-Rt(a),i=1<<r;t|=e[r],a&=~i}return Un=t,Zs(),n}function Ry(e,t){P=null,J.H=Ki,t===Xr||t===Ws?(t=Td(),ue=3):t===Wc?(t=Td(),ue=4):ue=t===vf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_t=t,ee===null&&(xe=1,bs(e,qt(t,e.current)))}function Cy(){var e=jt.current;return e===null?!0:(te&4194048)===te?$t===null:(te&62914560)===te||te&536870912?e===$t:!1}function Dy(){var e=J.H;return J.H=Ki,e===null?Ki:e}function jy(){var e=J.A;return J.A=vb,e}function Ts(){xe=4,Wn||(te&4194048)!==te&&jt.current!==null||(Ir=!0),!(ha&134217727)&&!(Na&134217727)||ge===null||Fn(ge,te,At,!1)}function Qo(e,t,n){var a=se;se|=2;var r=Dy(),i=jy();(ge!==e||te!==t)&&(Es=null,Lr(e,t)),t=!1;var l=xe;e:do try{if(ue!==0&&ee!==null){var s=ee,o=_t;switch(ue){case 8:wf(),l=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(t=!0);var u=ue;if(ue=0,_t=null,br(e,s,o,u),n&&Ir){l=0;break e}break;default:u=ue,ue=0,_t=null,br(e,s,o,u)}}pb(),l=xe;break}catch(c){Ry(e,c)}while(!0);return t&&e.shellSuspendCounter++,An=Ka=null,se=a,J.H=r,J.A=i,ee===null&&(ge=null,te=0,Zs()),l}function pb(){for(;ee!==null;)Ny(ee)}function bb(e,t){var n=se;se|=2;var a=Dy(),r=jy();ge!==e||te!==t?(Es=null,Ss=Ot()+500,Lr(e,t)):Ir=il(e,t);e:do try{if(ue!==0&&ee!==null){t=ee;var i=_t;t:switch(ue){case 1:ue=0,_t=null,br(e,t,i,1);break;case 2:case 9:if(Ed(i)){ue=0,_t=null,Id(t);break}t=function(){ue!==2&&ue!==9||ge!==e||(ue=7),hn(e)},i.then(t,t);break e;case 3:ue=7;break e;case 4:ue=5;break e;case 7:Ed(i)?(ue=0,_t=null,Id(t)):(ue=0,_t=null,br(e,t,i,7));break;case 5:var l=null;switch(ee.tag){case 26:l=ee.memoizedState;case 5:case 27:var s=ee;if(l?Wy(l):s.stateNode.complete){ue=0,_t=null;var o=s.sibling;if(o!==null)ee=o;else{var u=s.return;u!==null?(ee=u,io(u)):ee=null}break t}}ue=0,_t=null,br(e,t,i,5);break;case 6:ue=0,_t=null,br(e,t,i,6);break;case 8:wf(),xe=6;break e;default:throw Error(U(462))}}_b();break}catch(c){Ry(e,c)}while(!0);return An=Ka=null,J.H=a,J.A=r,se=n,ee!==null?0:(ge=null,te=0,Zs(),xe)}function _b(){for(;ee!==null&&!Kp();)Ny(ee)}function Ny(e){var t=iy(e.alternate,e,Un);e.memoizedProps=e.pendingProps,t===null?io(e):ee=t}function Id(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Hd(n,t,t.pendingProps,t.type,void 0,te);break;case 11:t=Hd(n,t,t.pendingProps,t.type.render,t.ref,te);break;case 5:lf(t);default:ly(n,t),t=ee=lv(t,Un),t=iy(n,t,Un)}e.memoizedProps=e.pendingProps,t===null?io(e):ee=t}function br(e,t,n,a){An=Ka=null,lf(t),Ar=null,$i=0;var r=t.return;try{if(ob(e,r,t,n,te)){xe=1,bs(e,qt(n,e.current)),ee=null;return}}catch(i){if(r!==null)throw ee=r,i;xe=1,bs(e,qt(n,e.current)),ee=null;return}t.flags&32768?(re||a===1?e=!0:Ir||te&536870912?e=!1:(Wn=e=!0,(a===2||a===9||a===3||a===6)&&(a=jt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Uy(t,e)):io(t)}function io(e){var t=e;do{if(t.flags&32768){Uy(t,Wn);return}e=t.return;var n=fb(t.alternate,t,Un);if(n!==null){ee=n;return}if(t=t.sibling,t!==null){ee=t;return}ee=t=e}while(t!==null);xe===0&&(xe=5)}function Uy(e,t){do{var n=db(e.alternate,e);if(n!==null){n.flags&=32767,ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ee=e;return}ee=e=n}while(e!==null);xe=6,ee=null}function Jd(e,t,n,a,r,i,l,s,o){e.cancelPendingCommit=null;do lo();while(Le!==0);if(se&6)throw Error(U(327));if(t!==null){if(t===e.current)throw Error(U(177));if(i=t.lanes|t.childLanes,i|=Yc,Fp(e,n,i,l,s,o),e===ge&&(ee=ge=null,te=0),Br=t,la=e,Rn=n,Fu=i,ec=r,Ay=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Tb(os,function(){return Ly(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=J.T,J.T=null,r=oe.p,oe.p=2,l=se,se|=4;try{hb(e,t,n)}finally{se=l,oe.p=r,J.T=a}}Le=1,zy(),ky(),My()}}function zy(){if(Le===1){Le=0;var e=la,t=Br,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=J.T,J.T=null;var a=oe.p;oe.p=2;var r=se;se|=4;try{my(t,e);var i=ic,l=Wg(e.containerInfo),s=i.focusedElem,o=i.selectionRange;if(l!==s&&s&&s.ownerDocument&&Pg(s.ownerDocument.documentElement,s)){if(o!==null&&Vc(s)){var u=o.start,c=o.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var h=f.getSelection(),m=s.textContent.length,p=Math.min(o.start,m),_=o.end===void 0?p:Math.min(o.end,m);!h.extend&&p>_&&(l=_,_=p,p=l);var v=yd(s,p),g=yd(s,_);if(v&&g&&(h.rangeCount!==1||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==g.node||h.focusOffset!==g.offset)){var y=d.createRange();y.setStart(v.node,v.offset),h.removeAllRanges(),p>_?(h.addRange(y),h.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),h.addRange(y))}}}}for(d=[],h=s;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}Ns=!!rc,ic=rc=null}finally{se=r,oe.p=a,J.T=n}}e.current=t,Le=2}}function ky(){if(Le===2){Le=0;var e=la,t=Br,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=J.T,J.T=null;var a=oe.p;oe.p=2;var r=se;se|=4;try{dy(e,t.alternate,t)}finally{se=r,oe.p=a,J.T=n}}Le=3}}function My(){if(Le===4||Le===3){Le=0,Vp();var e=la,t=Br,n=Rn,a=Ay;t.subtreeFlags&10256||t.flags&10256?Le=5:(Le=0,Br=la=null,By(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(ia=null),Bc(n),t=t.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(rl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=J.T,r=oe.p,oe.p=2,J.T=null;try{for(var i=e.onRecoverableError,l=0;l<a.length;l++){var s=a[l];i(s.value,{componentStack:s.stack})}}finally{J.T=t,oe.p=r}}Rn&3&&lo(),hn(e),r=e.pendingLanes,n&261930&&r&42?e===tc?Ri++:(Ri=0,tc=e):Ri=0,dl(0)}}function By(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ul(t)))}function lo(){return zy(),ky(),My(),Ly()}function Ly(){if(Le!==5)return!1;var e=la,t=Fu;Fu=0;var n=Bc(Rn),a=J.T,r=oe.p;try{oe.p=32>n?32:n,J.T=null,n=ec,ec=null;var i=la,l=Rn;if(Le=0,Br=la=null,Rn=0,se&6)throw Error(U(331));var s=se;if(se|=4,Sy(i.current),by(i,i.current,l,n),se=s,dl(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(rl,i)}catch{}return!0}finally{oe.p=r,J.T=a,By(e,t)}}function Qd(e,t,n){t=qt(n,t),t=Ju(e.stateNode,t,2),e=ra(e,t,2),e!==null&&(ll(e,2),hn(e))}function ce(e,t,n){if(e.tag===3)Qd(e,e,n);else for(;t!==null;){if(t.tag===3){Qd(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ia===null||!ia.has(a))){e=qt(n,e),n=Fv(2),a=ra(t,n,2),a!==null&&(ey(n,a,t,e),ll(a,2),hn(a));break}}t=t.return}}function Zo(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new yb;var r=new Set;a.set(t,r)}else r=a.get(t),r===void 0&&(r=new Set,a.set(t,r));r.has(n)||(bf=!0,r.add(n),e=wb.bind(null,e,t,n),t.then(e,e))}function wb(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ge===e&&(te&n)===n&&(xe===4||xe===3&&(te&62914560)===te&&300>Ot()-ao?!(se&2)&&Lr(e,0):_f|=n,Mr===te&&(Mr=0)),hn(e)}function qy(e,t){t===0&&(t=Dg()),e=Ga(e,t),e!==null&&(ll(e,t),hn(e))}function Sb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qy(e,n)}function Eb(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(U(314))}a!==null&&a.delete(t),qy(e,n)}function Tb(e,t){return kc(e,t)}var As=null,ar=null,nc=!1,Os=!1,Po=!1,ea=0;function hn(e){e!==ar&&e.next===null&&(ar===null?As=ar=e:ar=ar.next=e),Os=!0,nc||(nc=!0,Ob())}function dl(e,t){if(!Po&&Os){Po=!0;do for(var n=!1,a=As;a!==null;){if(e!==0){var r=a.pendingLanes;if(r===0)var i=0;else{var l=a.suspendedLanes,s=a.pingedLanes;i=(1<<31-Rt(42|e)+1)-1,i&=r&~(l&~s),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Zd(a,i))}else i=te,i=Xs(a,a===ge?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||il(a,i)||(n=!0,Zd(a,i));a=a.next}while(n);Po=!1}}function Ab(){Hy()}function Hy(){Os=nc=!1;var e=0;ea!==0&&Mb()&&(e=ea);for(var t=Ot(),n=null,a=As;a!==null;){var r=a.next,i=$y(a,t);i===0?(a.next=null,n===null?As=r:n.next=r,r===null&&(ar=n)):(n=a,(e!==0||i&3)&&(Os=!0)),a=r}Le!==0&&Le!==5||dl(e),ea!==0&&(ea=0)}function $y(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var l=31-Rt(i),s=1<<l,o=r[l];o===-1?(!(s&n)||s&a)&&(r[l]=Wp(s,t)):o<=t&&(e.expiredLanes|=s),i&=~s}if(t=ge,n=te,n=Xs(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(ue===2||ue===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ao(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||il(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Ao(a),Bc(n)){case 2:case 8:n=Rg;break;case 32:n=os;break;case 268435456:n=Cg;break;default:n=os}return a=Gy.bind(null,e),n=kc(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Ao(a),e.callbackPriority=2,e.callbackNode=null,2}function Gy(e,t){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lo()&&e.callbackNode!==n)return null;var a=te;return a=Xs(e,e===ge?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(xy(e,a,t),$y(e,Ot()),e.callbackNode!=null&&e.callbackNode===n?Gy.bind(null,e):null)}function Zd(e,t){if(lo())return null;xy(e,t,!0)}function Ob(){Lb(function(){se&6?kc(xg,Ab):Hy()})}function Sf(){if(ea===0){var e=Ur;e===0&&(e=El,El<<=1,!(El&261888)&&(El=256)),ea=e}return ea}function Pd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vl(""+e)}function Wd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function xb(e,t,n,a,r){if(t==="submit"&&n&&n.stateNode===r){var i=Pd((r[ft]||null).action),l=a.submitter;l&&(t=(t=l[ft]||null)?Pd(t.formAction):l.getAttribute("formAction"),t!==null&&(i=t,l=null));var s=new Is("action","action",null,a,r);e.push({event:s,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ea!==0){var o=l?Wd(r,l):new FormData(r);Xu(n,{pending:!0,data:o,method:r.method,action:i},null,o)}}else typeof i=="function"&&(s.preventDefault(),o=l?Wd(r,l):new FormData(r),Xu(n,{pending:!0,data:o,method:r.method,action:i},i,o))},currentTarget:r}]})}}for(var Wo=0;Wo<zu.length;Wo++){var Fo=zu[Wo],Rb=Fo.toLowerCase(),Cb=Fo[0].toUpperCase()+Fo.slice(1);en(Rb,"on"+Cb)}en(ev,"onAnimationEnd");en(tv,"onAnimationIteration");en(nv,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(Y0,"onTransitionRun");en(X0,"onTransitionStart");en(I0,"onTransitionCancel");en(av,"onTransitionEnd");jr("onMouseEnter",["mouseout","mouseover"]);jr("onMouseLeave",["mouseout","mouseover"]);jr("onPointerEnter",["pointerout","pointerover"]);jr("onPointerLeave",["pointerout","pointerover"]);qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qa("onBeforeInput",["compositionend","keypress","textInput","paste"]);qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vi));function Ky(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var l=a.length-1;0<=l;l--){var s=a[l],o=s.instance,u=s.currentTarget;if(s=s.listener,o!==i&&r.isPropagationStopped())break e;i=s,r.currentTarget=u;try{i(r)}catch(c){cs(c)}r.currentTarget=null,i=o}else for(l=0;l<a.length;l++){if(s=a[l],o=s.instance,u=s.currentTarget,s=s.listener,o!==i&&r.isPropagationStopped())break e;i=s,r.currentTarget=u;try{i(r)}catch(c){cs(c)}r.currentTarget=null,i=o}}}}function F(e,t){var n=t[Ou];n===void 0&&(n=t[Ou]=new Set);var a=e+"__bubble";n.has(a)||(Vy(t,e,2,!1),n.add(a))}function eu(e,t,n){var a=0;t&&(a|=4),Vy(n,e,a,t)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function Ef(e){if(!e[Ul]){e[Ul]=!0,kg.forEach(function(n){n!=="selectionchange"&&(Db.has(n)||eu(n,!1,e),eu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ul]||(t[Ul]=!0,eu("selectionchange",!1,t))}}function Vy(e,t,n,a){switch(am(t)){case 2:var r=r_;break;case 8:r=i_;break;default:r=xf}n=r.bind(null,t,n,e),r=void 0,!ju||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),a?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function tu(e,t,n,a,r){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var s=a.stateNode.containerInfo;if(s===r)break;if(l===4)for(l=a.return;l!==null;){var o=l.tag;if((o===3||o===4)&&l.stateNode.containerInfo===r)return;l=l.return}for(;s!==null;){if(l=cr(s),l===null)return;if(o=l.tag,o===5||o===6||o===26||o===27){a=i=l;continue e}s=s.parentNode}}a=a.return}Kg(function(){var u=i,c=Hc(n),d=[];e:{var f=rv.get(e);if(f!==void 0){var h=Is,m=e;switch(e){case"keypress":if(Xl(n)===0)break e;case"keydown":case"keyup":h=E0;break;case"focusin":m="focus",h=Do;break;case"focusout":m="blur",h=Do;break;case"beforeblur":case"afterblur":h=Do;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=f0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=O0;break;case ev:case tv:case nv:h=g0;break;case av:h=R0;break;case"scroll":case"scrollend":h=u0;break;case"wheel":h=D0;break;case"copy":case"cut":case"paste":h=y0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=od;break;case"toggle":case"beforetoggle":h=N0}var p=(t&4)!==0,_=!p&&(e==="scroll"||e==="scrollend"),v=p?f!==null?f+"Capture":null:f;p=[];for(var g=u,y;g!==null;){var b=g;if(y=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||y===null||v===null||(b=Mi(g,v),b!=null&&p.push(Yi(g,b,y))),_)break;g=g.return}0<p.length&&(f=new h(f,m,null,n,c),d.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==Du&&(m=n.relatedTarget||n.fromElement)&&(cr(m)||m[Kr]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?cr(m):null,m!==null&&(_=al(m),p=m.tag,m!==_||p!==5&&p!==27&&p!==6)&&(m=null)):(h=null,m=u),h!==m)){if(p=ld,b="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(p=od,b="onPointerLeave",v="onPointerEnter",g="pointer"),_=h==null?f:di(h),y=m==null?f:di(m),f=new p(b,g+"leave",h,n,c),f.target=_,f.relatedTarget=y,b=null,cr(c)===u&&(p=new p(v,g+"enter",m,n,c),p.target=y,p.relatedTarget=_,b=p),_=b,h&&m)t:{for(p=jb,v=h,g=m,y=0,b=v;b;b=p(b))y++;b=0;for(var C=g;C;C=p(C))b++;for(;0<y-b;)v=p(v),y--;for(;0<b-y;)g=p(g),b--;for(;y--;){if(v===g||g!==null&&v===g.alternate){p=v;break t}v=p(v),g=p(g)}p=null}else p=null;h!==null&&Fd(d,f,h,p,!1),m!==null&&_!==null&&Fd(d,_,m,p,!0)}}e:{if(f=u?di(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var j=dd;else if(fd(f))if(Qg)j=G0;else{j=H0;var w=q0}else h=f.nodeName,!h||h.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&qc(u.elementType)&&(j=dd):j=$0;if(j&&(j=j(e,u))){Jg(d,j,n,c);break e}w&&w(e,f,u),e==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&Cu(f,"number",f.value)}switch(w=u?di(u):window,e){case"focusin":(fd(w)||w.contentEditable==="true")&&(hr=w,Nu=u,bi=null);break;case"focusout":bi=Nu=hr=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,md(d,n,c);break;case"selectionchange":if(V0)break;case"keydown":case"keyup":md(d,n,c)}var R;if(Kc)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else dr?Xg(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Yg&&n.locale!=="ko"&&(dr||N!=="onCompositionStart"?N==="onCompositionEnd"&&dr&&(R=Vg()):(Pn=c,$c="value"in Pn?Pn.value:Pn.textContent,dr=!0)),w=xs(u,N),0<w.length&&(N=new sd(N,e,null,n,c),d.push({event:N,listeners:w}),R?N.data=R:(R=Ig(n),R!==null&&(N.data=R)))),(R=z0?k0(e,n):M0(e,n))&&(N=xs(u,"onBeforeInput"),0<N.length&&(w=new sd("onBeforeInput","beforeinput",null,n,c),d.push({event:w,listeners:N}),w.data=R)),xb(d,e,u,n,c)}Ky(d,t)})}function Yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xs(e,t){for(var n=t+"Capture",a=[];e!==null;){var r=e,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=Mi(e,n),r!=null&&a.unshift(Yi(e,r,i)),r=Mi(e,t),r!=null&&a.push(Yi(e,r,i))),e.tag===3)return a;e=e.return}return[]}function jb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fd(e,t,n,a,r){for(var i=t._reactName,l=[];n!==null&&n!==a;){var s=n,o=s.alternate,u=s.stateNode;if(s=s.tag,o!==null&&o===a)break;s!==5&&s!==26&&s!==27||u===null||(o=u,r?(u=Mi(n,i),u!=null&&l.unshift(Yi(n,u,o))):r||(u=Mi(n,i),u!=null&&l.push(Yi(n,u,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Nb=/\r\n?/g,Ub=/\u0000|\uFFFD/g;function eh(e){return(typeof e=="string"?e:""+e).replace(Nb,`
`).replace(Ub,"")}function Yy(e,t){return t=eh(t),eh(e)===t}function de(e,t,n,a,r,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Nr(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Nr(e,""+a);break;case"className":Ol(e,"class",a);break;case"tabIndex":Ol(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(e,n,a);break;case"style":Gg(e,a,i);break;case"data":if(t!=="object"){Ol(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Vl(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&de(e,t,"name",r.name,r,null),de(e,t,"formEncType",r.formEncType,r,null),de(e,t,"formMethod",r.formMethod,r,null),de(e,t,"formTarget",r.formTarget,r,null)):(de(e,t,"encType",r.encType,r,null),de(e,t,"method",r.method,r,null),de(e,t,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Vl(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Tn);break;case"onScroll":a!=null&&F("scroll",e);break;case"onScrollEnd":a!=null&&F("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(U(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Vl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":F("beforetoggle",e),F("toggle",e),Kl(e,"popover",a);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Kl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=s0.get(n)||n,Kl(e,n,a))}}function ac(e,t,n,a,r,i){switch(n){case"style":Gg(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(U(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Nr(e,a):(typeof a=="number"||typeof a=="bigint")&&Nr(e,""+a);break;case"onScroll":a!=null&&F("scroll",e);break;case"onScrollEnd":a!=null&&F("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mg.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),i=e[ft]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,r),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Kl(e,n,a)}}}function We(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":F("error",e),F("load",e);var a=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var l=n[i];if(l!=null)switch(i){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:de(e,t,i,l,n,null)}}r&&de(e,t,"srcSet",n.srcSet,n,null),a&&de(e,t,"src",n.src,n,null);return;case"input":F("invalid",e);var s=i=l=r=null,o=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var c=n[a];if(c!=null)switch(a){case"name":r=c;break;case"type":l=c;break;case"checked":o=c;break;case"defaultChecked":u=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(U(137,t));break;default:de(e,t,a,c,n,null)}}qg(e,i,s,o,u,l,r,!1);return;case"select":F("invalid",e),a=l=i=null;for(r in n)if(n.hasOwnProperty(r)&&(s=n[r],s!=null))switch(r){case"value":i=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:de(e,t,r,s,n,null)}t=i,n=l,e.multiple=!!a,t!=null?Sr(e,!!a,t,!1):n!=null&&Sr(e,!!a,n,!0);return;case"textarea":F("invalid",e),i=r=a=null;for(l in n)if(n.hasOwnProperty(l)&&(s=n[l],s!=null))switch(l){case"value":a=s;break;case"defaultValue":r=s;break;case"children":i=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(U(91));break;default:de(e,t,l,s,n,null)}$g(e,a,r,i);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:de(e,t,o,a,n,null)}return;case"dialog":F("beforetoggle",e),F("toggle",e),F("cancel",e),F("close",e);break;case"iframe":case"object":F("load",e);break;case"video":case"audio":for(a=0;a<Vi.length;a++)F(Vi[a],e);break;case"image":F("error",e),F("load",e);break;case"details":F("toggle",e);break;case"embed":case"source":case"link":F("error",e),F("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:de(e,t,u,a,n,null)}return;default:if(qc(t)){for(c in n)n.hasOwnProperty(c)&&(a=n[c],a!==void 0&&ac(e,t,c,a,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(a=n[s],a!=null&&de(e,t,s,a,n,null))}function zb(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,l=null,s=null,o=null,u=null,c=null;for(h in n){var d=n[h];if(n.hasOwnProperty(h)&&d!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":o=d;default:a.hasOwnProperty(h)||de(e,t,h,null,a,d)}}for(var f in a){var h=a[f];if(d=n[f],a.hasOwnProperty(f)&&(h!=null||d!=null))switch(f){case"type":i=h;break;case"name":r=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":l=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(U(137,t));break;default:h!==d&&de(e,t,f,h,a,d)}}Ru(e,l,s,o,u,c,i,r);return;case"select":h=l=s=f=null;for(i in n)if(o=n[i],n.hasOwnProperty(i)&&o!=null)switch(i){case"value":break;case"multiple":h=o;default:a.hasOwnProperty(i)||de(e,t,i,null,a,o)}for(r in a)if(i=a[r],o=n[r],a.hasOwnProperty(r)&&(i!=null||o!=null))switch(r){case"value":f=i;break;case"defaultValue":s=i;break;case"multiple":l=i;default:i!==o&&de(e,t,r,i,a,o)}t=s,n=l,a=h,f!=null?Sr(e,!!n,f,!1):!!a!=!!n&&(t!=null?Sr(e,!!n,t,!0):Sr(e,!!n,n?[]:"",!1));return;case"textarea":h=f=null;for(s in n)if(r=n[s],n.hasOwnProperty(s)&&r!=null&&!a.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:de(e,t,s,null,a,r)}for(l in a)if(r=a[l],i=n[l],a.hasOwnProperty(l)&&(r!=null||i!=null))switch(l){case"value":f=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(U(91));break;default:r!==i&&de(e,t,l,r,a,i)}Hg(e,f,h);return;case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&f!=null&&!a.hasOwnProperty(m))switch(m){case"selected":e.selected=!1;break;default:de(e,t,m,null,a,f)}for(o in a)if(f=a[o],h=n[o],a.hasOwnProperty(o)&&f!==h&&(f!=null||h!=null))switch(o){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:de(e,t,o,f,a,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var p in n)f=n[p],n.hasOwnProperty(p)&&f!=null&&!a.hasOwnProperty(p)&&de(e,t,p,null,a,f);for(u in a)if(f=a[u],h=n[u],a.hasOwnProperty(u)&&f!==h&&(f!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(U(137,t));break;default:de(e,t,u,f,a,h)}return;default:if(qc(t)){for(var _ in n)f=n[_],n.hasOwnProperty(_)&&f!==void 0&&!a.hasOwnProperty(_)&&ac(e,t,_,void 0,a,f);for(c in a)f=a[c],h=n[c],!a.hasOwnProperty(c)||f===h||f===void 0&&h===void 0||ac(e,t,c,f,a,h);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!=null&&!a.hasOwnProperty(v)&&de(e,t,v,null,a,f);for(d in a)f=a[d],h=n[d],!a.hasOwnProperty(d)||f===h||f==null&&h==null||de(e,t,d,f,a,h)}function th(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var r=n[a],i=r.transferSize,l=r.initiatorType,s=r.duration;if(i&&s&&th(l)){for(l=0,s=r.responseEnd,a+=1;a<n.length;a++){var o=n[a],u=o.startTime;if(u>s)break;var c=o.transferSize,d=o.initiatorType;c&&th(d)&&(o=o.responseEnd,l+=c*(o<s?1:(s-u)/(o-u)))}if(--a,t+=8*(i+l)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var rc=null,ic=null;function Rs(e){return e.nodeType===9?e:e.ownerDocument}function nh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function lc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nu=null;function Mb(){var e=window.event;return e&&e.type==="popstate"?e===nu?!1:(nu=e,!0):(nu=null,!1)}var Iy=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,ah=typeof Promise=="function"?Promise:void 0,Lb=typeof queueMicrotask=="function"?queueMicrotask:typeof ah<"u"?function(e){return ah.resolve(null).then(e).catch(qb)}:Iy;function qb(e){setTimeout(function(){throw e})}function va(e){return e==="head"}function rh(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(r),Hr(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ci(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ci(n);for(var i=n.firstChild;i;){var l=i.nextSibling,s=i.nodeName;i[sl]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=l}}else n==="body"&&Ci(e.ownerDocument.body);n=r}while(n);Hr(t)}function ih(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function sc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":sc(n),Lc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Hb(e,t,n,a){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[sl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function $b(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gt(e.nextSibling),e===null))return null;return e}function Jy(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Gt(e.nextSibling),e===null))return null;return e}function oc(e){return e.data==="$?"||e.data==="$~"}function uc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Gb(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var cc=null;function lh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Gt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function sh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Qy(e,t,n){switch(t=Rs(n),e){case"html":if(e=t.documentElement,!e)throw Error(U(452));return e;case"head":if(e=t.head,!e)throw Error(U(453));return e;case"body":if(e=t.body,!e)throw Error(U(454));return e;default:throw Error(U(451))}}function Ci(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Lc(e)}var Kt=new Map,oh=new Set;function Cs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zn=oe.d;oe.d={f:Kb,r:Vb,D:Yb,C:Xb,L:Ib,m:Jb,X:Zb,S:Qb,M:Pb};function Kb(){var e=zn.f(),t=ro();return e||t}function Vb(e){var t=Vr(e);t!==null&&t.tag===5&&t.type==="form"?Gv(t):zn.r(e)}var Jr=typeof document>"u"?null:document;function Zy(e,t,n){var a=Jr;if(a&&typeof t=="string"&&t){var r=Lt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),oh.has(r)||(oh.add(r),e={rel:e,crossOrigin:n,href:t},a.querySelector(r)===null&&(t=a.createElement("link"),We(t,"link",e),Ge(t),a.head.appendChild(t)))}}function Yb(e){zn.D(e),Zy("dns-prefetch",e,null)}function Xb(e,t){zn.C(e,t),Zy("preconnect",e,t)}function Ib(e,t,n){zn.L(e,t,n);var a=Jr;if(a&&e&&t){var r='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Lt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Lt(n.imageSizes)+'"]')):r+='[href="'+Lt(e)+'"]';var i=r;switch(t){case"style":i=qr(e);break;case"script":i=Qr(e)}Kt.has(i)||(e=we({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Kt.set(i,e),a.querySelector(r)!==null||t==="style"&&a.querySelector(hl(i))||t==="script"&&a.querySelector(gl(i))||(t=a.createElement("link"),We(t,"link",e),Ge(t),a.head.appendChild(t)))}}function Jb(e,t){zn.m(e,t);var n=Jr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Lt(a)+'"][href="'+Lt(e)+'"]',i=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Qr(e)}if(!Kt.has(i)&&(e=we({rel:"modulepreload",href:e},t),Kt.set(i,e),n.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(gl(i)))return}a=n.createElement("link"),We(a,"link",e),Ge(a),n.head.appendChild(a)}}}function Qb(e,t,n){zn.S(e,t,n);var a=Jr;if(a&&e){var r=wr(a).hoistableStyles,i=qr(e);t=t||"default";var l=r.get(i);if(!l){var s={loading:0,preload:null};if(l=a.querySelector(hl(i)))s.loading=5;else{e=we({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Kt.get(i))&&Tf(e,n);var o=l=a.createElement("link");Ge(o),We(o,"link",e),o._p=new Promise(function(u,c){o.onload=u,o.onerror=c}),o.addEventListener("load",function(){s.loading|=1}),o.addEventListener("error",function(){s.loading|=2}),s.loading|=4,es(l,t,a)}l={type:"stylesheet",instance:l,count:1,state:s},r.set(i,l)}}}function Zb(e,t){zn.X(e,t);var n=Jr;if(n&&e){var a=wr(n).hoistableScripts,r=Qr(e),i=a.get(r);i||(i=n.querySelector(gl(r)),i||(e=we({src:e,async:!0},t),(t=Kt.get(r))&&Af(e,t),i=n.createElement("script"),Ge(i),We(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(r,i))}}function Pb(e,t){zn.M(e,t);var n=Jr;if(n&&e){var a=wr(n).hoistableScripts,r=Qr(e),i=a.get(r);i||(i=n.querySelector(gl(r)),i||(e=we({src:e,async:!0,type:"module"},t),(t=Kt.get(r))&&Af(e,t),i=n.createElement("script"),Ge(i),We(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(r,i))}}function uh(e,t,n,a){var r=(r=ta.current)?Cs(r):null;if(!r)throw Error(U(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=qr(n.href),n=wr(r).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=qr(n.href);var i=wr(r).hoistableStyles,l=i.get(e);if(l||(r=r.ownerDocument||r,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,l),(i=r.querySelector(hl(e)))&&!i._p&&(l.instance=i,l.state.loading=5),Kt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Kt.set(e,n),i||Wb(r,e,n,l.state))),t&&a===null)throw Error(U(528,""));return l}if(t&&a!==null)throw Error(U(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Qr(n),n=wr(r).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,e))}}function qr(e){return'href="'+Lt(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function Py(e){return we({},e,{"data-precedence":e.precedence,precedence:null})}function Wb(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),We(t,"link",n),Ge(t),e.head.appendChild(t))}function Qr(e){return'[src="'+Lt(e)+'"]'}function gl(e){return"script[async]"+e}function ch(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Lt(n.href)+'"]');if(a)return t.instance=a,Ge(a),a;var r=we({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ge(a),We(a,"style",r),es(a,n.precedence,e),t.instance=a;case"stylesheet":r=qr(n.href);var i=e.querySelector(hl(r));if(i)return t.state.loading|=4,t.instance=i,Ge(i),i;a=Py(n),(r=Kt.get(r))&&Tf(a,r),i=(e.ownerDocument||e).createElement("link"),Ge(i);var l=i;return l._p=new Promise(function(s,o){l.onload=s,l.onerror=o}),We(i,"link",a),t.state.loading|=4,es(i,n.precedence,e),t.instance=i;case"script":return i=Qr(n.src),(r=e.querySelector(gl(i)))?(t.instance=r,Ge(r),r):(a=n,(r=Kt.get(i))&&(a=we({},n),Af(a,r)),e=e.ownerDocument||e,r=e.createElement("script"),Ge(r),We(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(U(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,es(a,n.precedence,e));return t.instance}function es(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,i=r,l=0;l<a.length;l++){var s=a[l];if(s.dataset.precedence===t)i=s;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Tf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Af(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ts=null;function fh(e,t,n){if(ts===null){var a=new Map,r=ts=new Map;r.set(n,a)}else r=ts,a=r.get(n),a||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var i=n[r];if(!(i[sl]||i[Qe]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var l=i.getAttribute(t)||"";l=e+l;var s=a.get(l);s?s.push(i):a.set(l,[i])}}return a}function dh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Fb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wy(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function e_(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=qr(a.href),i=t.querySelector(hl(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ds.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,Ge(i);return}i=t.ownerDocument||t,a=Py(a),(r=Kt.get(r))&&Tf(a,r),i=i.createElement("link"),Ge(i);var l=i;l._p=new Promise(function(s,o){l.onload=s,l.onerror=o}),We(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Ds.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var au=0;function t_(e,t){return e.stylesheets&&e.count===0&&ns(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&ns(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&au===0&&(au=62500*kb());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ns(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>au?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}function Ds(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ns(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var js=null;function ns(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,js=new Map,t.forEach(n_,e),js=null,Ds.call(e))}function n_(e,t){if(!(t.state.loading&4)){var n=js.get(e);if(n)var a=n.get(null);else{n=new Map,js.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var l=r[i];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),a=l)}a&&n.set(null,a)}r=t.instance,l=r.getAttribute("data-precedence"),i=n.get(l)||a,i===a&&n.set(null,r),n.set(l,r),this.count++,a=Ds.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),i?i.parentNode.insertBefore(r,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Xi={$$typeof:En,Provider:null,Consumer:null,_currentValue:Ra,_currentValue2:Ra,_threadCount:0};function a_(e,t,n,a,r,i,l,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oo(0),this.hiddenUpdates=Oo(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Fy(e,t,n,a,r,i,l,s,o,u,c,d){return e=new a_(e,t,n,l,o,u,c,d,s),t=1,i===!0&&(t|=24),i=St(3,null,null,t),e.current=i,i.stateNode=e,t=Zc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},Fc(i),e}function em(e){return e?(e=yr,e):yr}function tm(e,t,n,a,r,i){r=em(r),a.context===null?a.context=r:a.pendingContext=r,a=aa(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=ra(e,a,t),n!==null&&(ct(n,e,t),wi(n,e,t))}function hh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Of(e,t){hh(e,t),(e=e.alternate)&&hh(e,t)}function nm(e){if(e.tag===13||e.tag===31){var t=Ga(e,67108864);t!==null&&ct(t,e,67108864),Of(e,67108864)}}function gh(e){if(e.tag===13||e.tag===31){var t=Ct();t=Mc(t);var n=Ga(e,t);n!==null&&ct(n,e,t),Of(e,t)}}var Ns=!0;function r_(e,t,n,a){var r=J.T;J.T=null;var i=oe.p;try{oe.p=2,xf(e,t,n,a)}finally{oe.p=i,J.T=r}}function i_(e,t,n,a){var r=J.T;J.T=null;var i=oe.p;try{oe.p=8,xf(e,t,n,a)}finally{oe.p=i,J.T=r}}function xf(e,t,n,a){if(Ns){var r=fc(a);if(r===null)tu(e,t,a,Us,n),vh(e,a);else if(s_(r,e,t,n,a))a.stopPropagation();else if(vh(e,a),t&4&&-1<l_.indexOf(e)){for(;r!==null;){var i=Vr(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var l=wa(i.pendingLanes);if(l!==0){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;l;){var o=1<<31-Rt(l);s.entanglements[1]|=o,l&=~o}hn(i),!(se&6)&&(Ss=Ot()+500,dl(0))}}break;case 31:case 13:s=Ga(i,2),s!==null&&ct(s,i,2),ro(),Of(i,2)}if(i=fc(a),i===null&&tu(e,t,a,Us,n),i===r)break;r=i}r!==null&&a.stopPropagation()}else tu(e,t,a,null,n)}}function fc(e){return e=Hc(e),Rf(e)}var Us=null;function Rf(e){if(Us=null,e=cr(e),e!==null){var t=al(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Sg(t),e!==null)return e;e=null}else if(n===31){if(e=Eg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Us=e,null}function am(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yp()){case xg:return 2;case Rg:return 8;case os:case Xp:return 32;case Cg:return 268435456;default:return 32}default:return 32}}var dc=!1,sa=null,oa=null,ua=null,Ii=new Map,Ji=new Map,Jn=[],l_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(t.pointerId)}}function ui(e,t,n,a,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Vr(t),t!==null&&nm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function s_(e,t,n,a,r){switch(t){case"focusin":return sa=ui(sa,e,t,n,a,r),!0;case"dragenter":return oa=ui(oa,e,t,n,a,r),!0;case"mouseover":return ua=ui(ua,e,t,n,a,r),!0;case"pointerover":var i=r.pointerId;return Ii.set(i,ui(Ii.get(i)||null,e,t,n,a,r)),!0;case"gotpointercapture":return i=r.pointerId,Ji.set(i,ui(Ji.get(i)||null,e,t,n,a,r)),!0}return!1}function rm(e){var t=cr(e.target);if(t!==null){var n=al(t);if(n!==null){if(t=n.tag,t===13){if(t=Sg(n),t!==null){e.blockedOn=t,Ff(e.priority,function(){gh(n)});return}}else if(t===31){if(t=Eg(n),t!==null){e.blockedOn=t,Ff(e.priority,function(){gh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function as(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fc(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Du=a,n.target.dispatchEvent(a),Du=null}else return t=Vr(n),t!==null&&nm(t),e.blockedOn=n,!1;t.shift()}return!0}function yh(e,t,n){as(e)&&n.delete(t)}function o_(){dc=!1,sa!==null&&as(sa)&&(sa=null),oa!==null&&as(oa)&&(oa=null),ua!==null&&as(ua)&&(ua=null),Ii.forEach(yh),Ji.forEach(yh)}function zl(e,t){e.blockedOn===t&&(e.blockedOn=null,dc||(dc=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,o_)))}var kl=null;function mh(e){kl!==e&&(kl=e,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,function(){kl===e&&(kl=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],r=e[t+2];if(typeof a!="function"){if(Rf(a||n)===null)continue;break}var i=Vr(n);i!==null&&(e.splice(t,3),t-=3,Xu(i,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function Hr(e){function t(o){return zl(o,e)}sa!==null&&zl(sa,e),oa!==null&&zl(oa,e),ua!==null&&zl(ua,e),Ii.forEach(t),Ji.forEach(t);for(var n=0;n<Jn.length;n++){var a=Jn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Jn.length&&(n=Jn[0],n.blockedOn===null);)rm(n),n.blockedOn===null&&Jn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var r=n[a],i=n[a+1],l=r[ft]||null;if(typeof i=="function")l||mh(n);else if(l){var s=null;if(i&&i.hasAttribute("formAction")){if(r=i,l=i[ft]||null)s=l.formAction;else if(Rf(r)!==null)continue}else s=l.action;typeof s=="function"?n[a+1]=s:(n.splice(a,3),a-=3),mh(n)}}}function im(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(l){return r=l})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Cf(e){this._internalRoot=e}so.prototype.render=Cf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));var n=t.current,a=Ct();tm(n,a,e,t,null,null)};so.prototype.unmount=Cf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tm(e.current,2,null,e,null,null),ro(),t[Kr]=null}};function so(e){this._internalRoot=e}so.prototype.unstable_scheduleHydration=function(e){if(e){var t=zg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jn.length&&t!==0&&t<Jn[n].priority;n++);Jn.splice(n,0,e),n===0&&rm(e)}};var ph=_g.version;if(ph!=="19.2.3")throw Error(U(527,ph,"19.2.3"));oe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Lp(t),e=e!==null?Tg(e):null,e=e===null?null:e.stateNode,e};var u_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{rl=Ml.inject(u_),xt=Ml}catch{}}Vs.createRoot=function(e,t){if(!wg(e))throw Error(U(299));var n=!1,a="",r=Zv,i=Pv,l=Wv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Fy(e,1,!1,null,null,n,a,null,r,i,l,im),e[Kr]=t.current,Ef(e),new Cf(t)};Vs.hydrateRoot=function(e,t,n){if(!wg(e))throw Error(U(299));var a=!1,r="",i=Zv,l=Pv,s=Wv,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=Fy(e,1,!0,t,n??null,a,r,o,i,l,s,im),t.context=em(null),n=t.current,a=Ct(),a=Mc(a),r=aa(a),r.callback=null,ra(n,r,a),n=a,t.current.lanes=n,ll(t,n),hn(t),e[Kr]=t.current,Ef(e),new so(t)};Vs.version="19.2.3";function lm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lm)}catch(e){console.error(e)}}lm(),gg.exports=Vs;var c_=gg.exports;function f_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.useMemo(()=>a=>{t.forEach(r=>r(a))},t)}const oo=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Df(e){return"nodeType"in e}function rt(e){var t,n;return e?Zr(e)?e:Df(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function jf(e){const{Document:t}=rt(e);return e instanceof t}function vl(e){return Zr(e)?!1:e instanceof rt(e).HTMLElement}function sm(e){return e instanceof rt(e).SVGElement}function Pr(e){return e?Zr(e)?e.document:Df(e)?jf(e)?e:vl(e)||sm(e)?e.ownerDocument:document:document:document}const Wt=oo?S.useLayoutEffect:S.useEffect;function uo(e){const t=S.useRef(e);return Wt(()=>{t.current=e}),S.useCallback(function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t.current==null?void 0:t.current(...a)},[])}function d_(){const e=S.useRef(null),t=S.useCallback((a,r)=>{e.current=setInterval(a,r)},[]),n=S.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Qi(e,t){t===void 0&&(t=[e]);const n=S.useRef(e);return Wt(()=>{n.current!==e&&(n.current=e)},t),n}function yl(e,t){const n=S.useRef();return S.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function zs(e){const t=uo(e),n=S.useRef(null),a=S.useCallback(r=>{r!==n.current&&(t==null||t(r,n.current)),n.current=r},[]);return[n,a]}function ks(e){const t=S.useRef();return S.useEffect(()=>{t.current=e},[e]),t.current}let ru={};function ml(e,t){return S.useMemo(()=>{if(t)return t;const n=ru[e]==null?0:ru[e]+1;return ru[e]=n,e+"-"+n},[e,t])}function om(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.reduce((i,l)=>{const s=Object.entries(l);for(const[o,u]of s){const c=i[o];c!=null&&(i[o]=c+e*u)}return i},{...t})}}const Rr=om(1),Zi=om(-1);function h_(e){return"clientX"in e&&"clientY"in e}function co(e){if(!e)return!1;const{KeyboardEvent:t}=rt(e.target);return t&&e instanceof t}function g_(e){if(!e)return!1;const{TouchEvent:t}=rt(e.target);return t&&e instanceof t}function Ms(e){if(g_(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return h_(e)?{x:e.clientX,y:e.clientY}:null}const La=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[La.Translate.toString(e),La.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),bh="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function v_(e){return e.matches(bh)?e:e.querySelector(bh)}const y_={display:"none"};function m_(e){let{id:t,value:n}=e;return ye.createElement("div",{id:t,style:y_},n)}function p_(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ye.createElement("div",{id:t,style:r,role:"status","aria-live":a,"aria-atomic":!0},n)}function b_(){const[e,t]=S.useState("");return{announce:S.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const um=S.createContext(null);function __(e){const t=S.useContext(um);S.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function w_(){const[e]=S.useState(()=>new Set),t=S.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[S.useCallback(a=>{let{type:r,event:i}=a;e.forEach(l=>{var s;return(s=l[r])==null?void 0:s.call(l,i)})},[e]),t]}const S_={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},E_={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function T_(e){let{announcements:t=E_,container:n,hiddenTextDescribedById:a,screenReaderInstructions:r=S_}=e;const{announce:i,announcement:l}=b_(),s=ml("DndLiveRegion"),[o,u]=S.useState(!1);if(S.useEffect(()=>{u(!0)},[]),__(S.useMemo(()=>({onDragStart(d){let{active:f}=d;i(t.onDragStart({active:f}))},onDragMove(d){let{active:f,over:h}=d;t.onDragMove&&i(t.onDragMove({active:f,over:h}))},onDragOver(d){let{active:f,over:h}=d;i(t.onDragOver({active:f,over:h}))},onDragEnd(d){let{active:f,over:h}=d;i(t.onDragEnd({active:f,over:h}))},onDragCancel(d){let{active:f,over:h}=d;i(t.onDragCancel({active:f,over:h}))}}),[i,t])),!o)return null;const c=ye.createElement(ye.Fragment,null,ye.createElement(m_,{id:a,value:r.draggable}),ye.createElement(p_,{id:s,announcement:l}));return n?sr.createPortal(c,n):c}var Be;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Be||(Be={}));function Bs(){}function hc(e,t){return S.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function cm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Ft=Object.freeze({x:0,y:0});function fm(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function A_(e,t){const n=Ms(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function dm(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function O_(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function _h(e){let{left:t,top:n,height:a,width:r}=e;return[{x:t,y:n},{x:t+r,y:n},{x:t,y:n+a},{x:t+r,y:n+a}]}function hm(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function wh(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const gm=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const r=wh(t,t.left,t.top),i=[];for(const l of a){const{id:s}=l,o=n.get(s);if(o){const u=fm(wh(o),r);i.push({id:s,data:{droppableContainer:l,value:u}})}}return i.sort(dm)},x_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const r=_h(t),i=[];for(const l of a){const{id:s}=l,o=n.get(s);if(o){const u=_h(o),c=r.reduce((f,h,m)=>f+fm(u[m],h),0),d=Number((c/4).toFixed(4));i.push({id:s,data:{droppableContainer:l,value:d}})}}return i.sort(dm)};function R_(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),r=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),l=r-a,s=i-n;if(a<r&&n<i){const o=t.width*t.height,u=e.width*e.height,c=l*s,d=c/(o+u-c);return Number(d.toFixed(4))}return 0}const C_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const r=[];for(const i of a){const{id:l}=i,s=n.get(l);if(s){const o=R_(s,t);o>0&&r.push({id:l,data:{droppableContainer:i,value:o}})}}return r.sort(O_)};function D_(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function vm(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ft}function j_(e){return function(n){for(var a=arguments.length,r=new Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];return r.reduce((l,s)=>({...l,top:l.top+e*s.y,bottom:l.bottom+e*s.y,left:l.left+e*s.x,right:l.right+e*s.x}),{...n})}}const N_=j_(1);function ym(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function U_(e,t,n){const a=ym(t);if(!a)return e;const{scaleX:r,scaleY:i,x:l,y:s}=a,o=e.left-l-(1-r)*parseFloat(n),u=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),c=r?e.width/r:e.width,d=i?e.height/i:e.height;return{width:c,height:d,top:u,right:o+c,bottom:u+d,left:o}}const z_={ignoreTransform:!1};function Wr(e,t){t===void 0&&(t=z_);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:c}=rt(e).getComputedStyle(e);u&&(n=U_(n,u,c))}const{top:a,left:r,width:i,height:l,bottom:s,right:o}=n;return{top:a,left:r,width:i,height:l,bottom:s,right:o}}function Sh(e){return Wr(e,{ignoreTransform:!0})}function k_(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function M_(e,t){return t===void 0&&(t=rt(e).getComputedStyle(e)),t.position==="fixed"}function B_(e,t){t===void 0&&(t=rt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const i=t[r];return typeof i=="string"?n.test(i):!1})}function fo(e,t){const n=[];function a(r){if(t!=null&&n.length>=t||!r)return n;if(jf(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!vl(r)||sm(r)||n.includes(r))return n;const i=rt(e).getComputedStyle(r);return r!==e&&B_(r,i)&&n.push(r),M_(r,i)?n:a(r.parentNode)}return e?a(e):n}function mm(e){const[t]=fo(e,1);return t??null}function iu(e){return!oo||!e?null:Zr(e)?e:Df(e)?jf(e)||e===Pr(e).scrollingElement?window:vl(e)?e:null:null}function pm(e){return Zr(e)?e.scrollX:e.scrollLeft}function bm(e){return Zr(e)?e.scrollY:e.scrollTop}function gc(e){return{x:pm(e),y:bm(e)}}var $e;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})($e||($e={}));function _m(e){return!oo||!e?!1:e===document.scrollingElement}function wm(e){const t={x:0,y:0},n=_m(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},r=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,l=e.scrollTop>=a.y,s=e.scrollLeft>=a.x;return{isTop:r,isLeft:i,isBottom:l,isRight:s,maxScroll:a,minScroll:t}}const L_={x:.2,y:.2};function q_(e,t,n,a,r){let{top:i,left:l,right:s,bottom:o}=n;a===void 0&&(a=10),r===void 0&&(r=L_);const{isTop:u,isBottom:c,isLeft:d,isRight:f}=wm(e),h={x:0,y:0},m={x:0,y:0},p={height:t.height*r.y,width:t.width*r.x};return!u&&i<=t.top+p.height?(h.y=$e.Backward,m.y=a*Math.abs((t.top+p.height-i)/p.height)):!c&&o>=t.bottom-p.height&&(h.y=$e.Forward,m.y=a*Math.abs((t.bottom-p.height-o)/p.height)),!f&&s>=t.right-p.width?(h.x=$e.Forward,m.x=a*Math.abs((t.right-p.width-s)/p.width)):!d&&l<=t.left+p.width&&(h.x=$e.Backward,m.x=a*Math.abs((t.left+p.width-l)/p.width)),{direction:h,speed:m}}function H_(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:l}=window;return{top:0,left:0,right:i,bottom:l,width:i,height:l}}const{top:t,left:n,right:a,bottom:r}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:r,width:e.clientWidth,height:e.clientHeight}}function Sm(e){return e.reduce((t,n)=>Rr(t,gc(n)),Ft)}function $_(e){return e.reduce((t,n)=>t+pm(n),0)}function G_(e){return e.reduce((t,n)=>t+bm(n),0)}function Em(e,t){if(t===void 0&&(t=Wr),!e)return;const{top:n,left:a,bottom:r,right:i}=t(e);mm(e)&&(r<=0||i<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const K_=[["x",["left","right"],$_],["y",["top","bottom"],G_]];class Nf{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=fo(n),r=Sm(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,l,s]of K_)for(const o of l)Object.defineProperty(this,o,{get:()=>{const u=s(a),c=r[i]-u;return this.rect[o]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Di{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var r;(r=this.target)==null||r.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function V_(e){const{EventTarget:t}=rt(e);return e instanceof t?e:Pr(e)}function lu(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var zt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(zt||(zt={}));function Eh(e){e.preventDefault()}function Y_(e){e.stopPropagation()}var ae;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ae||(ae={}));const Tm={start:[ae.Space,ae.Enter],cancel:[ae.Esc],end:[ae.Space,ae.Enter,ae.Tab]},X_=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ae.Right:return{...n,x:n.x+25};case ae.Left:return{...n,x:n.x-25};case ae.Down:return{...n,y:n.y+25};case ae.Up:return{...n,y:n.y-25}}};class Uf{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Di(Pr(n)),this.windowListeners=new Di(rt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(zt.Resize,this.handleCancel),this.windowListeners.add(zt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(zt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&Em(a),n(Ft)}handleKeyDown(t){if(co(t)){const{active:n,context:a,options:r}=this.props,{keyboardCodes:i=Tm,coordinateGetter:l=X_,scrollBehavior:s="smooth"}=r,{code:o}=t;if(i.end.includes(o)){this.handleEnd(t);return}if(i.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:u}=a.current,c=u?{x:u.left,y:u.top}:Ft;this.referenceCoordinates||(this.referenceCoordinates=c);const d=l(t,{active:n,context:a.current,currentCoordinates:c});if(d){const f=Zi(d,c),h={x:0,y:0},{scrollableAncestors:m}=a.current;for(const p of m){const _=t.code,{isTop:v,isRight:g,isLeft:y,isBottom:b,maxScroll:C,minScroll:j}=wm(p),w=H_(p),R={x:Math.min(_===ae.Right?w.right-w.width/2:w.right,Math.max(_===ae.Right?w.left:w.left+w.width/2,d.x)),y:Math.min(_===ae.Down?w.bottom-w.height/2:w.bottom,Math.max(_===ae.Down?w.top:w.top+w.height/2,d.y))},N=_===ae.Right&&!g||_===ae.Left&&!y,k=_===ae.Down&&!b||_===ae.Up&&!v;if(N&&R.x!==d.x){const L=p.scrollLeft+f.x,G=_===ae.Right&&L<=C.x||_===ae.Left&&L>=j.x;if(G&&!f.y){p.scrollTo({left:L,behavior:s});return}G?h.x=p.scrollLeft-L:h.x=_===ae.Right?p.scrollLeft-C.x:p.scrollLeft-j.x,h.x&&p.scrollBy({left:-h.x,behavior:s});break}else if(k&&R.y!==d.y){const L=p.scrollTop+f.y,G=_===ae.Down&&L<=C.y||_===ae.Up&&L>=j.y;if(G&&!f.x){p.scrollTo({top:L,behavior:s});return}G?h.y=p.scrollTop-L:h.y=_===ae.Down?p.scrollTop-C.y:p.scrollTop-j.y,h.y&&p.scrollBy({top:-h.y,behavior:s});break}}this.handleMove(t,Rr(Zi(d,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Uf.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=Tm,onActivation:r}=t,{active:i}=n;const{code:l}=e.nativeEvent;if(a.start.includes(l)){const s=i.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),r==null||r({event:e.nativeEvent}),!0)}return!1}}];function Th(e){return!!(e&&"distance"in e)}function Ah(e){return!!(e&&"delay"in e)}class zf{constructor(t,n,a){var r;a===void 0&&(a=V_(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:l}=i;this.props=t,this.events=n,this.document=Pr(l),this.documentListeners=new Di(this.document),this.listeners=new Di(a),this.windowListeners=new Di(rt(l)),this.initialCoordinates=(r=Ms(i))!=null?r:Ft,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(zt.Resize,this.handleCancel),this.windowListeners.add(zt.DragStart,Eh),this.windowListeners.add(zt.VisibilityChange,this.handleCancel),this.windowListeners.add(zt.ContextMenu,Eh),this.documentListeners.add(zt.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ah(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Th(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:r}=this.props;r(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(zt.Click,Y_,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(zt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:r,props:i}=this,{onMove:l,options:{activationConstraint:s}}=i;if(!r)return;const o=(n=Ms(t))!=null?n:Ft,u=Zi(r,o);if(!a&&s){if(Th(s)){if(s.tolerance!=null&&lu(u,s.tolerance))return this.handleCancel();if(lu(u,s.distance))return this.handleStart()}if(Ah(s)&&lu(u,s.tolerance))return this.handleCancel();this.handlePending(s,u);return}t.cancelable&&t.preventDefault(),l(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ae.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const I_={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ho extends zf{constructor(t){const{event:n}=t,a=Pr(n.target);super(t,I_,a)}}ho.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const J_={move:{name:"mousemove"},end:{name:"mouseup"}};var vc;(function(e){e[e.RightClick=2]="RightClick"})(vc||(vc={}));class Q_ extends zf{constructor(t){super(t,J_,Pr(t.event.target))}}Q_.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===vc.RightClick?!1:(a==null||a({event:n}),!0)}}];const su={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Z_ extends zf{constructor(t){super(t,su)}static setup(){return window.addEventListener(su.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(su.move.name,t)};function t(){}}}Z_.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:r}=n;return r.length>1?!1:(a==null||a({event:n}),!0)}}];var ji;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ji||(ji={}));var Ls;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ls||(Ls={}));function P_(e){let{acceleration:t,activator:n=ji.Pointer,canScroll:a,draggingRect:r,enabled:i,interval:l=5,order:s=Ls.TreeOrder,pointerCoordinates:o,scrollableAncestors:u,scrollableAncestorRects:c,delta:d,threshold:f}=e;const h=F_({delta:d,disabled:!i}),[m,p]=d_(),_=S.useRef({x:0,y:0}),v=S.useRef({x:0,y:0}),g=S.useMemo(()=>{switch(n){case ji.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case ji.DraggableRect:return r}},[n,r,o]),y=S.useRef(null),b=S.useCallback(()=>{const j=y.current;if(!j)return;const w=_.current.x*v.current.x,R=_.current.y*v.current.y;j.scrollBy(w,R)},[]),C=S.useMemo(()=>s===Ls.TreeOrder?[...u].reverse():u,[s,u]);S.useEffect(()=>{if(!i||!u.length||!g){p();return}for(const j of C){if((a==null?void 0:a(j))===!1)continue;const w=u.indexOf(j),R=c[w];if(!R)continue;const{direction:N,speed:k}=q_(j,R,g,t,f);for(const L of["x","y"])h[L][N[L]]||(k[L]=0,N[L]=0);if(k.x>0||k.y>0){p(),y.current=j,m(b,l),_.current=k,v.current=N;return}}_.current={x:0,y:0},v.current={x:0,y:0},p()},[t,b,a,p,i,l,JSON.stringify(g),JSON.stringify(h),m,u,C,c,JSON.stringify(f)])}const W_={x:{[$e.Backward]:!1,[$e.Forward]:!1},y:{[$e.Backward]:!1,[$e.Forward]:!1}};function F_(e){let{delta:t,disabled:n}=e;const a=ks(t);return yl(r=>{if(n||!a||!r)return W_;const i={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[$e.Backward]:r.x[$e.Backward]||i.x===-1,[$e.Forward]:r.x[$e.Forward]||i.x===1},y:{[$e.Backward]:r.y[$e.Backward]||i.y===-1,[$e.Forward]:r.y[$e.Forward]||i.y===1}}},[n,t,a])}function ew(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return yl(r=>{var i;return t==null?null:(i=a??r)!=null?i:null},[a,t])}function tw(e,t){return S.useMemo(()=>e.reduce((n,a)=>{const{sensor:r}=a,i=r.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,a)}));return[...n,...i]},[]),[e,t])}var $r;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})($r||($r={}));var yc;(function(e){e.Optimized="optimized"})(yc||(yc={}));const Oh=new Map;function nw(e,t){let{dragging:n,dependencies:a,config:r}=t;const[i,l]=S.useState(null),{frequency:s,measure:o,strategy:u}=r,c=S.useRef(e),d=_(),f=Qi(d),h=S.useCallback(function(v){v===void 0&&(v=[]),!f.current&&l(g=>g===null?v:g.concat(v.filter(y=>!g.includes(y))))},[f]),m=S.useRef(null),p=yl(v=>{if(d&&!n)return Oh;if(!v||v===Oh||c.current!==e||i!=null){const g=new Map;for(let y of e){if(!y)continue;if(i&&i.length>0&&!i.includes(y.id)&&y.rect.current){g.set(y.id,y.rect.current);continue}const b=y.node.current,C=b?new Nf(o(b),b):null;y.rect.current=C,C&&g.set(y.id,C)}return g}return v},[e,i,n,d,o]);return S.useEffect(()=>{c.current=e},[e]),S.useEffect(()=>{d||h()},[n,d]),S.useEffect(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),S.useEffect(()=>{d||typeof s!="number"||m.current!==null||(m.current=setTimeout(()=>{h(),m.current=null},s))},[s,d,h,...a]),{droppableRects:p,measureDroppableContainers:h,measuringScheduled:i!=null};function _(){switch(u){case $r.Always:return!1;case $r.BeforeDragging:return n;default:return!n}}}function kf(e,t){return yl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function aw(e,t){return kf(e,t)}function rw(e){let{callback:t,disabled:n}=e;const a=uo(t),r=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(a)},[a,n]);return S.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function go(e){let{callback:t,disabled:n}=e;const a=uo(t),r=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(a)},[n]);return S.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function iw(e){return new Nf(Wr(e),e)}function xh(e,t,n){t===void 0&&(t=iw);const[a,r]=S.useState(null);function i(){r(o=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=o??n)!=null?u:null}const c=t(e);return JSON.stringify(o)===JSON.stringify(c)?o:c})}const l=rw({callback(o){if(e)for(const u of o){const{type:c,target:d}=u;if(c==="childList"&&d instanceof HTMLElement&&d.contains(e)){i();break}}}}),s=go({callback:i});return Wt(()=>{i(),e?(s==null||s.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),l==null||l.disconnect())},[e]),a}function lw(e){const t=kf(e);return vm(e,t)}const Rh=[];function sw(e){const t=S.useRef(e),n=yl(a=>e?a&&a!==Rh&&e&&t.current&&e.parentNode===t.current.parentNode?a:fo(e):Rh,[e]);return S.useEffect(()=>{t.current=e},[e]),n}function ow(e){const[t,n]=S.useState(null),a=S.useRef(e),r=S.useCallback(i=>{const l=iu(i.target);l&&n(s=>s?(s.set(l,gc(l)),new Map(s)):null)},[]);return S.useEffect(()=>{const i=a.current;if(e!==i){l(i);const s=e.map(o=>{const u=iu(o);return u?(u.addEventListener("scroll",r,{passive:!0}),[u,gc(u)]):null}).filter(o=>o!=null);n(s.length?new Map(s):null),a.current=e}return()=>{l(e),l(i)};function l(s){s.forEach(o=>{const u=iu(o);u==null||u.removeEventListener("scroll",r)})}},[r,e]),S.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,l)=>Rr(i,l),Ft):Sm(e):Ft,[e,t])}function Ch(e,t){t===void 0&&(t=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},t),S.useEffect(()=>{const a=e!==Ft;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?Zi(e,n.current):Ft}function uw(e){S.useEffect(()=>{if(!oo)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function cw(e,t){return S.useMemo(()=>e.reduce((n,a)=>{let{eventName:r,handler:i}=a;return n[r]=l=>{i(l,t)},n},{}),[e,t])}function Am(e){return S.useMemo(()=>e?k_(e):null,[e])}const Dh=[];function fw(e,t){t===void 0&&(t=Wr);const[n]=e,a=Am(n?rt(n):null),[r,i]=S.useState(Dh);function l(){i(()=>e.length?e.map(o=>_m(o)?a:new Nf(t(o),o)):Dh)}const s=go({callback:l});return Wt(()=>{s==null||s.disconnect(),l(),e.forEach(o=>s==null?void 0:s.observe(o))},[e]),r}function Om(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return vl(t)?t:e}function dw(e){let{measure:t}=e;const[n,a]=S.useState(null),r=S.useCallback(u=>{for(const{target:c}of u)if(vl(c)){a(d=>{const f=t(c);return d?{...d,width:f.width,height:f.height}:f});break}},[t]),i=go({callback:r}),l=S.useCallback(u=>{const c=Om(u);i==null||i.disconnect(),c&&(i==null||i.observe(c)),a(c?t(c):null)},[t,i]),[s,o]=zs(l);return S.useMemo(()=>({nodeRef:s,rect:n,setRef:o}),[n,s,o])}const hw=[{sensor:ho,options:{}},{sensor:Uf,options:{}}],gw={current:{}},rs={draggable:{measure:Sh},droppable:{measure:Sh,strategy:$r.WhileDragging,frequency:yc.Optimized},dragOverlay:{measure:Wr}};class Ni extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const vw={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ni,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Bs},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:rs,measureDroppableContainers:Bs,windowRect:null,measuringScheduled:!1},xm={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Bs,draggableNodes:new Map,over:null,measureDroppableContainers:Bs},pl=S.createContext(xm),Rm=S.createContext(vw);function yw(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ni}}}function mw(e,t){switch(t.type){case Be.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Be.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Be.DragEnd:case Be.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Be.RegisterDroppable:{const{element:n}=t,{id:a}=n,r=new Ni(e.droppable.containers);return r.set(a,n),{...e,droppable:{...e.droppable,containers:r}}}case Be.SetDroppableDisabled:{const{id:n,key:a,disabled:r}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const l=new Ni(e.droppable.containers);return l.set(n,{...i,disabled:r}),{...e,droppable:{...e.droppable,containers:l}}}case Be.UnregisterDroppable:{const{id:n,key:a}=t,r=e.droppable.containers.get(n);if(!r||a!==r.key)return e;const i=new Ni(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function pw(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:r}=S.useContext(pl),i=ks(a),l=ks(n==null?void 0:n.id);return S.useEffect(()=>{if(!t&&!a&&i&&l!=null){if(!co(i)||document.activeElement===i.target)return;const s=r.get(l);if(!s)return;const{activatorNode:o,node:u}=s;if(!o.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[o.current,u.current]){if(!c)continue;const d=v_(c);if(d){d.focus();break}}})}},[a,t,r,l,i]),null}function Cm(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((r,i)=>i({transform:r,...a}),n):n}function bw(e){return S.useMemo(()=>({draggable:{...rs.draggable,...e==null?void 0:e.draggable},droppable:{...rs.droppable,...e==null?void 0:e.droppable},dragOverlay:{...rs.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function _w(e){let{activeNode:t,measure:n,initialRect:a,config:r=!0}=e;const i=S.useRef(!1),{x:l,y:s}=typeof r=="boolean"?{x:r,y:r}:r;Wt(()=>{if(!l&&!s||!t){i.current=!1;return}if(i.current||!a)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const c=n(u),d=vm(c,a);if(l||(d.x=0),s||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const f=mm(u);f&&f.scrollBy({top:d.y,left:d.x})}},[t,l,s,a,n])}const vo=S.createContext({...Ft,scaleX:1,scaleY:1});var Kn;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Kn||(Kn={}));const Dm=S.memo(function(t){var n,a,r,i;let{id:l,accessibility:s,autoScroll:o=!0,children:u,sensors:c=hw,collisionDetection:d=C_,measuring:f,modifiers:h,...m}=t;const p=S.useReducer(mw,void 0,yw),[_,v]=p,[g,y]=w_(),[b,C]=S.useState(Kn.Uninitialized),j=b===Kn.Initialized,{draggable:{active:w,nodes:R,translate:N},droppable:{containers:k}}=_,L=w!=null?R.get(w):null,G=S.useRef({initial:null,translated:null}),Q=S.useMemo(()=>{var Fe;return w!=null?{id:w,data:(Fe=L==null?void 0:L.data)!=null?Fe:gw,rect:G}:null},[w,L]),Y=S.useRef(null),[ne,T]=S.useState(null),[D,E]=S.useState(null),O=Qi(m,Object.values(m)),A=ml("DndDescribedBy",l),M=S.useMemo(()=>k.getEnabled(),[k]),z=bw(f),{droppableRects:B,measureDroppableContainers:$,measuringScheduled:H}=nw(M,{dragging:j,dependencies:[N.x,N.y],config:z.droppable}),q=ew(R,w),ie=S.useMemo(()=>D?Ms(D):null,[D]),fe=hp(),W=aw(q,z.draggable.measure);_w({activeNode:w!=null?R.get(w):null,config:fe.layoutShiftCompensation,initialRect:W,measure:z.draggable.measure});const V=xh(q,z.draggable.measure,W),Ee=xh(q?q.parentElement:null),De=S.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Vt=k.getNodeFor((n=De.current.over)==null?void 0:n.id),ht=dw({measure:z.dragOverlay.measure}),Yt=(a=ht.nodeRef.current)!=null?a:q,Xt=j?(r=ht.rect)!=null?r:V:null,_l=!!(ht.nodeRef.current&&ht.rect),Va=lw(_l?null:V),ya=Am(Yt?rt(Yt):null),tn=sw(j?Vt??q:null),Ve=fw(tn),gt=Cm(h,{transform:{x:N.x-Va.x,y:N.y-Va.y,scaleX:1,scaleY:1},activatorEvent:D,active:Q,activeNodeRect:V,containerNodeRect:Ee,draggingNodeRect:Xt,over:De.current.over,overlayNodeRect:ht.rect,scrollableAncestors:tn,scrollableAncestorRects:Ve,windowRect:ya}),it=ie?Rr(ie,N):null,nn=ow(tn),vt=Ch(nn),et=Ch(nn,[V]),an=Rr(gt,vt),rn=Xt?N_(Xt,gt):null,Fr=Q&&rn?d({active:Q,collisionRect:rn,droppableRects:B,droppableContainers:M,pointerCoordinates:it}):null,$f=hm(Fr,"id"),[Mn,Gf]=S.useState(null),op=_l?gt:Rr(gt,et),up=D_(op,(i=Mn==null?void 0:Mn.rect)!=null?i:null,V),bo=S.useRef(null),Kf=S.useCallback((Fe,yt)=>{let{sensor:mt,options:Bn}=yt;if(Y.current==null)return;const Nt=R.get(Y.current);if(!Nt)return;const pt=Fe.nativeEvent,ln=new mt({active:Y.current,activeNode:Nt,event:pt,options:Bn,context:De,onAbort(Ye){if(!R.get(Ye))return;const{onDragAbort:sn}=O.current,gn={id:Ye};sn==null||sn(gn),g({type:"onDragAbort",event:gn})},onPending(Ye,Ln,sn,gn){if(!R.get(Ye))return;const{onDragPending:ti}=O.current,qn={id:Ye,constraint:Ln,initialCoordinates:sn,offset:gn};ti==null||ti(qn),g({type:"onDragPending",event:qn})},onStart(Ye){const Ln=Y.current;if(Ln==null)return;const sn=R.get(Ln);if(!sn)return;const{onDragStart:gn}=O.current,ei={activatorEvent:pt,active:{id:Ln,data:sn.data,rect:G}};sr.unstable_batchedUpdates(()=>{gn==null||gn(ei),C(Kn.Initializing),v({type:Be.DragStart,initialCoordinates:Ye,active:Ln}),g({type:"onDragStart",event:ei}),T(bo.current),E(pt)})},onMove(Ye){v({type:Be.DragMove,coordinates:Ye})},onEnd:Ya(Be.DragEnd),onCancel:Ya(Be.DragCancel)});bo.current=ln;function Ya(Ye){return async function(){const{active:sn,collisions:gn,over:ei,scrollAdjustedTranslate:ti}=De.current;let qn=null;if(sn&&ti){const{cancelDrop:ni}=O.current;qn={activatorEvent:pt,active:sn,collisions:gn,delta:ti,over:ei},Ye===Be.DragEnd&&typeof ni=="function"&&await Promise.resolve(ni(qn))&&(Ye=Be.DragCancel)}Y.current=null,sr.unstable_batchedUpdates(()=>{v({type:Ye}),C(Kn.Uninitialized),Gf(null),T(null),E(null),bo.current=null;const ni=Ye===Be.DragEnd?"onDragEnd":"onDragCancel";if(qn){const _o=O.current[ni];_o==null||_o(qn),g({type:ni,event:qn})}})}}},[R]),cp=S.useCallback((Fe,yt)=>(mt,Bn)=>{const Nt=mt.nativeEvent,pt=R.get(Bn);if(Y.current!==null||!pt||Nt.dndKit||Nt.defaultPrevented)return;const ln={active:pt};Fe(mt,yt.options,ln)===!0&&(Nt.dndKit={capturedBy:yt.sensor},Y.current=Bn,Kf(mt,yt))},[R,Kf]),Vf=tw(c,cp);uw(c),Wt(()=>{V&&b===Kn.Initializing&&C(Kn.Initialized)},[V,b]),S.useEffect(()=>{const{onDragMove:Fe}=O.current,{active:yt,activatorEvent:mt,collisions:Bn,over:Nt}=De.current;if(!yt||!mt)return;const pt={active:yt,activatorEvent:mt,collisions:Bn,delta:{x:an.x,y:an.y},over:Nt};sr.unstable_batchedUpdates(()=>{Fe==null||Fe(pt),g({type:"onDragMove",event:pt})})},[an.x,an.y]),S.useEffect(()=>{const{active:Fe,activatorEvent:yt,collisions:mt,droppableContainers:Bn,scrollAdjustedTranslate:Nt}=De.current;if(!Fe||Y.current==null||!yt||!Nt)return;const{onDragOver:pt}=O.current,ln=Bn.get($f),Ya=ln&&ln.rect.current?{id:ln.id,rect:ln.rect.current,data:ln.data,disabled:ln.disabled}:null,Ye={active:Fe,activatorEvent:yt,collisions:mt,delta:{x:Nt.x,y:Nt.y},over:Ya};sr.unstable_batchedUpdates(()=>{Gf(Ya),pt==null||pt(Ye),g({type:"onDragOver",event:Ye})})},[$f]),Wt(()=>{De.current={activatorEvent:D,active:Q,activeNode:q,collisionRect:rn,collisions:Fr,droppableRects:B,draggableNodes:R,draggingNode:Yt,draggingNodeRect:Xt,droppableContainers:k,over:Mn,scrollableAncestors:tn,scrollAdjustedTranslate:an},G.current={initial:Xt,translated:rn}},[Q,q,Fr,rn,R,Yt,Xt,B,k,Mn,tn,an]),P_({...fe,delta:N,draggingRect:rn,pointerCoordinates:it,scrollableAncestors:tn,scrollableAncestorRects:Ve});const fp=S.useMemo(()=>({active:Q,activeNode:q,activeNodeRect:V,activatorEvent:D,collisions:Fr,containerNodeRect:Ee,dragOverlay:ht,draggableNodes:R,droppableContainers:k,droppableRects:B,over:Mn,measureDroppableContainers:$,scrollableAncestors:tn,scrollableAncestorRects:Ve,measuringConfiguration:z,measuringScheduled:H,windowRect:ya}),[Q,q,V,D,Fr,Ee,ht,R,k,B,Mn,$,tn,Ve,z,H,ya]),dp=S.useMemo(()=>({activatorEvent:D,activators:Vf,active:Q,activeNodeRect:V,ariaDescribedById:{draggable:A},dispatch:v,draggableNodes:R,over:Mn,measureDroppableContainers:$}),[D,Vf,Q,V,v,A,R,Mn,$]);return ye.createElement(um.Provider,{value:y},ye.createElement(pl.Provider,{value:dp},ye.createElement(Rm.Provider,{value:fp},ye.createElement(vo.Provider,{value:up},u)),ye.createElement(pw,{disabled:(s==null?void 0:s.restoreFocus)===!1})),ye.createElement(T_,{...s,hiddenTextDescribedById:A}));function hp(){const Fe=(ne==null?void 0:ne.autoScrollEnabled)===!1,yt=typeof o=="object"?o.enabled===!1:o===!1,mt=j&&!Fe&&!yt;return typeof o=="object"?{...o,enabled:mt}:{enabled:mt}}}),ww=S.createContext(null),jh="button",Sw="Draggable";function Ew(e){let{id:t,data:n,disabled:a=!1,attributes:r}=e;const i=ml(Sw),{activators:l,activatorEvent:s,active:o,activeNodeRect:u,ariaDescribedById:c,draggableNodes:d,over:f}=S.useContext(pl),{role:h=jh,roleDescription:m="draggable",tabIndex:p=0}=r??{},_=(o==null?void 0:o.id)===t,v=S.useContext(_?vo:ww),[g,y]=zs(),[b,C]=zs(),j=cw(l,t),w=Qi(n);Wt(()=>(d.set(t,{id:t,key:i,node:g,activatorNode:b,data:w}),()=>{const N=d.get(t);N&&N.key===i&&d.delete(t)}),[d,t]);const R=S.useMemo(()=>({role:h,tabIndex:p,"aria-disabled":a,"aria-pressed":_&&h===jh?!0:void 0,"aria-roledescription":m,"aria-describedby":c.draggable}),[a,h,p,_,m,c.draggable]);return{active:o,activatorEvent:s,activeNodeRect:u,attributes:R,isDragging:_,listeners:a?void 0:j,node:g,over:f,setNodeRef:y,setActivatorNodeRef:C,transform:v}}function jm(){return S.useContext(Rm)}const Tw="Droppable",Aw={timeout:25};function Ow(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:r}=e;const i=ml(Tw),{active:l,dispatch:s,over:o,measureDroppableContainers:u}=S.useContext(pl),c=S.useRef({disabled:n}),d=S.useRef(!1),f=S.useRef(null),h=S.useRef(null),{disabled:m,updateMeasurementsFor:p,timeout:_}={...Aw,...r},v=Qi(p??a),g=S.useCallback(()=>{if(!d.current){d.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),h.current=null},_)},[_]),y=go({callback:g,disabled:m||!l}),b=S.useCallback((R,N)=>{y&&(N&&(y.unobserve(N),d.current=!1),R&&y.observe(R))},[y]),[C,j]=zs(b),w=Qi(t);return S.useEffect(()=>{!y||!C.current||(y.disconnect(),d.current=!1,y.observe(C.current))},[C,y]),S.useEffect(()=>(s({type:Be.RegisterDroppable,element:{id:a,key:i,disabled:n,node:C,rect:f,data:w}}),()=>s({type:Be.UnregisterDroppable,key:i,id:a})),[a]),S.useEffect(()=>{n!==c.current.disabled&&(s({type:Be.SetDroppableDisabled,id:a,key:i,disabled:n}),c.current.disabled=n)},[a,i,n,s]),{active:l,rect:f,isOver:(o==null?void 0:o.id)===a,node:C,over:o,setNodeRef:j}}function xw(e){let{animation:t,children:n}=e;const[a,r]=S.useState(null),[i,l]=S.useState(null),s=ks(n);return!n&&!a&&s&&r(s),Wt(()=>{if(!i)return;const o=a==null?void 0:a.key,u=a==null?void 0:a.props.id;if(o==null||u==null){r(null);return}Promise.resolve(t(u,i)).then(()=>{r(null)})},[t,a,i]),ye.createElement(ye.Fragment,null,n,a?S.cloneElement(a,{ref:l}):null)}const Rw={x:0,y:0,scaleX:1,scaleY:1};function Cw(e){let{children:t}=e;return ye.createElement(pl.Provider,{value:xm},ye.createElement(vo.Provider,{value:Rw},t))}const Dw={position:"fixed",touchAction:"none"},jw=e=>co(e)?"transform 250ms ease":void 0,Nw=S.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:r,children:i,className:l,rect:s,style:o,transform:u,transition:c=jw}=e;if(!s)return null;const d=r?u:{...u,scaleX:1,scaleY:1},f={...Dw,width:s.width,height:s.height,top:s.top,left:s.left,transform:La.Transform.toString(d),transformOrigin:r&&a?A_(a,s):void 0,transition:typeof c=="function"?c(a):c,...o};return ye.createElement(n,{className:l,style:f,ref:t},i)}),Uw=e=>t=>{let{active:n,dragOverlay:a}=t;const r={},{styles:i,className:l}=e;if(i!=null&&i.active)for(const[s,o]of Object.entries(i.active))o!==void 0&&(r[s]=n.node.style.getPropertyValue(s),n.node.style.setProperty(s,o));if(i!=null&&i.dragOverlay)for(const[s,o]of Object.entries(i.dragOverlay))o!==void 0&&a.node.style.setProperty(s,o);return l!=null&&l.active&&n.node.classList.add(l.active),l!=null&&l.dragOverlay&&a.node.classList.add(l.dragOverlay),function(){for(const[o,u]of Object.entries(r))n.node.style.setProperty(o,u);l!=null&&l.active&&n.node.classList.remove(l.active)}},zw=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:La.Transform.toString(t)},{transform:La.Transform.toString(n)}]},kw={duration:250,easing:"ease",keyframes:zw,sideEffects:Uw({styles:{active:{opacity:"0"}}})};function Mw(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:r}=e;return uo((i,l)=>{if(t===null)return;const s=n.get(i);if(!s)return;const o=s.node.current;if(!o)return;const u=Om(l);if(!u)return;const{transform:c}=rt(l).getComputedStyle(l),d=ym(c);if(!d)return;const f=typeof t=="function"?t:Bw(t);return Em(o,r.draggable.measure),f({active:{id:i,data:s.data,node:o,rect:r.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:l,rect:r.dragOverlay.measure(u)},droppableContainers:a,measuringConfiguration:r,transform:d})})}function Bw(e){const{duration:t,easing:n,sideEffects:a,keyframes:r}={...kw,...e};return i=>{let{active:l,dragOverlay:s,transform:o,...u}=i;if(!t)return;const c={x:s.rect.left-l.rect.left,y:s.rect.top-l.rect.top},d={scaleX:o.scaleX!==1?l.rect.width*o.scaleX/s.rect.width:1,scaleY:o.scaleY!==1?l.rect.height*o.scaleY/s.rect.height:1},f={x:o.x-c.x,y:o.y-c.y,...d},h=r({...u,active:l,dragOverlay:s,transform:{initial:o,final:f}}),[m]=h,p=h[h.length-1];if(JSON.stringify(m)===JSON.stringify(p))return;const _=a==null?void 0:a({active:l,dragOverlay:s,...u}),v=s.node.animate(h,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{v.onfinish=()=>{_==null||_(),g()}})}}let Nh=0;function Lw(e){return S.useMemo(()=>{if(e!=null)return Nh++,Nh},[e])}const Nm=ye.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:r,transition:i,modifiers:l,wrapperElement:s="div",className:o,zIndex:u=999}=e;const{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:h,draggableNodes:m,droppableContainers:p,dragOverlay:_,over:v,measuringConfiguration:g,scrollableAncestors:y,scrollableAncestorRects:b,windowRect:C}=jm(),j=S.useContext(vo),w=Lw(d==null?void 0:d.id),R=Cm(l,{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:h,draggingNodeRect:_.rect,over:v,overlayNodeRect:_.rect,scrollableAncestors:y,scrollableAncestorRects:b,transform:j,windowRect:C}),N=kf(f),k=Mw({config:a,draggableNodes:m,droppableContainers:p,measuringConfiguration:g}),L=N?_.setRef:void 0;return ye.createElement(Cw,null,ye.createElement(xw,{animation:k},d&&w?ye.createElement(Nw,{key:w,id:d.id,ref:L,as:s,activatorEvent:c,adjustScale:t,className:o,transition:i,rect:N,style:{zIndex:u,...r},transform:R},n):null))});function Um(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function qw(e,t){return e.reduce((n,a,r)=>{const i=t.get(a);return i&&(n[r]=i),n},Array(e.length))}function Bl(e){return e!==null&&e>=0}function Hw(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function $w(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const zm=e=>{let{rects:t,activeIndex:n,overIndex:a,index:r}=e;const i=Um(t,a,n),l=t[r],s=i[r];return!s||!l?null:{x:s.left-l.left,y:s.top-l.top,scaleX:s.width/l.width,scaleY:s.height/l.height}},Ll={scaleX:1,scaleY:1},km=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:r,rects:i,overIndex:l}=e;const s=(t=i[n])!=null?t:a;if(!s)return null;if(r===n){const u=i[l];return u?{x:0,y:n<l?u.top+u.height-(s.top+s.height):u.top-s.top,...Ll}:null}const o=Gw(i,r,n);return r>n&&r<=l?{x:0,y:-s.height-o,...Ll}:r<n&&r>=l?{x:0,y:s.height+o,...Ll}:{x:0,y:0,...Ll}};function Gw(e,t,n){const a=e[t],r=e[t-1],i=e[t+1];return a?n<t?r?a.top-(r.top+r.height):i?i.top-(a.top+a.height):0:i?i.top-(a.top+a.height):r?a.top-(r.top+r.height):0:0}const Mm="Sortable",Bm=ye.createContext({activeIndex:-1,containerId:Mm,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:zm,disabled:{draggable:!1,droppable:!1}});function Lm(e){let{children:t,id:n,items:a,strategy:r=zm,disabled:i=!1}=e;const{active:l,dragOverlay:s,droppableRects:o,over:u,measureDroppableContainers:c}=jm(),d=ml(Mm,n),f=s.rect!==null,h=S.useMemo(()=>a.map(j=>typeof j=="object"&&"id"in j?j.id:j),[a]),m=l!=null,p=l?h.indexOf(l.id):-1,_=u?h.indexOf(u.id):-1,v=S.useRef(h),g=!Hw(h,v.current),y=_!==-1&&p===-1||g,b=$w(i);Wt(()=>{g&&m&&c(h)},[g,h,m,c]),S.useEffect(()=>{v.current=h},[h]);const C=S.useMemo(()=>({activeIndex:p,containerId:d,disabled:b,disableTransforms:y,items:h,overIndex:_,useDragOverlay:f,sortedRects:qw(h,o),strategy:r}),[p,d,b.draggable,b.droppable,y,h,_,o,f,r]);return ye.createElement(Bm.Provider,{value:C},t)}const Kw=e=>{let{id:t,items:n,activeIndex:a,overIndex:r}=e;return Um(n,a,r).indexOf(t)},Vw=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:r,items:i,newIndex:l,previousItems:s,previousContainerId:o,transition:u}=e;return!u||!a||s!==i&&r===l?!1:n?!0:l!==r&&t===o},Yw={duration:200,easing:"ease"},qm="transform",Xw=La.Transition.toString({property:qm,duration:0,easing:"linear"}),Iw={roleDescription:"sortable"};function Jw(e){let{disabled:t,index:n,node:a,rect:r}=e;const[i,l]=S.useState(null),s=S.useRef(n);return Wt(()=>{if(!t&&n!==s.current&&a.current){const o=r.current;if(o){const u=Wr(a.current,{ignoreTransform:!0}),c={x:o.left-u.left,y:o.top-u.top,scaleX:o.width/u.width,scaleY:o.height/u.height};(c.x||c.y)&&l(c)}}n!==s.current&&(s.current=n)},[t,n,a,r]),S.useEffect(()=>{i&&l(null)},[i]),i}function Hm(e){let{animateLayoutChanges:t=Vw,attributes:n,disabled:a,data:r,getNewIndex:i=Kw,id:l,strategy:s,resizeObserverConfig:o,transition:u=Yw}=e;const{items:c,containerId:d,activeIndex:f,disabled:h,disableTransforms:m,sortedRects:p,overIndex:_,useDragOverlay:v,strategy:g}=S.useContext(Bm),y=Qw(a,h),b=c.indexOf(l),C=S.useMemo(()=>({sortable:{containerId:d,index:b,items:c},...r}),[d,r,b,c]),j=S.useMemo(()=>c.slice(c.indexOf(l)),[c,l]),{rect:w,node:R,isOver:N,setNodeRef:k}=Ow({id:l,data:C,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...o}}),{active:L,activatorEvent:G,activeNodeRect:Q,attributes:Y,setNodeRef:ne,listeners:T,isDragging:D,over:E,setActivatorNodeRef:O,transform:A}=Ew({id:l,data:C,attributes:{...Iw,...n},disabled:y.draggable}),M=f_(k,ne),z=!!L,B=z&&!m&&Bl(f)&&Bl(_),$=!v&&D,H=$&&B?A:null,ie=B?H??(s??g)({rects:p,activeNodeRect:Q,activeIndex:f,overIndex:_,index:b}):null,fe=Bl(f)&&Bl(_)?i({id:l,items:c,activeIndex:f,overIndex:_}):b,W=L==null?void 0:L.id,V=S.useRef({activeId:W,items:c,newIndex:fe,containerId:d}),Ee=c!==V.current.items,De=t({active:L,containerId:d,isDragging:D,isSorting:z,id:l,index:b,items:c,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:u,wasDragging:V.current.activeId!=null}),Vt=Jw({disabled:!De,index:b,node:R,rect:w});return S.useEffect(()=>{z&&V.current.newIndex!==fe&&(V.current.newIndex=fe),d!==V.current.containerId&&(V.current.containerId=d),c!==V.current.items&&(V.current.items=c)},[z,fe,d,c]),S.useEffect(()=>{if(W===V.current.activeId)return;if(W!=null&&V.current.activeId==null){V.current.activeId=W;return}const Yt=setTimeout(()=>{V.current.activeId=W},50);return()=>clearTimeout(Yt)},[W]),{active:L,activeIndex:f,attributes:Y,data:C,rect:w,index:b,newIndex:fe,items:c,isOver:N,isSorting:z,isDragging:D,listeners:T,node:R,overIndex:_,over:E,setNodeRef:M,setActivatorNodeRef:O,setDroppableNodeRef:k,setDraggableNodeRef:ne,transform:Vt??ie,transition:ht()};function ht(){if(Vt||Ee&&V.current.newIndex===b)return Xw;if(!($&&!co(G)||!u)&&(z||De))return La.Transition.toString({...u,property:qm})}}function Qw(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function qs(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Zw=[ae.Down,ae.Right,ae.Up,ae.Left],Pw=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:r,droppableContainers:i,over:l,scrollableAncestors:s}}=t;if(Zw.includes(e.code)){if(e.preventDefault(),!n||!a)return;const o=[];i.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const f=r.get(d.id);if(f)switch(e.code){case ae.Down:a.top<f.top&&o.push(d);break;case ae.Up:a.top>f.top&&o.push(d);break;case ae.Left:a.left>f.left&&o.push(d);break;case ae.Right:a.left<f.left&&o.push(d);break}});const u=x_({collisionRect:a,droppableRects:r,droppableContainers:o});let c=hm(u,"id");if(c===(l==null?void 0:l.id)&&u.length>1&&(c=u[1].id),c!=null){const d=i.get(n.id),f=i.get(c),h=f?r.get(f.id):null,m=f==null?void 0:f.node.current;if(m&&h&&d&&f){const _=fo(m).some((j,w)=>s[w]!==j),v=$m(d,f),g=Ww(d,f),y=_||!v?{x:0,y:0}:{x:g?a.width-h.width:0,y:g?a.height-h.height:0},b={x:h.left,y:h.top};return y.x&&y.y?b:Zi(b,y)}}}};function $m(e,t){return!qs(e)||!qs(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Ww(e,t){return!qs(e)||!qs(t)||!$m(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Gm({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:r,parentBlock:i,rootSetBlocks:l,draggingChildIds:s=[],activeId:o,overId:u,onSaveHistoryOnBlur:c}){const{attributes:d,listeners:f,setNodeRef:h,transform:m,transition:p,isDragging:_}=Hm({id:e.id}),v=e.id===o,g=e.id===u&&o&&o!==u,y={cursor:"grab",opacity:v?.4:1,borderTop:g?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"};return x.jsx("div",{ref:h,style:y,children:x.jsx(Km,{block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:r,dragHandleProps:{...d,...f},parentBlock:i,rootSetBlocks:l,draggingChildIds:s,activeId:o,overId:u,onSaveHistoryOnBlur:c})})}function Km({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:r,dragHandleProps:i,parentBlock:l,rootSetBlocks:s,draggingChildIds:o=[],activeId:u,overId:c,onSaveHistoryOnBlur:d}){const f=S.useRef(null),h=S.useRef(!1),m=S.useRef(e.content);S.useEffect(()=>{if(a===e.id&&f.current){f.current.focus();const w=f.current.value.length;f.current.setSelectionRange(w,w)}},[a,e.id]),S.useEffect(()=>{f.current&&(f.current.style.height="auto",f.current.style.height=f.current.scrollHeight+"px")},[e.content]);const p=(w,R,N)=>w.map(k=>{if(k.id===R){const L=N(k);return{...L,children:Array.isArray(L.children)?L.children:[]}}return Array.isArray(k.children)&&k.children.length>0?{...k,children:p(k.children,R,N)}:k}),_=w=>{n(R=>p(R,e.id,N=>({...N,content:w})))},v=w=>{n(R=>p(R,e.id,N=>({...N,children:typeof w=="function"?w(N.children):w})))},g=()=>{n(w=>p(w,e.id,R=>{const N=!R.isOpen;if(N&&(!Array.isArray(R.children)||R.children.length===0)){const k={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};return{...R,isOpen:N,children:[k]}}return{...R,isOpen:N,children:Array.isArray(R.children)?R.children:[]}}))},y=()=>{const w=t.findIndex(N=>N.id===e.id);if(w<=0)return;const R=t[w-1];n(N=>{const k=[...N];k.splice(w,1);const L={...R,children:[...Array.isArray(R.children)?R.children:[],e],isOpen:!0};return k[w-1]=L,k})},b=()=>{!l||!s||s(w=>{const R=(L,G,Q)=>{const Y=[];for(let ne=0;ne<L.length;ne++){const T=L[ne];if(T.id===G){const D=T.children.filter(O=>O.id!==Q.id),E={...T,children:D};Y.push(E),Y.push(Q)}else if(Array.isArray(T.children)&&T.children.length>0){const D=R(T.children,G,Q);D!==T.children?Y.push({...T,children:D}):Y.push(T)}else Y.push(T)}return Y},N=L=>L.map(G=>{const Q=Array.isArray(G.children)&&G.children.length>0;return!Q&&G.isOpen?{...G,isOpen:!1}:Q?{...G,children:N(G.children)}:G}),k=R(w,l.id,e);return N(k)})},C=w=>{const R=[],N=k=>{for(const L of k)R.push(L),L.isOpen&&Array.isArray(L.children)&&L.children.length>0&&N(L.children)};return N(w),R},j=w=>{if(w.key==="Enter"){if(w.shiftKey)return;{if(h.current){w.preventDefault(),w.stopPropagation();return}w.preventDefault(),w.stopPropagation(),h.current=!0;const R=w.target.selectionStart,N={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};R===0?(n(k=>{const L=k.findIndex(Q=>Q.id===e.id);if(L===-1)return k;const G=[...k];return G.splice(L,0,N),G}),setTimeout(()=>{r(e.id),setTimeout(()=>{h.current=!1},100)},0)):(n(k=>{const L=k.findIndex(Q=>Q.id===e.id);if(L===-1)return k;const G=[...k];return G.splice(L+1,0,N),G}),setTimeout(()=>{r(N.id),setTimeout(()=>{h.current=!1},100)},0))}}else if(w.key==="Tab"&&w.shiftKey)w.preventDefault(),w.stopPropagation(),l&&s&&b();else if(w.key==="Tab"&&!w.shiftKey)w.preventDefault(),w.stopPropagation(),y();else if(w.key==="Backspace"){const R=w.target.selectionStart;if(e.content===""||R===0){const G=(()=>{if(s){let ne=[];return s(T=>(ne=T,T)),ne}return t})(),Q=C(G),Y=Q.findIndex(ne=>ne.id===e.id);if(Y>0){w.preventDefault(),w.stopPropagation();const ne=Q[Y-1],T=(E,O)=>E.filter(A=>A.id!==O).map(A=>Array.isArray(A.children)&&A.children.length>0?{...A,children:T(A.children,O)}:A),D=E=>E.map(O=>{const A=Array.isArray(O.children)&&O.children.length>0;return!A&&O.isOpen?{...O,isOpen:!1}:A?{...O,children:D(O.children)}:O});s?s(E=>{const O=T(E,e.id);return D(O)}):n(E=>{const O=T(E,e.id);return D(O)}),setTimeout(()=>{r(ne.id)},0)}}}else if(w.key==="ArrowUp"&&!w.shiftKey){w.preventDefault(),w.stopPropagation();const N=(()=>{if(s){let G=[];return s(Q=>(G=Q,Q)),G}return t})(),k=C(N),L=k.findIndex(G=>G.id===e.id);L>0&&r(k[L-1].id)}else if(w.key==="ArrowDown"&&!w.shiftKey){w.preventDefault(),w.stopPropagation();const N=(()=>{if(s){let G=[];return s(Q=>(G=Q,Q)),G}return t})(),k=C(N),L=k.findIndex(G=>G.id===e.id);L<k.length-1&&r(k[L+1].id)}};return x.jsxs("div",{className:"notion-block",children:[i&&x.jsx("div",{className:"notion-drag-handle",...i,title:" ",children:""}),x.jsx("div",{className:"notion-block-controls",children:x.jsx("button",{className:"block-type-button",onClick:g,title:": /",style:{transform:e.isOpen?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})}),x.jsx("div",{className:"notion-block-content",children:x.jsx("textarea",{ref:f,value:e.content,onChange:w=>_(w.target.value),onKeyDown:j,onFocus:()=>{r(e.id),m.current=e.content},onBlur:()=>{d&&d(e.id,m.current,e.content)},placeholder:"",className:"notion-block-input",rows:1})}),e.isOpen&&Array.isArray(e.children)&&e.children.length>0&&x.jsx("div",{className:"notion-block-children",children:e.children.map(w=>x.jsx(Gm,{block:w,blocks:e.children,setBlocks:v,focusedBlockId:a,setFocusedBlockId:r,parentBlock:e,rootSetBlocks:s||n,draggingChildIds:o,activeId:u,overId:c,onSaveHistoryOnBlur:d},w.id))})]})}function Fw({blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,currentPageId:r,currentPageName:i,onPageRename:l,onShowHistory:s,onOpenViewer:o,onSaveHistoryOnBlur:u,onManualSaveHistory:c}){const[d,f]=S.useState(null),[h,m]=S.useState(null),[p,_]=S.useState(!1),[v,g]=S.useState(""),y=ye.useRef(null),[b,C]=S.useState(!1),[j,w]=S.useState(!1),R=ye.useRef(null),N=cm(hc(ho,{activationConstraint:{distance:3}}),hc(Uf,{coordinateGetter:Pw})),k=H=>H.map(q=>{const ie=Array.isArray(q.children)&&q.children.length>0;return!ie&&q.isOpen?{...q,isOpen:!1}:ie?{...q,children:k(q.children)}:q});S.useEffect(()=>{const H=k(e);JSON.stringify(H)!==JSON.stringify(e)&&t(H)},[e]),S.useEffect(()=>{p&&y.current&&(y.current.focus(),y.current.select())},[p]);const L=()=>{g(i||"Page"),_(!0)},G=()=>{v.trim()&&r&&l(r,v.trim()),_(!1)},Q=()=>{_(!1),g("")},Y=async()=>{if(!c)return;C(!0);const H=await c();C(!1),H&&alert("   .")};S.useEffect(()=>{const H=q=>{(q.ctrlKey||q.metaKey)&&q.key==="s"&&(q.preventDefault(),Y())};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[c]),S.useEffect(()=>{const H=q=>{R.current&&!R.current.contains(q.target)&&w(!1)};return j&&document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[j]);const ne=H=>{const q=[],ie=fe=>{for(const W of fe)q.push(W),W.isOpen&&Array.isArray(W.children)&&W.children.length>0&&ie(W.children)};return ie(H),q},T=H=>{const q=[],ie=fe=>{if(Array.isArray(fe.children)&&fe.children.length>0)for(const W of fe.children)q.push(W.id),ie(W)};return ie(H),q},D=H=>{const{active:q}=H,fe=ne(e).find(W=>W.id===q.id);f(fe)},E=H=>{const{over:q}=H;m((q==null?void 0:q.id)||null)},O=ye.useMemo(()=>d?T(d):[],[d]),A=H=>{const{active:q,over:ie}=H;if(f(null),m(null),!ie||q.id===ie.id)return;const fe=ne(e),W=fe.find(Ve=>Ve.id===q.id),V=fe.find(Ve=>Ve.id===ie.id);if(!W||!V||T(W).includes(ie.id))return;const De=JSON.parse(JSON.stringify(W)),Vt=(Ve,gt)=>Ve.filter(it=>it.id!==gt).map(it=>({...it,children:Array.isArray(it.children)?Vt(it.children,gt):[]})),ht=(Ve,gt,it)=>{let nn=!1;const vt=[];for(const et of Ve)if(vt.push(et),et.id===gt&&(vt.push(it),nn=!0),Array.isArray(et.children)&&et.children.length>0){const{newChildren:an,wasInserted:rn}=Yt(et.children,gt,it);rn&&(vt[vt.length-1]={...et,children:an},nn=!0)}return{newTree:vt,inserted:nn}},Yt=(Ve,gt,it)=>{let nn=!1;const vt=[];for(const et of Ve)if(vt.push(et),et.id===gt&&(vt.push(it),nn=!0),Array.isArray(et.children)&&et.children.length>0){const{newChildren:an,wasInserted:rn}=Yt(et.children,gt,it);rn&&(vt[vt.length-1]={...et,children:an},nn=!0)}return{newChildren:vt,wasInserted:nn}};let Xt=Vt(e,W.id);const _l=Xt.length>0&&Xt[0].id===V.id;let Va,ya=!1;if(_l)Va=[De,...Xt],ya=!0;else{const Ve=ht(Xt,V.id,De);Va=Ve.newTree,ya=Ve.inserted}if(!ya){console.warn("Failed to insert block, keeping original state");return}const tn=k(Va);t(tn)},M=ne(e).filter(H=>!O.includes(H.id)).map(H=>H.id),z=H=>{const q=ie=>ie.map(fe=>({...fe,isOpen:H,children:Array.isArray(fe.children)?q(fe.children):[]}));t(q(e))},B=H=>{for(const q of H)if(!q.isOpen&&Array.isArray(q.children)&&q.children.length>0||Array.isArray(q.children)&&q.children.length>0&&!B(q.children))return!1;return!0},$=B(e);return x.jsxs("div",{className:"key-thoughts-section section-block",children:[x.jsxs("div",{className:"section-header",children:[p?x.jsx("input",{ref:y,type:"text",className:"section-title-input",value:v,onChange:H=>g(H.target.value),onKeyDown:H=>{H.key==="Enter"?G():H.key==="Escape"&&Q()},onBlur:G}):x.jsx("h3",{className:"section-title editable-title",onClick:L,title:"   ",children:i||"Page"}),x.jsxs("div",{className:"section-buttons-desktop",children:[x.jsx("button",{className:"toggle-all-button",onClick:Y,disabled:b,title:"   (Ctrl+S)",children:b?"  ...":"  "}),x.jsx("button",{className:"toggle-all-button",onClick:()=>o&&o(),title:" ",children:" "}),x.jsx("button",{className:"toggle-all-button",onClick:()=>s&&s(),title:"  ",children:" "}),x.jsx("button",{className:"toggle-all-button",onClick:()=>z(!$),title:$?" ":" ",children:$?" ":" "})]}),x.jsxs("div",{className:"section-buttons-mobile",ref:R,children:[x.jsx("button",{className:"mobile-settings-button",onClick:()=>w(!j),title:"",children:x.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"3"}),x.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}),j&&x.jsxs("div",{className:"mobile-dropdown-menu",children:[x.jsx("button",{className:"mobile-menu-item",onClick:()=>{Y(),w(!1)},disabled:b,children:b?"  ...":"  "}),x.jsx("button",{className:"mobile-menu-item",onClick:()=>{o&&o(),w(!1)},children:" "}),x.jsx("button",{className:"mobile-menu-item",onClick:()=>{s&&s(),w(!1)},children:" "}),x.jsx("button",{className:"mobile-menu-item",onClick:()=>{z(!$),w(!1)},children:$?" ":" "})]})]})]}),x.jsx("div",{className:"key-thoughts-content notion-editor",children:x.jsxs(Dm,{sensors:N,collisionDetection:gm,onDragStart:D,onDragOver:E,onDragEnd:A,measuring:{droppable:{strategy:$r.Always}},children:[x.jsx(Lm,{items:M,strategy:km,children:e.map(H=>x.jsx(Gm,{block:H,blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,rootSetBlocks:t,draggingChildIds:O,activeId:d==null?void 0:d.id,overId:h,onSaveHistoryOnBlur:u},H.id))}),x.jsx(Nm,{children:d?x.jsx("div",{className:"drag-overlay-block",children:x.jsx(Km,{block:d,blocks:e,setBlocks:()=>{},focusedBlockId:null,setFocusedBlockId:()=>{},dragHandleProps:{},parentBlock:null,rootSetBlocks:()=>{},draggingChildIds:[]})}):null})]})})]})}function Vm(e,t=0){return Array.isArray(e)?e.map((n,a)=>x.jsxs("div",{style:{marginLeft:`${t*16}px`,marginBottom:"4px"},children:[x.jsxs("div",{children:[n.type==="toggle"?" ":"",n.content||"( )"]}),n.children&&n.children.length>0&&Vm(n.children,t+1)]},a)):null}function eS({showKeyThoughtsHistory:e,onClose:t,keyThoughtsHistory:n,onRestoreVersion:a}){return e?x.jsx("div",{className:"modal-overlay",onClick:t,children:x.jsxs("div",{className:"modal-content",onClick:r=>r.stopPropagation(),style:{maxWidth:"800px",maxHeight:"80vh"},children:[x.jsxs("div",{className:"modal-header",children:[x.jsx("h2",{children:"    "}),x.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),x.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:n.length===0?x.jsx("p",{style:{textAlign:"center",color:"var(--color-text-tertiary)",padding:"20px"},children:"  ."}):x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:n.map(r=>x.jsxs("div",{style:{border:"1px solid var(--color-border-medium)",borderRadius:"var(--border-radius-xl)",padding:"16px",backgroundColor:"var(--color-bg-input)"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[x.jsxs("div",{children:[x.jsx("div",{style:{fontWeight:"bold",fontSize:"14px",color:"var(--color-text-primary)"},children:new Date(r.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Seoul"})}),r.description&&x.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-secondary)",marginTop:"4px"},children:r.description})]}),x.jsx("button",{onClick:()=>a(r.id),style:{padding:"6px 12px",backgroundColor:"var(--color-success)",color:"white",border:"none",borderRadius:"var(--border-radius-md)",cursor:"pointer",fontSize:"12px"},children:""})]}),x.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-secondary)",maxHeight:"100px",overflowY:"auto",backgroundColor:"var(--color-bg-secondary)",padding:"8px",borderRadius:"var(--border-radius-md)",whiteSpace:"pre-wrap"},children:r.action==="manual_snapshot"&&Array.isArray(r.content_after)?Vm(r.content_after,0):r.content_after?x.jsx("div",{children:r.content_after}):"( )"})]},r.id))})})]})}):null}function tS({authLoading:e,session:t,handleGoogleLogin:n}){return e?x.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:x.jsxs("div",{style:{textAlign:"center"},children:[x.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),x.jsx("div",{children:" ..."})]})}):t?null:x.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:x.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[x.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" KeyThoughts"}),x.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:" "}),x.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[x.jsx("span",{children:""}),"Google "]})]})})}function nS({onToggleSidebar:e,currentProjectId:t,currentProjectName:n,onProjectRename:a,sidebarOpen:r}){const[i,l]=S.useState(!1),[s,o]=S.useState(""),u=S.useRef(null);S.useEffect(()=>{i&&u.current&&(u.current.focus(),u.current.select())},[i]);const c=()=>{o(n||"My Project"),l(!0)},d=()=>{s.trim()&&t&&a(t,s.trim()),l(!1)},f=()=>{l(!1),o("")};return x.jsx("div",{className:"header-fixed",children:x.jsxs("div",{className:"settings-bar",children:[!r&&x.jsx("button",{onClick:e,className:"header-hamburger-button",title:" ",children:""}),i?x.jsx("input",{ref:u,type:"text",className:"header-title-input",value:s,onChange:h=>o(h.target.value),onKeyDown:h=>{h.key==="Enter"?d():h.key==="Escape"&&f()},onBlur:d}):x.jsx("h1",{className:"app-title editable-title",onClick:c,title:"   ",children:n||"My Project"})]})})}const Uh=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)});function aS({block:e,depth:t,isSelected:n,isCurrent:a,isOver:r,dropPosition:i,activeId:l,hasChildren:s,text:o,onClick:u,isEditing:c,editingText:d,onDoubleClick:f,onEditChange:h,onSaveEdit:m,onCancelEdit:p,onAddChildBlock:_,onDeleteBlock:v,isReference:g}){const{attributes:y,listeners:b,setNodeRef:C}=Hm({id:e.id}),j=S.useRef(null),w=S.useRef(!1);S.useEffect(()=>{c&&j.current&&(j.current.style.height="auto",j.current.style.height=j.current.scrollHeight+"px")},[c,d]);const R=e.id===l,N=r&&i==="top"&&l&&l!==e.id,k=r&&i==="bottom"&&l&&l!==e.id,L=r&&i==="center"&&l&&l!==e.id,G={cursor:c?"text":"grab",opacity:R?.4:1},Q=c?{}:{...y,...b};return x.jsxs("div",{ref:C,style:G,"data-block-id":e.id,"data-drop-zone":r?i:"",className:`viewer-block ${n?"selected":""} ${a?"current-selected":""} ${s?"has-children":""} ${N?"show-drop-line-top":""} ${k?"show-drop-line-bottom":""} ${L?"show-as-child-target":""} ${c?"editing":""} ${g?"is-reference":""}`,onClick:c?void 0:u,onDoubleClick:c?void 0:f,...Q,children:[x.jsx("div",{className:"block-content-area",children:c?x.jsx("textarea",{ref:j,className:"block-edit-input",value:d,onChange:Y=>h(Y.target.value),onKeyDown:Y=>{Y.key==="Enter"&&!Y.shiftKey?(Y.preventDefault(),Y.stopPropagation(),w.current=!0,m(),j.current&&j.current.blur()):Y.key==="Escape"&&(Y.preventDefault(),Y.stopPropagation(),w.current=!0,p(),j.current&&j.current.blur())},onBlur:()=>{w.current||m(),w.current=!1},autoFocus:!0,rows:1}):x.jsxs("div",{className:"block-text",children:[g&&x.jsx("span",{className:"reference-badge",children:""}),o||" "]})}),x.jsx("div",{className:"block-actions-area",children:c?x.jsxs("div",{className:"block-edit-buttons",children:[x.jsx("button",{className:"add-child-button",onMouseDown:Y=>Y.preventDefault(),onClick:Y=>{Y.stopPropagation(),m(),_(e.id)},title:"  ",children:""}),x.jsx("button",{className:"delete-block-button",onMouseDown:Y=>Y.preventDefault(),onClick:Y=>{Y.stopPropagation(),window.confirm("  ?")&&v(e.id)},title:" ",children:""})]}):s&&x.jsx("div",{className:"block-arrow",children:n?"":""})})]})}function rS({blocks:e=[],setBlocks:t,onSave:n,onClose:a,pageName:r="ThinkMap"}){const[i,l]=S.useState([]),[s,o]=S.useState(null),[u,c]=S.useState(null),[d,f]=S.useState(null),[h,m]=S.useState(null),[p,_]=S.useState(""),v=S.useRef({x:0,y:0}),g=S.useRef(null),y=S.useRef(null),b=cm(hc(ho,{activationConstraint:{delay:500,tolerance:8}}));S.useEffect(()=>{if(i.length===0)return;const E=i.length-1,O=i[E];O&&setTimeout(()=>{let A=null;if(O==="ADD_BUTTON"){const M=document.querySelectorAll(".viewer-column");M[E]&&(A=M[E].querySelector(".add-block-button"))}else A=document.querySelector(`[data-block-id="${O}"]`);A&&A.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},50)},[i]),S.useEffect(()=>{const E=O=>{if(h)return;const A=i.length>0?i.length-1:0,M=i[A],z=M==="ADD_BUTTON",B=j(A),$=B.findIndex(H=>H.id===M);switch(O.key){case"Enter":{if(O.preventDefault(),z)Q(A);else if(M){const H=C(e,M);H&&(m(M),_(H.content||""))}break}case"ArrowUp":{if(O.preventDefault(),z){if(B.length>0){const H=B[B.length-1].id,q=i.slice(0,A);q[A]=H,l(q)}}else if($>0){const H=B[$-1].id,q=i.slice(0,A);q[A]=H,l(q)}break}case"ArrowDown":{if(O.preventDefault(),$===B.length-1){const H=i.slice(0,A);H[A]="ADD_BUTTON",l(H)}else if($<B.length-1&&!z){const H=B[$+1].id,q=i.slice(0,A);q[A]=H,l(q)}break}case"ArrowLeft":{O.preventDefault(),i.length>0&&l(i.slice(0,-1));break}case"ArrowRight":case"Tab":{if(O.preventDefault(),M&&M!=="ADD_BUTTON"){const H=C(e,M);if(H)if(H.children&&H.children.length>0){const q=[...i,H.children[0].id];l(q)}else{const q=[...i,"ADD_BUTTON"];l(q)}}else B.length>0&&l([B[0].id]);break}}O.key==="Tab"&&O.shiftKey&&(O.preventDefault(),i.length>0&&l(i.slice(0,-1)))};return window.addEventListener("keydown",E),()=>{window.removeEventListener("keydown",E)}},[i,h,e]);const C=(E,O)=>{for(const A of E){if(A.id===O)return A;if(A.children){const M=C(A.children,O);if(M)return M}}return null},j=E=>{if(E===0)return e||[];let O=e;for(let A=0;A<E;A++){const M=i[A];if(!M)return[];const z=O.find(B=>B.id===M);if(!z||!z.children||z.children.length===0)return[];O=z.children}return O},w=(E,O,A)=>{if(h||s)return;const M=i.slice(0,E);M[E]=O,l(M)},R=(E,O)=>{O.stopPropagation();const A=C(e,E);A&&(m(E),_(A.content||""))},N=()=>{if(!h||!t)return;const E=JSON.parse(JSON.stringify(e)),O=(A,M,z)=>{for(let B=0;B<A.length;B++){if(A[B].id===M)return A[B].content=z,!0;if(A[B].children&&O(A[B].children,M,z))return!0}return!1};O(E,h,p),t(E),m(null),_(""),n&&setTimeout(()=>{n()},100)},k=()=>{m(null),_("")},L=E=>{if(!t)return;const O=JSON.parse(JSON.stringify(e)),A=(z,B)=>{for(let $=0;$<z.length;$++){if(z[$].id===B){const H=Uh(),q={id:H,content:"",type:"toggle",children:[],isOpen:!0,depth:(z[$].depth||0)+1};return z[$].children||(z[$].children=[]),z[$].children.push(q),H}if(z[$].children){const H=A(z[$].children,B);if(H)return H}}return null};A(O,E)&&(t(O),m(null),_(""),n&&setTimeout(()=>{n()},100))},G=E=>{if(!t)return;const O=JSON.parse(JSON.stringify(e)),A=(M,z)=>{for(let B=0;B<M.length;B++){if(M[B].id===z)return M.splice(B,1),!0;if(M[B].children&&A(M[B].children,z))return!0}return!1};if(A(O,E)){t(O),m(null),_("");const M=i.filter(z=>z!==E);l(M),n&&setTimeout(()=>{n()},100)}},Q=E=>{if(!t)return;const O=JSON.parse(JSON.stringify(e));if(E===0){const A=Uh(),M={id:A,content:"",type:"toggle",children:[],isOpen:!0,depth:0};O.push(M),t(O),l([A]),n&&setTimeout(()=>{n()},100)}else{const A=i[E-1];A&&L(A)}},Y=E=>{o(C(e,E.active.id)),y.current=E.active.id},ne=E=>{const{over:O}=E;if(!O)return;c(O.id),g.current=O.id;const A=document.querySelector(`[data-block-id="${O.id}"]`);if(A){const M=A.getBoundingClientRect(),B=v.current.y-M.top,$=M.height;B<$*.25?f("top"):B>$*.75?f("bottom"):f("center")}},T=E=>{o(null),c(null),f(null),y.current=null,g.current=null};S.useEffect(()=>{const E=A=>{v.current={x:A.clientX,y:A.clientY}},O=A=>{A.touches.length>0&&(v.current={x:A.touches[0].clientX,y:A.touches[0].clientY})};return window.addEventListener("mousemove",E),window.addEventListener("touchmove",O),()=>{window.removeEventListener("mousemove",E),window.removeEventListener("touchmove",O)}},[]);const D=()=>{const E=[];for(let A=0;A<10;A++){const M=j(A);if(M.length===0&&A>i.length)break;const z=i[A],B=A===i.length-1;E.push(x.jsxs("div",{className:"viewer-column",children:[x.jsx("div",{className:"column-header",children:String.fromCharCode(65+A)}),x.jsxs("div",{className:"column-blocks",children:[x.jsx(Lm,{items:M.map($=>$.id),strategy:km,children:M.map($=>{const H=i.includes($.id),q=B&&z===$.id,ie=$.children&&$.children.length>0,fe=$._isReference===!0;return x.jsx(aS,{block:$,depth:A,isSelected:H,isCurrent:q,isOver:u===$.id,dropPosition:d,activeId:s==null?void 0:s.id,hasChildren:ie,text:$.content,onClick:W=>w(A,$.id),onDoubleClick:W=>R($.id,W),isEditing:h===$.id,editingText:p,onEditChange:_,onSaveEdit:N,onCancelEdit:k,onAddChildBlock:L,onDeleteBlock:G,isReference:fe},$.id)})}),x.jsx("button",{className:`add-block-button ${z==="ADD_BUTTON"?"selected":""}`,onClick:()=>Q(A),children:"+  "})]})]},A))}return E};return x.jsxs("div",{className:"viewer-page dark-mode",children:[x.jsxs("div",{className:"viewer-header",children:[x.jsx("button",{className:"viewer-close-button",onClick:a,children:""}),x.jsx("h1",{className:"viewer-title",children:r})]}),x.jsx("div",{className:"viewer-content",children:x.jsxs(Dm,{sensors:b,collisionDetection:gm,onDragStart:Y,onDragOver:ne,onDragEnd:T,children:[x.jsx("div",{className:"columns-container",children:D()}),x.jsx(Nm,{children:s?x.jsx("div",{className:"viewer-block dragging-overlay",children:x.jsx("div",{className:"block-content-area",children:x.jsx("div",{className:"block-text",children:s.content||" "})})}):null})]})})]})}function iS({isOpen:e,onClose:t,projects:n=[],currentProjectId:a,onProjectSelect:r,onProjectCreate:i,onProjectRename:l,onProjectDelete:s,pages:o=[],currentPageId:u,onPageSelect:c,onPageCreate:d,onPageRename:f,onPageDelete:h,userEmail:m,userAvatarUrl:p,onLogout:_}){const[v,g]=S.useState(!1),[y,b]=S.useState(null),[C,j]=S.useState(""),[w,R]=S.useState(null),[N,k]=S.useState(""),L=n.find(z=>z.id===a),G=z=>{b(z.id),j(z.name)},Q=()=>{y&&C.trim()&&f(y,C.trim()),b(null),j("")},Y=()=>{b(null),j("")},ne=(z,B)=>{if(B.stopPropagation(),o.length<=1){alert("    .");return}window.confirm(`  ?
   .`)&&h(z)},T=(z,B)=>{B.stopPropagation(),R(z.id),k(z.name)},D=()=>{w&&N.trim()&&l(w,N.trim()),R(null),k("")},E=()=>{R(null),k("")},O=(z,B)=>{if(B.stopPropagation(),n.length<=1){alert("    .");return}window.confirm(`  ?
    .`)&&s(z)},A=async()=>{const z=prompt("   :","Untitled Project");if(z){const B=await i(z);B&&(r(B.id),g(!1))}},M=async()=>{const z=prompt("   :","Untitled");z&&await d(z)};return x.jsxs(x.Fragment,{children:[e&&x.jsx("div",{className:"sidebar-overlay",onClick:t}),x.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[x.jsxs("div",{className:"sidebar-header",children:[x.jsxs("div",{className:"sidebar-project-section",children:[x.jsxs("button",{className:"sidebar-project-toggle",onClick:()=>g(!v),children:[x.jsx("span",{className:"project-icon",children:""}),x.jsx("span",{className:"project-name",children:(L==null?void 0:L.name)||"My Project"})]}),v&&x.jsxs("div",{className:"sidebar-projects-dropdown",children:[n.map(z=>x.jsx("div",{className:`sidebar-project-item ${a===z.id?"active":""}`,onClick:()=>{w!==z.id&&(r(z.id),g(!1))},onDoubleClick:B=>T(z,B),children:w===z.id?x.jsx("input",{type:"text",className:"project-name-input",value:N,onChange:B=>k(B.target.value),onKeyDown:B=>{B.key==="Enter"?D():B.key==="Escape"&&E()},onBlur:D,autoFocus:!0,onClick:B=>B.stopPropagation()}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"project-item-icon",children:""}),x.jsx("span",{className:"project-item-name",children:z.name}),n.length>1&&x.jsx("button",{className:"project-delete-button",onClick:B=>O(z.id,B),title:" ",children:""})]})},z.id)),x.jsx("button",{className:"add-project-button",onClick:A,children:"+  "})]})]}),x.jsx("button",{className:"sidebar-close-button sidebar-close-button-desktop",onClick:t,children:""})]}),x.jsxs("div",{className:"sidebar-content",children:[x.jsx("div",{className:"sidebar-pages-header",children:"Pages"}),x.jsx("div",{className:"page-list",children:o.map(z=>x.jsx("div",{className:`page-item ${u===z.id?"active":""}`,onClick:()=>{y!==z.id&&c(z.id)},onDoubleClick:()=>G(z),children:y===z.id?x.jsx("input",{type:"text",className:"page-name-input",value:C,onChange:B=>j(B.target.value),onKeyDown:B=>{B.key==="Enter"?Q():B.key==="Escape"&&Y()},onBlur:Q,autoFocus:!0,onClick:B=>B.stopPropagation()}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"page-icon",children:""}),x.jsx("span",{className:"page-name",children:z.name}),o.length>1&&x.jsx("button",{className:"page-delete-button",onClick:B=>ne(z.id,B),title:" ",children:""})]})},z.id))}),x.jsx("button",{className:"add-page-button",onClick:M,children:"+  "})]}),x.jsxs("div",{className:"sidebar-footer",children:[x.jsxs("div",{className:"sidebar-user-profile",children:[x.jsx("div",{className:"user-avatar",children:p?x.jsx("img",{src:p,alt:"Profile",className:"user-avatar-image"}):m?m.charAt(0).toUpperCase():"U"}),x.jsx("div",{className:"user-info",children:x.jsx("div",{className:"user-email",children:m||"User"})})]}),x.jsxs("button",{className:"sidebar-logout-button",onClick:()=>{window.confirm(" ?")&&_()},title:"",children:[x.jsx("span",{className:"logout-icon",children:""}),x.jsx("span",{className:"logout-text",children:""})]})]})]})]})}function yo(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}function lS(e,t,n,a){function r(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function s(c){try{u(a.next(c))}catch(d){l(d)}}function o(c){try{u(a.throw(c))}catch(d){l(d)}}function u(c){c.done?i(c.value):r(c.value).then(s,o)}u((a=a.apply(e,t||[])).next())})}const sS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Mf extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class oS extends Mf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zh extends Mf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kh extends Mf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var mc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(mc||(mc={}));class uS{constructor(t,{headers:n={},customFetch:a,region:r=mc.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=sS(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return lS(this,arguments,void 0,function*(n,a={}){var r;let i,l;try{const{headers:s,method:o,body:u,signal:c,timeout:d}=a;let f={},{region:h}=a;h||(h=this.region);const m=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let p;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(f["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(f["Content-Type"]="application/json",p=JSON.stringify(u)):p=u;let _=c;d&&(l=new AbortController,i=setTimeout(()=>l.abort(),d),c?(_=l.signal,c.addEventListener("abort",()=>l.abort())):_=l.signal);const v=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),s),body:p,signal:_}).catch(C=>{throw new oS(C)}),g=v.headers.get("x-relay-error");if(g&&g==="true")throw new zh(v);if(!v.ok)throw new kh(v);let y=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield v.json():y==="application/octet-stream"||y==="application/pdf"?b=yield v.blob():y==="text/event-stream"?b=v:y==="multipart/form-data"?b=yield v.formData():b=yield v.text(),{data:b,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof kh||s instanceof zh?s.context:void 0}}finally{i&&clearTimeout(i)}})}}var cS=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},fS=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let r=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let l=null,s=null,o=null,u=i.status,c=i.statusText;if(i.ok){var d,f;if(n.method!=="HEAD"){var h;const v=await i.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((h=n.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?s=v:s=JSON.parse(v))}const p=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");p&&_&&_.length>1&&(o=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(l={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var m;const p=await i.text();try{l=JSON.parse(p),Array.isArray(l)&&i.status===404&&(s=[],l=null,u=200,c="OK")}catch{i.status===404&&p===""?(u=204,c="No Content"):l={message:p}}if(l&&n.isMaybeSingle&&(!(l==null||(m=l.details)===null||m===void 0)&&m.includes("0 rows"))&&(l=null,u=200,c="OK"),l&&n.shouldThrowOnError)throw new cS(l)}return{error:l,data:s,count:o,status:u,statusText:c}});return this.shouldThrowOnError||(r=r.catch(i=>{var l;let s="";const o=i==null?void 0:i.cause;if(o){var u,c,d,f;const m=(u=o==null?void 0:o.message)!==null&&u!==void 0?u:"",p=(c=o==null?void 0:o.code)!==null&&c!==void 0?c:"";s=`${(d=i==null?void 0:i.name)!==null&&d!==void 0?d:"FetchError"}: ${i==null?void 0:i.message}`,s+=`

Caused by: ${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"Error"}: ${m}`,p&&(s+=` (${p})`),o!=null&&o.stack&&(s+=`
${o.stack}`)}else{var h;s=(h=i==null?void 0:i.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},dS=class extends fS{select(e){let t=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:a,referencedTable:r=a}={}){const i=r?`${r}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:a=n}={}){const r=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:a=!1,wal:r=!1,format:i="text"}={}){var l;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,a?"buffers":null,r?"wal":null].filter(Boolean).join("|"),o=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${o}"; options=${s};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Mh=new RegExp("[,()]");var rr=class extends dS{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&Mh.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&Mh.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:a}={}){let r="";a==="plain"?r="pl":a==="phrase"?r="ph":a==="websearch"&&(r="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${r}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},hS=class{constructor(e,{headers:t={},schema:n,fetch:a}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=a}select(e,t){const{head:n=!1,count:a}=t??{},r=n?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",l),a&&this.headers.append("Prefer",`count=${a}`),new rr({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var a;const r="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((l,s)=>l.concat(Object.keys(s)),[]);if(i.length>0){const l=[...new Set(i)].map(s=>`"${s}"`);this.url.searchParams.set("columns",l.join(","))}}return new rr({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:a,defaultToNull:r=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),a&&this.headers.append("Prefer",`count=${a}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(s.length>0){const o=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new rr({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const a="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new rr({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new rr({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},gS=class Ym{constructor(t,{headers:n={},schema:a,fetch:r}={}){this.url=t,this.headers=new Headers(n),this.schemaName=a,this.fetch=r}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new hS(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ym(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:a=!1,get:r=!1,count:i}={}){var l;let s;const o=new URL(`${this.url}/rpc/${t}`);let u;a||r?(s=a?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new rr({method:s,url:o,headers:c,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class vS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,r=parseInt(a.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const yS="2.89.0",mS=`realtime-js/${yS}`,Xm="1.0.0",pS="2.0.0",Bh=Xm,pc=1e4,bS=1e3,_S=100;var Vn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vn||(Vn={}));var Me;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Me||(Me={}));var Pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pt||(Pt={}));var bc;(function(e){e.websocket="websocket"})(bc||(bc={}));var Aa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Aa||(Aa={}));class wS{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,a;const r=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(t){var n,a;const r=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},l=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,a){var r,i;const l=t.topic,s=(r=t.ref)!==null&&r!==void 0?r:"",o=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(o.length>255)throw new Error(`joinRef length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+s.length+l.length+u.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(h),p=0;m.setUint8(p++,this.KINDS.userBroadcastPush),m.setUint8(p++,o.length),m.setUint8(p++,s.length),m.setUint8(p++,l.length),m.setUint8(p++,u.length),m.setUint8(p++,d.length),m.setUint8(p++,n),Array.from(o,v=>m.setUint8(p++,v.charCodeAt(0))),Array.from(s,v=>m.setUint8(p++,v.charCodeAt(0))),Array.from(l,v=>m.setUint8(p++,v.charCodeAt(0))),Array.from(u,v=>m.setUint8(p++,v.charCodeAt(0))),Array.from(d,v=>m.setUint8(p++,v.charCodeAt(0)));var _=new Uint8Array(h.byteLength+a.byteLength);return _.set(new Uint8Array(h),0),_.set(new Uint8Array(a),h.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return n(a)}if(typeof t=="string"){const a=JSON.parse(t),[r,i,l,s,o]=a;return n({join_ref:r,ref:i,topic:l,event:s,payload:o})}return n({})}_binaryDecode(t){const n=new DataView(t),a=n.getUint8(0),r=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,r)}}_decodeUserBroadcast(t,n,a){const r=n.getUint8(1),i=n.getUint8(2),l=n.getUint8(3),s=n.getUint8(4);let o=this.HEADER_LENGTH+4;const u=a.decode(t.slice(o,o+r));o=o+r;const c=a.decode(t.slice(o,o+i));o=o+i;const d=a.decode(t.slice(o,o+l));o=o+l;const f=t.slice(o,t.byteLength),h=s===this.JSON_ENCODING?JSON.parse(a.decode(f)):f,m={type:this.BROADCAST_EVENT,event:c,payload:h};return l>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>n.includes(a)))}}class Im{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ve||(ve={}));const Lh=(e,t,n={})=>{var a;const r=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,l)=>(i[l]=SS(l,e,t,r),i),{}):{}},SS=(e,t,n,a)=>{const r=t.find(s=>s.name===e),i=r==null?void 0:r.type,l=n[e];return i&&!a.includes(i)?Jm(i,l):_c(l)},Jm=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return OS(t,n)}switch(e){case ve.bool:return ES(t);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return TS(t);case ve.json:case ve.jsonb:return AS(t);case ve.timestamp:return xS(t);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return _c(t);default:return _c(t)}},_c=e=>e,ES=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},OS=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let i;const l=e.slice(1,n);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(s=>Jm(t,s))}return e},xS=e=>typeof e=="string"?e.replace(" ","T"):e,Qm=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ou{constructor(t,n,a={},r=pc){this.channel=t,this.event=n,this.payload=a,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qh||(qh={}));class Ui{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},r=>{const{onJoin:i,onLeave:l,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ui.syncState(this.state,r,i,l),this.pendingDiffs.forEach(o=>{this.state=Ui.syncDiff(this.state,o,i,l)}),this.pendingDiffs=[],s()}),this.channel._on(a.diff,{},r=>{const{onJoin:i,onLeave:l,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ui.syncDiff(this.state,r,i,l),s())}),this.onJoin((r,i,l)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:l})}),this.onLeave((r,i,l)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,r){const i=this.cloneDeep(t),l=this.transformState(n),s={},o={};return this.map(i,(u,c)=>{l[u]||(o[u]=c)}),this.map(l,(u,c)=>{const d=i[u];if(d){const f=c.map(_=>_.presence_ref),h=d.map(_=>_.presence_ref),m=c.filter(_=>h.indexOf(_.presence_ref)<0),p=d.filter(_=>f.indexOf(_.presence_ref)<0);m.length>0&&(s[u]=m),p.length>0&&(o[u]=p)}else s[u]=c}),this.syncDiff(i,{joins:s,leaves:o},a,r)}static syncDiff(t,n,a,r){const{joins:i,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),r||(r=()=>{}),this.map(i,(s,o)=>{var u;const c=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(o),c.length>0){const d=t[s].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[s].unshift(...f)}a(s,c,o)}),this.map(l,(s,o)=>{let u=t[s];if(!u)return;const c=o.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[s]=u,r(s,u,o),u.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const r=t[a];return"metas"in r?n[a]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Hh||(Hh={}));var zi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zi||(zi={}));var _n;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_n||(_n={}));class _r{constructor(t,n={config:{}},a){var r,i;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ou(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new Im(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(l,s)=>{this._trigger(this._replyEventName(s),l)}),this.presence=new Ui(this),this.broadcastEndpointURL=Qm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Me.closed){const{config:{broadcast:l,presence:s,private:o}}=this.params,u=(r=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(h=>h.filter))!==null&&r!==void 0?r:[],c=!!this.bindings[zi.PRESENCE]&&this.bindings[zi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:l,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(_n.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(_n.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t==null||t(_n.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,_=(m=p==null?void 0:p.length)!==null&&m!==void 0?m:0,v=[];for(let g=0;g<_;g++){const y=p[g],{filter:{event:b,schema:C,table:j,filter:w}}=y,R=h&&h[g];if(R&&R.event===b&&_r.isFilterValueEqual(R.schema,C)&&_r.isFilterValueEqual(R.table,j)&&_r.isFilterValueEqual(R.filter,w))v.push(Object.assign(Object.assign({},y),{id:R.id}));else{this.unsubscribe(),this.state=Me.errored,t==null||t(_n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(_n.SUBSCRIBED);return}}).receive("error",h=>{this.state=Me.errored,t==null||t(_n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===Me.joined&&t===zi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var r;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);if(s.status===202)return{success:!0};let o=s.statusText;try{const u=await s.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,r;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,s,o;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(s=(l=this.params)===null||l===void 0?void 0:l.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Me.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(r=>{a=new ou(this,Pt.leave,{},t),a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Me.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const r=new AbortController,i=setTimeout(()=>r.abort(),a),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),l}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new ou(this,t,n,a);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>_S){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var r,i;const l=t.toLocaleLowerCase(),{close:s,error:o,leave:u,join:c}=Pt;if(a&&[s,o,u,c].indexOf(l)>=0&&a!==this._joinRef())return;let f=this._onMessage(l,n,a);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(h=>{var m,p,_;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((_=(p=h.filter)===null||p===void 0?void 0:p.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(h=>h.callback(f,a)):(i=this.bindings[l])===null||i===void 0||i.filter(h=>{var m,p,_,v,g,y;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in h){const b=h.id,C=(m=h.filter)===null||m===void 0?void 0:m.event;return b&&((p=n.ids)===null||p===void 0?void 0:p.includes(b))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(g=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return b==="*"||b===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===l}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:p,table:_,commit_timestamp:v,type:g,errors:y}=m;f=Object.assign(Object.assign({},{schema:p,table:_,commit_timestamp:v,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(m))}h.callback(f,a)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const r=t.toLocaleLowerCase(),i={type:r,filter:n,callback:a};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&_r.isEqual(r.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pt.close,{},t)}_onError(t){this._on(Pt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Lh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Lh(t.columns,t.old_record)),n}}const uu=()=>{},ql={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RS=[1e3,2e3,5e3,1e4],CS=1e4,DS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jS{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pc,this.transport=null,this.heartbeatIntervalMs=ql.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uu,this.ref=0,this.reconnectTimer=null,this.vsn=Bh,this.logger=uu,this.conn=null,this.sendBuffer=[],this.serializer=new wS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>r?(...i)=>r(...i):(...i)=>fetch(...i),!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${bc.websocket}`,this.httpEndpoint=Qm(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Vn.connecting:return Aa.Connecting;case Vn.open:return Aa.Open;case Vn.closing:return Aa.Closing;default:return Aa.Closed}}isConnected(){return this.connectionState()===Aa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,r=this.getChannels().find(i=>i.topic===a);if(r)return r;{const i=new _r(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:a,payload:r,ref:i}=t,l=()=>{this.encode(t,s=>{var o;(o=this.conn)===null||o===void 0||o.send(s)})};this.log("push",`${n} ${a} (${i})`,r),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(bS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ql.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:r,payload:i,ref:l}=n,s=l?`(${l})`:"",o=i.status||"";this.log("receive",`${o} ${a} ${r} ${s}`.trim(),i),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(r,i,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Vn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Vn.open||this.conn.readyState===Vn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${a}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([DS],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,a=!1;if(t)n=t,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:mS};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Pt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Im(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ql.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,r,i,l,s,o,u,c,d,f,h;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:pc,this.heartbeatIntervalMs=(r=t==null?void 0:t.heartbeatIntervalMs)!==null&&r!==void 0?r:ql.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:uu,this.vsn=(o=t==null?void 0:t.vsn)!==null&&o!==void 0?o:Bh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:m=>RS[m-1]||CS,this.vsn){case Xm:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(m,p)=>p(JSON.stringify(m)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(m,p)=>p(JSON.parse(m));break;case pS:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Pi=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function NS(e,t,n){const a=new URL(t,e);if(n)for(const[r,i]of Object.entries(n))i!==void 0&&a.searchParams.set(r,i);return a.toString()}async function US(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function zS(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:r,body:i,headers:l}){const s=NS(e.baseUrl,a,r),o=await US(e.auth),u=await t(s,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...o,...l},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),f=d&&c?JSON.parse(c):c;if(!u.ok){const h=d?f:void 0,m=h==null?void 0:h.error;throw new Pi((m==null?void 0:m.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:h})}return{status:u.status,headers:u.headers,data:f}}}}function Hl(e){return e.join("")}var kS=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Hl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hl(e.namespace)}`}),!0}catch(t){if(t instanceof Pi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Pi&&n.status===409)return;throw n}}};function Ja(e){return e.join("")}var MS=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ja(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ja(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ja(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ja(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ja(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ja(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Pi&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Pi&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},BS=class{constructor(e){var a;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=zS({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(a=e.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new kS(this.client,t),this.tableOps=new MS(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},mo=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Te(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var LS=class extends mo{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wc=class extends mo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Bf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qS=()=>Response,Sc=e=>{if(Array.isArray(e))return e.map(n=>Sc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=Sc(a)}),t},HS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$S=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function GS(e,t){if(Wi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Wi(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KS(e){var t=GS(e,"string");return Wi(t)=="symbol"?t:t+""}function VS(e,t,n){return(t=KS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$h(Object(n),!0).forEach(function(a){VS(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$h(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}const cu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},YS=async(e,t,n)=>{e instanceof await qS()&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{const r=e.status||500,i=(a==null?void 0:a.statusCode)||r+"";t(new LS(cu(a),r,i))}).catch(a=>{t(new wc(cu(a),a))}):t(new wc(cu(e),e))},XS=(e,t,n,a)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?r:(HS(a)?(r.headers=I({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(a)):r.body=a,t!=null&&t.duplex&&(r.duplex=t.duplex),I(I({},r),n))};async function bl(e,t,n,a,r,i){return new Promise((l,s)=>{e(n,XS(t,a,r,i)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>l(o)).catch(o=>YS(o,s,a))})}async function Fi(e,t,n,a){return bl(e,"GET",t,n,a)}async function Qt(e,t,n,a,r){return bl(e,"POST",t,a,r,n)}async function Ec(e,t,n,a,r){return bl(e,"PUT",t,a,r,n)}async function IS(e,t,n,a){return bl(e,"HEAD",t,I(I({},n),{},{noResolveJson:!0}),a)}async function Lf(e,t,n,a,r){return bl(e,"DELETE",t,a,r,n)}var JS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Te(t))return{data:null,error:t};throw t}}};let Zm;Zm=Symbol.toStringTag;var QS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Zm]="BlobDownloadBuilder",this.promise=null}asStream(){return new JS(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Te(t))return{data:null,error:t};throw t}}};const ZS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var PS=class{constructor(e,t={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Bf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,a){var r=this;try{let i;const l=I(I({},Gh),a);let s=I(I({},r.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const o=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),o&&i.append("metadata",r.encodeMetadata(o)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",l.cacheControl),o&&!i.has("metadata")&&i.append("metadata",r.encodeMetadata(o))):(i=n,s["cache-control"]=`max-age=${l.cacheControl}`,s["content-type"]=l.contentType,o&&(s["x-metadata"]=r.toBase64(r.encodeMetadata(o))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!l.duplex&&(l.duplex="half")),a!=null&&a.headers&&(s=I(I({},s),a.headers));const u=r._removeEmptyFolders(t),c=r._getFinalPath(u),d=await(e=="PUT"?Ec:Qt)(r.fetch,`${r.url}/object/${c}`,i,I({headers:s},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Te(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,a){var r=this;const i=r._removeEmptyFolders(e),l=r._getFinalPath(i),s=new URL(r.url+`/object/upload/sign/${l}`);s.searchParams.set("token",t);try{let o;const u=I({upsert:Gh.upsert},a),c=I(I({},r.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",u.cacheControl)):(o=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await Ec(r.fetch,s.toString(),o,{headers:c})).Key},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}}async createSignedUploadUrl(e,t){var n=this;try{let a=n._getFinalPath(e);const r=I({},n.headers);t!=null&&t.upsert&&(r["x-upsert"]="true");const i=await Qt(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:r}),l=new URL(n.url+i.url),s=l.searchParams.get("token");if(!s)throw new mo("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:s},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Te(a))return{data:null,error:a};throw a}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var a=this;try{return{data:await Qt(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async copy(e,t,n){var a=this;try{return{data:{path:(await Qt(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers})).Key},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async createSignedUrl(e,t,n){var a=this;try{let r=a._getFinalPath(e),i=await Qt(a.fetch,`${a.url}/object/sign/${r}`,I({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:a.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${a.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async createSignedUrls(e,t,n){var a=this;try{const r=await Qt(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:e},{headers:a.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(l=>I(I({},l),{},{signedUrl:l.signedURL?encodeURI(`${a.url}${l.signedURL}${i}`):null})),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),r=a?`?${a}`:"",i=this._getFinalPath(e),l=()=>Fi(this.fetch,`${this.url}/${n}/${i}${r}`,{headers:this.headers,noResolveJson:!0});return new QS(l,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Sc(await Fi(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Te(a))return{data:null,error:a};throw a}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await IS(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Te(a)&&a instanceof wc){const r=a.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:a}}throw a}}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],r=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";r!==""&&a.push(r);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&a.push(l);let s=a.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${s}`)}}}async remove(e){var t=this;try{return{data:await Lf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async list(e,t,n){var a=this;try{const r=I(I(I({},ZS),t),{},{prefix:e||""});return{data:await Qt(a.fetch,`${a.url}/object/list/${a.bucketId}`,r,{headers:a.headers},n),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async listV2(e,t){var n=this;try{const a=I({},e);return{data:await Qt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},t),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Te(a))return{data:null,error:a};throw a}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Pm="2.89.0",Wm={"X-Client-Info":`storage-js/${Pm}`};var WS=class{constructor(e,t={},n,a){this.shouldThrowOnError=!1;const r=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=I(I({},Wm),t),this.fetch=Bf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Fi(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Fi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Te(a))return{data:null,error:a};throw a}}async updateBucket(e,t){var n=this;try{return{data:await Ec(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Te(a))return{data:null,error:a};throw a}}async emptyBucket(e){var t=this;try{return{data:await Qt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Lf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},FS=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=I(I({},Wm),t),this.fetch=Bf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Qt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const a=n.toString(),r=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return{data:await Fi(t.fetch,r,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Lf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!$S(e))throw new mo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new BS({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(r,i){const l=r[i];return typeof l!="function"?l:async(...s)=>{try{return{data:await l.apply(r,s),error:null}}catch(o){if(a)throw o;return{data:null,error:o}}}}})}};const qf={"X-Client-Info":`storage-js/${Pm}`,"Content-Type":"application/json"};var Fm=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Et(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var fu=class extends Fm{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eE=class extends Fm{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Hf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Kh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nE=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const a=e.status||500,r=e;if(typeof r.json=="function")r.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new fu(Kh(i),a,l))}).catch(()=>{const i=a+"";t(new fu(r.statusText||`HTTP ${a} error`,a,i))});else{const i=a+"";t(new fu(r.statusText||`HTTP ${a} error`,a,i))}}else t(new eE(Kh(e),e))},aE=(e,t,n,a)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(tE(a)?(r.headers=I({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(a)):r.body=a,I(I({},r),n)):r};async function rE(e,t,n,a,r,i){return new Promise((l,s)=>{e(n,aE(t,a,r,i)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const u=o.headers.get("content-type");return!u||!u.includes("application/json")?{}:o.json()}).then(o=>l(o)).catch(o=>nE(o,s,a))})}async function Tt(e,t,n,a,r){return rE(e,"POST",t,a,r,n)}var iE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=I(I({},qf),t),this.fetch=Hf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Tt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Et(a))return{data:null,error:a};throw a}}async listIndexes(e){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Tt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Et(a))return{data:null,error:a};throw a}}},lE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=I(I({},qf),t),this.fetch=Hf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Tt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Tt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Tt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}},sE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=I(I({},qf),t),this.fetch=Hf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}},oE=class extends sE{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new uE(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},uE=class extends iE{constructor(e,t,n,a){super(e,t,a),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new cE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},cE=class extends lE{constructor(e,t,n,a,r){super(e,t,r),this.vectorBucketName=n,this.indexName=a}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},fE=class extends WS{constructor(e,t={},n,a){super(e,t,n,a)}from(e){return new PS(this.url,this.headers,e,this.fetch)}get vectors(){return new oE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new FS(this.url+"/iceberg",this.headers,this.fetch)}};const ep="2.89.0",ir=30*1e3,Tc=3,du=Tc*ir,dE="http://localhost:9999",hE="supabase.auth.token",gE={"X-Client-Info":`gotrue-js/${ep}`},Ac="X-Supabase-Api-Version",tp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yE=10*60*1e3;class el extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class mE extends el{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function pE(e){return K(e)&&e.name==="AuthApiError"}class Oa extends el{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class kn extends el{constructor(t,n,a,r){super(t,a,r),this.name=n,this.status=a}}class bt extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bE(e){return K(e)&&e.name==="AuthSessionMissingError"}class Qa extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $l extends kn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gl extends kn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _E(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class Vh extends kn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wE extends kn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Oc extends kn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function hu(e){return K(e)&&e.name==="AuthRetryableFetchError"}class Yh extends kn{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class xc extends kn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xh=` 	
\r=`.split(""),SE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Xh.length;t+=1)e[Xh[t].charCodeAt(0)]=-2;for(let t=0;t<Hs.length;t+=1)e[Hs[t].charCodeAt(0)]=t;return e})();function Ih(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Hs[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Hs[a]),t.queuedBits-=6}}function np(e,t,n){const a=SE[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Jh(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},a={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=l=>{AE(l,a,n)};for(let l=0;l<e.length;l+=1)np(e.charCodeAt(l),r,i);return t.join("")}function EE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function TE(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const r=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}EE(a,t)}}function AE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Cr(e){const t=[],n={queue:0,queuedBits:0},a=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)np(e.charCodeAt(r),n,a);return new Uint8Array(t)}function OE(e){const t=[];return TE(e,n=>t.push(n)),new Uint8Array(t)}function xa(e){const t=[],n={queue:0,queuedBits:0},a=r=>{t.push(r)};return e.forEach(r=>Ih(r,n,a)),Ih(null,n,a),t.join("")}function xE(e){return Math.round(Date.now()/1e3)+e}function RE(){return Symbol("auth-callback")}const Ie=()=>typeof window<"u"&&typeof document<"u",pa={tested:!1,writable:!1},ap=()=>{if(!Ie())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pa.tested)return pa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pa.tested=!0,pa.writable=!0}catch{pa.tested=!0,pa.writable=!1}return pa.writable};function CE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return n.searchParams.forEach((a,r)=>{t[r]=a}),t}const rp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ba=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xe=async(e,t)=>{await e.removeItem(t)};class po{constructor(){this.promise=new po.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}po.promiseConstructor=Promise;function gu(e){const t=e.split(".");if(t.length!==3)throw new xc("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!vE.test(t[a]))throw new xc("JWT not in base64url format");return{header:JSON.parse(Jh(t[0])),payload:JSON.parse(Jh(t[1])),signature:Cr(t[2]),raw:{header:t[0],payload:t[1]}}}async function jE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function NE(e,t){return new Promise((a,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){a(l);return}}catch(l){if(!t(i,l)){r(l);return}}})()})}function UE(e){return("0"+e.toString(16)).substr(-2)}function zE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*a));return r}return crypto.getRandomValues(t),Array.from(t,UE).join("")}async function kE(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(a);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function ME(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await kE(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Za(e,t,n=!1){const a=zE();let r=a;n&&(r+="/PASSWORD_RECOVERY"),await lr(e,`${t}-code-verifier`,r);const i=await ME(a);return[i,a===i?"plain":"s256"]}const BE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LE(e){const t=e.headers.get(Ac);if(!t||!t.match(BE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function HE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $E=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pa(e){if(!$E.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function GE(e,t){return new Proxy(e,{get:(n,a,r)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,r)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,r)}})}function Qh(e){return JSON.parse(JSON.stringify(e))}const Ta=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KE=[502,503,504];async function Zh(e){var t;if(!DE(e))throw new Oc(Ta(e),0);if(KE.includes(e.status))throw new Oc(Ta(e),e.status);let n;try{n=await e.json()}catch(i){throw new Oa(Ta(i),i)}let a;const r=LE(e);if(r&&r.getTime()>=tp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Yh(Ta(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new bt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Yh(Ta(n),e.status,n.weak_password.reasons);throw new mE(Ta(n),e.status||500,a)}const VE=(e,t,n,a)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(a),Object.assign(Object.assign({},r),n))};async function X(e,t,n,a){var r;const i=Object.assign({},a==null?void 0:a.headers);i[Ac]||(i[Ac]=tp["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const l=(r=a==null?void 0:a.query)!==null&&r!==void 0?r:{};a!=null&&a.redirectTo&&(l.redirect_to=a.redirectTo);const s=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=await YE(e,t,n+s,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function YE(e,t,n,a,r,i){const l=VE(t,a,r,i);let s;try{s=await e(n,Object.assign({},l))}catch(o){throw console.error(o),new Oc(Ta(o),0)}if(s.ok||await Zh(s),a!=null&&a.noResolveJson)return s;try{return await s.json()}catch(o){await Zh(o)}}function Jt(e){var t;let n=null;JE(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=xE(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function Ph(e){const t=Jt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Qn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function XE(e){return{data:e,error:null}}function IE(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:r,verification_type:i}=e,l=yo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:a,redirect_to:r,verification_type:i},o=Object.assign({},l);return{data:{properties:s,user:o},error:null}}function Wh(e){return e}function JE(e){return e.access_token&&e.refresh_token&&e.expires_in}const yu=["global","local","others"];class QE{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=rp(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=yu[0]){if(yu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yu.join(", ")}`);try{return await X(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(K(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await X(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qn})}catch(a){if(K(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=yo(t,["options"]),r=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(r.new_email=a==null?void 0:a.newEmail,delete r.newEmail),await X(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:IE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(K(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await X(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,r,i,l,s,o;try{const u={nextPage:null,lastPage:0,total:0},c=await X(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Wh});if(c.error)throw c.error;const d=await c.json(),f=(l=c.headers.get("x-total-count"))!==null&&l!==void 0?l:0,h=(o=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&o!==void 0?o:[];return h.length>0&&(h.forEach(m=>{const p=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(m.split(";")[1].split("=")[1]);u[`${_}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Pa(t);try{return await X(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Pa(t);try{return await X(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Qn})}catch(a){if(K(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){Pa(t);try{return await X(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qn})}catch(a){if(K(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Pa(t.userId);try{const{data:n,error:a}=await X(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:a}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Pa(t.userId),Pa(t.id);try{return{data:await X(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,r,i,l,s,o;try{const u={nextPage:null,lastPage:0,total:0},c=await X(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Wh});if(c.error)throw c.error;const d=await c.json(),f=(l=c.headers.get("x-total-count"))!==null&&l!==void 0?l:0,h=(o=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&o!==void 0?o:[];return h.length>0&&(h.forEach(m=>{const p=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(m.split(";")[1].split("=")[1]);u[`${_}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(K(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await X(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await X(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await X(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(K(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await X(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await X(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}}function Fh(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Wa={debug:!!(globalThis&&ap()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ip extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ZE extends ip{}async function PE(e,t,n){Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async r=>{if(r){Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ZE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function WE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lp(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function FE(e){return parseInt(e,16)}function e1(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function t1(e){var t;const{chainId:n,domain:a,expirationTime:r,issuedAt:i=new Date,nonce:l,notBefore:s,requestId:o,resources:u,scheme:c,uri:d,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=lp(e.address),m=c?`${c}://${a}`:a,p=e.statement?`${e.statement}
`:"",_=`${m} wants you to sign in with your Ethereum account:
${h}

${p}`;let v=`URI: ${d}
Version: ${f}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(r&&(v+=`
Expiration Time: ${r.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),o&&(v+=`
Request ID: ${o}`),u){let g=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}v+=g}return`${_}
${v}`}class je extends Error{constructor({message:t,code:n,cause:a,name:r}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=r??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class $s extends je{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function n1({error:e,options:t}){var n,a,r;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new je({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(sp(l)){if(i.rp.id!==l)return new je({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function a1({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new je({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(sp(a)){if(n.rpId!==a)return new je({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class r1{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const i1=new r1;function l1(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,r=yo(e,["challenge","user","excludeCredentials"]),i=Cr(t).buffer,l=Object.assign(Object.assign({},n),{id:Cr(n.id).buffer}),s=Object.assign(Object.assign({},r),{challenge:i,user:l});if(a&&a.length>0){s.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const u=a[o];s.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:Cr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function s1(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=yo(e,["challenge","allowCredentials"]),r=Cr(t).buffer,i=Object.assign(Object.assign({},a),{challenge:r});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const s=n[l];i.allowCredentials[l]=Object.assign(Object.assign({},s),{id:Cr(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function o1(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:xa(new Uint8Array(e.response.attestationObject)),clientDataJSON:xa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function u1(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xa(new Uint8Array(r.authenticatorData)),clientDataJSON:xa(new Uint8Array(r.clientDataJSON)),signature:xa(new Uint8Array(r.signature)),userHandle:r.userHandle?xa(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sp(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function eg(){var e,t;return!!(Ie()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function c1(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $s("Browser returned unexpected credential type",t)}:{data:null,error:new $s("Empty credential response",t)}}catch(t){return{data:null,error:n1({error:t,options:e})}}}async function f1(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $s("Browser returned unexpected credential type",t)}:{data:null,error:new $s("Empty credential response",t)}}catch(t){return{data:null,error:a1({error:t,options:e})}}}const d1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},h1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Gs(...e){const t=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),a={};for(const r of e)if(r)for(const i in r){const l=r[i];if(l!==void 0)if(Array.isArray(l))a[i]=l;else if(n(l))a[i]=l;else if(t(l)){const s=a[i];t(s)?a[i]=Gs(s,l):a[i]=Gs(l)}else a[i]=l}return a}function g1(e,t){return Gs(d1,e,t||{})}function v1(e,t){return Gs(h1,e,t||{})}class y1{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:r},i){try{const{data:l,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:s};const o=r??i1.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:u}=l.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(l.webauthn.type){case"create":{const u=g1(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await c1({publicKey:u,signal:o});return c?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=v1(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await f1(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:u,signal:o}));return c?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(l){return K(l)?{data:null,error:l}:{data:null,error:new Oa("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},i){if(!n)return{data:null,error:new el("rpId is required for WebAuthn authentication")};try{if(!eg())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:l,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:r},{request:i});if(!l)return{data:null,error:s};const{webauthn:o}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(l){return K(l)?{data:null,error:l}:{data:null,error:new Oa("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},i){if(!n)return{data:null,error:new el("rpId is required for WebAuthn registration")};try{if(!eg())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:l,error:s}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:o,error:u}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:r},{create:i});return o?this._verify({factorId:l.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(l){return K(l)?{data:null,error:l}:{data:null,error:new Oa("Unexpected error in register",l)}}}}WE();const m1={url:dE,storageKey:hE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function tg(e,t,n){return await n()}const Fa={};class tl{get jwks(){var t,n;return(n=(t=Fa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Fa[this.storageKey]=Object.assign(Object.assign({},Fa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Fa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fa[this.storageKey]=Object.assign(Object.assign({},Fa[this.storageKey]),{cachedAt:t})}constructor(t){var n,a,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},m1),t);if(this.storageKey=i.storageKey,this.instanceID=(n=tl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,tl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ie()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new QE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=rp(i.fetch),this.lock=i.lock||tg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Ie()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=PE:this.lock=tg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new y1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ap()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fh(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Fh(this.memoryStorage)),Ie()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ep}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},a="none";if(Ie()&&(n=CE(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),Ie()&&this.detectSessionInUrl&&a!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_E(i)){const o=(t=i.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",l,"redirect type",s),await this._saveSession(l),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return K(n)?this._returnResult({error:n}):this._returnResult({error:new Oa("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,r;try{const i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:Jt}),{data:l,error:s}=i;if(s||!l)return this._returnResult({data:{user:null,session:null},error:s});const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(i){if(K(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,a,r;try{let i;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Za(this.storage,this.storageKey)),i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},xform:Jt})}else if("phone"in t){const{phone:c,password:d,options:f}=t;i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Jt})}else throw new $l("You must provide either an email or phone number and a password");const{data:l,error:s}=i;if(s||!l)return await Xe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),K(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:l,options:s}=t;n=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ph})}else if("phone"in t){const{phone:i,password:l,options:s}=t;n=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ph})}else throw new $l("You must provide either an email or phone number and a password");const{data:a,error:r}=n;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!a||!a.session||!a.user){const i=new Qa;return this._returnResult({data:{user:null,session:null},error:i})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:r})}catch(n){if(K(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,a,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,r,i,l,s,o,u,c,d,f;let h,m;if("message"in t)h=t.message,m=t.signature;else{const{chain:p,wallet:_,statement:v,options:g}=t;let y;if(Ie())if(typeof _=="object")y=_;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")y=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=_}const b=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),C=await y.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=lp(C[0]);let w=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!w){const N=await y.request({method:"eth_chainId"});w=FE(N)}const R={domain:b.host,address:j,statement:v,uri:b.href,version:"1",chainId:w,nonce:(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(l=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=t1(R),m=await y.request({method:"personal_sign",params:[e1(h),j]})}try{const{data:p,error:_}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:m},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Jt});if(_)throw _;if(!p||!p.session||!p.user){const v=new Qa;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:_})}catch(p){if(K(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var n,a,r,i,l,s,o,u,c,d,f,h;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:_,wallet:v,statement:g,options:y}=t;let b;if(Ie())if(typeof v=="object")b=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))b=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const C=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const j=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),g?{statement:g}:null));let w;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")w=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)w=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)m=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),p=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${C.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(r=(a=y==null?void 0:y.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const j=await b.signMessage(new TextEncoder().encode(m),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=j}}try{const{data:_,error:v}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:xa(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Jt});if(v)throw v;if(!_||!_.session||!_.user){const g=new Qa;return this._returnResult({data:{user:null,session:null},error:g})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:v})}catch(_){if(K(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await ba(this.storage,`${this.storageKey}-code-verifier`),[a,r]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new wE;const{data:i,error:l}=await X(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Jt});if(await Xe(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!i||!i.session||!i.user){const s=new Qa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:l})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),K(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:a,token:r,access_token:i,nonce:l}=t,s=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:r,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jt}),{data:o,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o||!o.session||!o.user){const c=new Qa;return this._returnResult({data:{user:null,session:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:u})}catch(n){if(K(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,a,r,i,l;try{if("email"in t){const{email:s,options:o}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Za(this.storage,this.storageKey));const{error:d}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:s,options:o}=t,{data:u,error:c}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(i=o==null?void 0:o.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(l=o==null?void 0:o.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new $l("You must provide either an email or phone number.")}catch(s){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),K(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var n,a;try{let r,i;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:l,error:s}=await X(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Jt});if(s)throw s;if(!l)throw new Error("An error occurred on token verification.");const o=l.session,u=l.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(t){var n,a,r,i,l;try{let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Za(this.storage,this.storageKey));const u=await X(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:XE});return!((i=u.data)===null||i===void 0)&&i.url&&Ie()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),K(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new bt;const{error:r}=await X(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(t){if(K(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:r,options:i}=t,{error:l}=await X(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:a,type:r,options:i}=t,{data:l,error:s}=await X(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:s})}throw new $l("You must provide either an email or phone number and a type")}catch(n){if(K(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ba(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<du:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const l=await ba(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=vu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=GE(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qn}):await this._useSession(async n=>{var a,r,i;const{data:l,error:s}=n;if(s)throw s;return!(!((a=l.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bt}:await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Qn})})}catch(n){if(K(n))return bE(n)&&(await this._removeSession(),await Xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:r,error:i}=a;if(i)throw i;if(!r.session)throw new bt;const l=r.session;let s=null,o=null;this.flowType==="pkce"&&t.email!=null&&([s,o]=await Za(this.storage,this.storageKey));const{data:u,error:c}=await X(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:o}),jwt:l.access_token,xform:Qn});if(c)throw c;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(a){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),K(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bt;const n=Date.now()/1e3;let a=n,r=!0,i=null;const{payload:l}=gu(t.access_token);if(l.exp&&(a=l.exp,r=a<=n),r){const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:o}=await this._getUser(t.access_token);if(o)throw o;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(K(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:l,error:s}=n;if(s)throw s;t=(a=l.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new bt;const{data:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(K(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Ie())throw new Gl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Vh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Vh("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:r,access_token:i,refresh_token:l,expires_in:s,expires_at:o,token_type:u}=t;if(!i||!s||!l||!u)throw new Gl("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let f=c+d;o&&(f=parseInt(o));const h=f-c;h*1e3<=ir&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const m=f-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,c);const{data:p,error:_}=await this._getUser(i);if(_)throw _;const v={provider_token:a,provider_refresh_token:r,access_token:i,expires_in:d,expires_at:f,refresh_token:l,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(a){if(K(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ba(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i)return this._returnResult({error:i});const l=(a=r.session)===null||a===void 0?void 0:a.access_token;if(l){const{error:s}=await this.admin.signOut(l,t);if(s&&!(pE(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await Xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=RE(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,r;try{const{data:{session:i},error:l}=n;if(l)throw l;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let a=null,r=null;this.flowType==="pkce"&&([a,r]=await Za(this.storage,this.storageKey,!0));try{return await X(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),K(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:r}=await this._useSession(async i=>{var l,s,o,u,c;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await X(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return Ie()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(K(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:r,data:{session:i}}=n;if(r)throw r;const{options:l,provider:s,token:o,access_token:u,nonce:c}=t,d=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:s,id_token:o,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Jt}),{data:f,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Qa}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:h}))}catch(r){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,r;const{data:i,error:l}=n;if(l)throw l;return await X(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await NE(async r=>(r>0&&await jE(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await X(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jt})),(r,i)=>{const l=200*Math.pow(2,r);return i&&hu(i)&&Date.now()+l-a<ir})}catch(a){if(this._debug(n,"error",a),K(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),Ie()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const r=await ba(this.storage,this.storageKey);if(r&&this.userStorage){let l=await ba(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:r.user},await lr(this.userStorage,this.storageKey+"-user",l)),r.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:vu()}else if(r&&!r.user&&!r.user){const l=await ba(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(r.user=l.user,await Xe(this.storage,this.storageKey+"-user"),await lr(this.storage,this.storageKey,r)):r.user=vu()}if(this._debug(a,"session from storage",r),!this._isValidSession(r)){this._debug(a,"session is not valid"),r!==null&&await this._removeSession();return}const i=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<du;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${du}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),hu(l)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:s}=await this._getUser(r.access_token);!s&&(l!=null&&l.user)?(r.user=l.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(a,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(a,"error",r),console.error(r);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new po;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new bt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(r,"error",i),K(i)){const l={data:null,error:i};return hu(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,a=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(o){i.push(o)}});if(await Promise.all(l),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Xe(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await lr(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const i=Qh(r);await lr(this.storage,this.storageKey,i)}else{const r=Qh(n);await lr(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Xe(this.storage,this.storageKey),await Xe(this.storage,this.storageKey+"-code-verifier"),await Xe(this.storage,this.storageKey+"-user"),this.userStorage&&await Xe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ie()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ir);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((a.expires_at*1e3-t)/ir);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ir}ms, refresh threshold is ${Tc} ticks`),r<=Tc&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ip)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ie()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const r=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&r.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&r.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,l]=await Za(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});r.push(s.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);r.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&r.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;return i?this._returnResult({data:null,error:i}):await X(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,r;const{data:i,error:l}=n;if(l)return this._returnResult({data:null,error:l});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await X(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&o.type==="totp"&&(!((r=o==null?void 0:o.totp)===null||r===void 0)&&r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?o1(t.webauthn.credential_response):u1(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:o}=await X(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:o}))})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i)return this._returnResult({data:null,error:i});const l=await X(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});if(l.error)return l;const{data:s}=l;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:l1(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:s1(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])r.all.push(i),i.status==="verified"&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=gu(a.access_token);let l=null;i.aal&&(l=i.aal);let s=l;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=i.amr||[];return{data:{currentLevel:l,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:r}=n;return r?this._returnResult({data:null,error:r}):a?await X(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new bt})})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:r},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new bt});const l=await X(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return l.data&&l.data.redirect_url&&Ie()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(a){if(K(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:r},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new bt});const l=await X(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return l.data&&l.data.redirect_url&&Ie()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(a){if(K(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?await X(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new bt})})}catch(t){if(K(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:a},error:r}=n;return r?this._returnResult({data:null,error:r}):a?(await X(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new bt})})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(s=>s.kid===t);if(a)return a;const r=Date.now();if(a=this.jwks.keys.find(s=>s.kid===t),a&&this.jwks_cached_at+yE>r)return a;const{data:i,error:l}=await X(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,a=i.keys.find(s=>s.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:h,error:m}=await this.getSession();if(m||!h.session)return this._returnResult({data:null,error:m});a=h.session.access_token}const{header:r,payload:i,signature:l,raw:{header:s,payload:o}}=gu(a);n!=null&&n.allowExpired||qE(i.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(a);if(h)throw h;return{data:{claims:i,header:r,signature:l},error:null}}const c=HE(r.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,l,OE(`${s}.${o}`)))throw new xc("Invalid JWT signature");return{data:{claims:i,header:r,signature:l},error:null}}catch(a){if(K(a))return this._returnResult({data:null,error:a});throw a}}}tl.nextInstanceID={};const p1=tl,b1="2.89.0";let vi="";typeof Deno<"u"?vi="deno":typeof document<"u"?vi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vi="react-native":vi="node";const _1={"X-Client-Info":`supabase-js-${vi}/${b1}`},w1={headers:_1},S1={schema:"public"},E1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},T1={};function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function A1(e,t){if(nl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(nl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O1(e){var t=A1(e,"string");return nl(t)=="symbol"?t:t+""}function x1(e,t,n){return(t=O1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ng(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ng(Object(n),!0).forEach(function(a){x1(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ng(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}const R1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),C1=()=>Headers,D1=(e,t,n)=>{const a=R1(n),r=C1();return async(i,l)=>{var s;const o=(s=await t())!==null&&s!==void 0?s:e;let u=new r(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),a(i,Oe(Oe({},l),{},{headers:u}))}};function j1(e){return e.endsWith("/")?e:e+"/"}function N1(e,t){var n,a;const{db:r,auth:i,realtime:l,global:s}=e,{db:o,auth:u,realtime:c,global:d}=t,f={db:Oe(Oe({},o),r),auth:Oe(Oe({},u),i),realtime:Oe(Oe({},c),l),storage:{},global:Oe(Oe(Oe({},d),s),{},{headers:Oe(Oe({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(a=s==null?void 0:s.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function U1(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(j1(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var z1=class extends p1{constructor(e){super(e)}},k1=class{constructor(e,t,n){var a,r;this.supabaseUrl=e,this.supabaseKey=t;const i=U1(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const l=`sb-${i.hostname.split(".")[0]}-auth-token`,s={db:S1,realtime:T1,auth:Oe(Oe({},E1),{},{storageKey:l}),global:w1},o=N1(n??{},s);if(this.storageKey=(a=o.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(r=o.global.headers)!==null&&r!==void 0?r:{},o.accessToken)this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=o.auth)!==null&&u!==void 0?u:{},this.headers,o.global.fetch)}this.fetch=D1(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(Oe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new gS(new URL("rest/v1",i).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch}),this.storage=new fE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new uS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:a}=await e.auth.getSession();return(t=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:r,storageKey:i,flowType:l,lock:s,debug:o,throwOnError:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new z1({url:this.authUrl.href,headers:Oe(Oe({},f),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:r,flowType:l,lock:s,debug:o,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new jS(this.realtimeUrl.href,Oe(Oe({},e),{},{params:Oe(Oe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const M1=(e,t,n)=>new k1(e,t,n);function B1(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}B1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const L1="https://sqisntxippjzcekyhqyo.supabase.co",q1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNxaXNudHhpcHBqemNla3locXlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYyMDYyMzQsImV4cCI6MjA4MTc4MjIzNH0.wMdFeuYbxBJnJUeON0ccOiULDhEA88R25ewnIeb9dPg",le=M1(L1,q1),H1=()=>{const[e,t]=S.useState(null),[n,a]=S.useState(!0);return S.useEffect(()=>{le.auth.getSession().then(({data:{session:s}})=>{t(s),a(!1)});const{data:{subscription:l}}=le.auth.onAuthStateChange((s,o)=>{t(o)});return()=>l.unsubscribe()},[]),{session:e,authLoading:n,handleGoogleLogin:async()=>{try{const l=window.location.origin,s=window.location.hostname,o=s==="localhost"||s.startsWith("192.")||s.startsWith("172."),u=l+"/thinkmap/",{error:c}=await le.auth.signInWithOAuth({provider:"google",options:{redirectTo:u}});if(c)throw c}catch(l){console.error("  :",l),alert(" : "+l.message)}},handleLogout:async()=>{try{const{error:l}=await le.auth.signOut();if(l)throw l}catch(l){alert(" : "+l.message)}}}},er=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)});function $1(e,t){const[n,a]=S.useState([{id:er(),type:"toggle",content:"",children:[],isOpen:!0,depth:0}]),[r,i]=S.useState(!1),l=S.useRef(null),[s,o]=S.useState(null),[u,c]=S.useState([]),[d,f]=S.useState(!1),h=S.useRef(null),m=S.useCallback(T=>{if(!Array.isArray(T))return[];const D=new Map(T.map(E=>[E.id,E]));return T.map(E=>{if(E.is_reference&&E.original_block_id){const O=D.get(E.original_block_id);return{...E,content:(O==null?void 0:O.content)||"[    ]",_isReference:!0,_originalId:E.original_block_id}}return E})},[]),p=S.useCallback(T=>{if(!Array.isArray(T)||T.length===0)return[{id:er(),type:"toggle",content:"",children:[],isOpen:!0,depth:0}];const D={},E=[];T.forEach(A=>{D[A.id]={...A,children:[],depth:A.depth||0}}),T.forEach(A=>{if(A.parent_id===null||A.parent_id===void 0)E.push(D[A.id]);else{const M=D[A.parent_id];M?M.children.push(D[A.id]):(D[A.id].depth=0,E.push(D[A.id]))}});const O=A=>{A.sort((M,z)=>(M.position||0)-(z.position||0)),A.forEach(M=>{Array.isArray(M.children)&&M.children.length>0&&O(M.children)})};return O(E),E},[]),_=S.useCallback(T=>Array.isArray(T)?T.map(D=>({...D,children:Array.isArray(D.children)?_(D.children):[],depth:D.depth!==void 0?D.depth:0})):[],[]),v=S.useCallback((T,D=-1)=>T.map(E=>({...E,depth:D+1,children:Array.isArray(E.children)?v(E.children,D+1):[]})),[]),g=async()=>{var T;if(!(!((T=e==null?void 0:e.user)!=null&&T.id)||!t))try{const{data:D,error:E}=await le.from("blocks").select("*").eq("user_id",e.user.id).eq("page_id",t).order("position",{ascending:!0});if(E){console.error("  :",E.message);return}if(!D||D.length===0){const M={id:er(),user_id:e.user.id,page_id:t,content:"",type:"toggle",parent_id:null,position:0,depth:0,is_open:!0,is_reference:!1,original_block_id:null};await le.from("blocks").insert([M]),a([{...M,children:[]}]);return}const O=m(D),A=p(O);a(A),l.current=JSON.parse(JSON.stringify(A))}catch(D){console.error("  :",D.message)}},y=async(T="",D=null,E=0,O=0,A="toggle")=>{var M;if(!((M=e==null?void 0:e.user)!=null&&M.id)||!t)return console.error(" "),null;try{const z={id:er(),user_id:e.user.id,page_id:t,content:T,type:A,parent_id:D,position:E,depth:O,is_open:!0,is_reference:!1,original_block_id:null},{error:B}=await le.from("blocks").insert([z]);return B?(console.error("  :",B.message),null):z}catch(z){return console.error("  :",z.message),null}},b=async(T,D,E=!1,O=null)=>{var A;if(!((A=e==null?void 0:e.user)!=null&&A.id))return console.error(" "),!1;try{const M=E?O:T,{error:z}=await le.from("blocks").update({...D,updated_at:new Date().toISOString()}).eq("id",M);return z?(console.error("  :",z.message),!1):!0}catch(M){return console.error("  :",M.message),!1}},C=async T=>{var D;if(!((D=e==null?void 0:e.user)!=null&&D.id))return console.error(" "),!1;try{const{error:E}=await le.from("blocks").delete().eq("id",T);return E?(console.error("  :",E.message),!1):!0}catch(E){return console.error("  :",E.message),!1}},j=async(T,D,E,O)=>{var A;if(!((A=e==null?void 0:e.user)!=null&&A.id))return!1;try{const{error:M}=await le.from("blocks").update({parent_id:D,position:E,depth:O,updated_at:new Date().toISOString()}).eq("id",T);return M?(console.error("  :",M.message),!1):!0}catch(M){return console.error("  :",M.message),!1}},w=async(T,D=null,E=0,O=0)=>{var A;if(!((A=e==null?void 0:e.user)!=null&&A.id)||!t)return console.error(" "),null;try{const M={id:er(),user_id:e.user.id,page_id:t,content:"",type:"toggle",parent_id:D,position:E,depth:O,is_open:!0,is_reference:!0,original_block_id:T},{error:z}=await le.from("blocks").insert([M]);return z?(console.error("   :",z.message),null):M}catch(M){return console.error("   :",M.message),null}},R=async(T,D,E=null,O=null,A="")=>{var M;if(!(!((M=e==null?void 0:e.user)!=null&&M.id)||!t))try{const{error:z}=await le.from("block_history").insert([{block_id:T,user_id:e.user.id,page_id:t,content_before:E,content_after:O,action:D,description:A}])}catch{}},N=async(T,D,E)=>{var O;!((O=e==null?void 0:e.user)!=null&&O.id)||!t||D!==E&&await R(T,"update",D,E," ")},k=async(T=null)=>{var D;if(!((D=e==null?void 0:e.user)!=null&&D.id)||!t)return!1;try{const{error:E}=await le.from("block_history").insert([{block_id:null,user_id:e.user.id,page_id:t,content_before:null,content_after:n,action:"manual_snapshot",description:T||"  "}]);return E?(console.error("   :",E.message),!1):!0}catch(E){return console.error("   :",E.message),!1}},L=async T=>{var D;if((D=e==null?void 0:e.user)!=null&&D.id)try{const E=v(T),O=new Map,A=W=>{W.forEach(V=>{/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(V.id)?O.set(V.id,V.id):O.set(V.id,er()),Array.isArray(V.children)&&V.children.length>0&&A(V.children)})};A(E);const M=[],z={},B=(W,V=null)=>{W.forEach(Ee=>{const De=V||"root";z[De]||(z[De]=0);const Vt=z[De]++,ht=O.get(Ee.id),Yt=V?O.get(V):null;M.push({id:ht,user_id:e.user.id,page_id:t,content:Ee.content||"",type:Ee.type||"toggle",parent_id:Yt,position:Vt,depth:Ee.depth,is_open:Ee.isOpen!==void 0?Ee.isOpen:!0,is_reference:Ee._isReference||!1,original_block_id:Ee._originalId?O.get(Ee._originalId):null}),Array.isArray(Ee.children)&&Ee.children.length>0&&B(Ee.children,Ee.id)})};B(E);const{data:$}=await le.from("blocks").select("id").eq("user_id",e.user.id).eq("page_id",t),H=new Set(($==null?void 0:$.map(W=>W.id))||[]),q=new Set(M.map(W=>W.id)),ie=[...H].filter(W=>!q.has(W));if(ie.length>0&&await le.from("blocks").delete().in("id",ie),M.length>0)for(let V=0;V<M.length;V+=1e3){const Ee=M.slice(V,V+1e3),{error:De}=await le.from("blocks").upsert(Ee,{onConflict:"id"});if(De)throw De}const fe=W=>W.map(V=>({...V,id:O.get(V.id),children:Array.isArray(V.children)?fe(V.children):[]}));a(fe(E))}catch(E){console.error("  :",E.message)}};return{keyThoughtsBlocks:n,setKeyThoughtsBlocks:a,isSavingKeyThoughts:r,setIsSavingKeyThoughts:i,lastSavedKeyThoughtsRef:l,focusedBlockId:s,setFocusedBlockId:o,keyThoughtsHistory:u,setKeyThoughtsHistory:c,showKeyThoughtsHistory:d,setShowKeyThoughtsHistory:f,normalizeBlocks:_,enrichBlockReferences:m,buildTree:p,calculateDepth:v,fetchKeyThoughtsContent:g,createBlock:y,updateBlock:b,deleteBlock:C,moveBlock:j,createReferenceBlock:w,saveBlockHistory:R,syncTreeToDB:L,handleSaveKeyThoughts:async()=>{var T;(T=e==null?void 0:e.user)!=null&&T.id&&n.length!==0&&await L(n)},cleanupOldHistory:async()=>{try{const T=new Date().toDateString();if(h.current===T)return;const D=new Date;D.setDate(D.getDate()-30),await le.from("block_history").delete().lt("created_at",D.toISOString()),h.current=T}catch(T){console.error("  :",T.message)}},fetchKeyThoughtsHistory:async()=>{if(t)try{const{data:T,error:D}=await le.from("block_history").select("*").eq("page_id",t).order("created_at",{ascending:!1}).limit(100);if(D){console.error("   :",D.message);return}c(T||[])}catch(T){console.error("   :",T.message)}},restoreKeyThoughtsVersion:async T=>{if(!t){alert("   .");return}try{const{data:D,error:E}=await le.from("block_history").select("*").eq("id",T).single();if(E||!D){console.error("  :",E==null?void 0:E.message),alert("    .");return}if(D.action==="manual_snapshot"){let O=D.content_after;if(typeof O=="string")try{O=JSON.parse(O)}catch(z){console.error("JSON  :",z),alert("    .");return}if(!Array.isArray(O)){console.error("blockTree  :",O),alert("   .");return}if(!window.confirm(`  ?

 : ${new Date(D.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Seoul"})}

   ,      .`))return;const M=new Date().toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Seoul"});await k(`     (${M})`),a(O),await L(O),alert("   .")}else{if(!D.block_id){alert("   ID .");return}let O=D.content_after;if(typeof O!="string"){if(O==null){alert("   .");return}O=String(O)}if(!window.confirm(`    ?

 : ${new Date(D.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Seoul"})}

: ${O}`))return;await b(D.block_id,{content:O})?(await g(),alert("   .")):alert("   .")}return}catch(D){console.error("  :",D.message),alert("     .")}},saveHistoryOnBlur:N,manualSaveHistory:k}}const ag=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),G1=e=>{const[t,n]=S.useState([]),[a,r]=S.useState(null),[i,l]=S.useState(!0),s=async()=>{var h;if((h=e==null?void 0:e.user)!=null&&h.id)try{l(!0);const{data:m,error:p}=await le.from("projects").select("*").eq("user_id",e.user.id).order("position",{ascending:!0});if(p){console.error("  :",p.message);return}!m||m.length===0?await o():(n(m),!a&&m.length>0&&r(m[0].id))}catch(m){console.error("  :",m.message)}finally{l(!1)}},o=async()=>{var h;if((h=e==null?void 0:e.user)!=null&&h.id)try{const m={id:ag(),user_id:e.user.id,name:"My Project",position:0},{error:p}=await le.from("projects").insert([m]);if(p){console.error("   :",p.message);return}n([m]),r(m.id)}catch(m){console.error("   :",m.message)}},u=async(h="Untitled Project")=>{var m;if(!((m=e==null?void 0:e.user)!=null&&m.id))return null;try{const p={id:ag(),user_id:e.user.id,name:h,position:t.length},{error:_}=await le.from("projects").insert([p]);return _?(console.error("  :",_.message),null):(n([...t,p]),p)}catch(p){return console.error("  :",p.message),null}},c=async(h,m)=>{var p;if(!((p=e==null?void 0:e.user)!=null&&p.id)||!m.trim())return!1;try{const{error:_}=await le.from("projects").update({name:m.trim(),updated_at:new Date().toISOString()}).eq("id",h).eq("user_id",e.user.id);return _?(console.error("   :",_.message),!1):(n(t.map(v=>v.id===h?{...v,name:m.trim()}:v)),!0)}catch(_){return console.error("   :",_.message),!1}},d=async h=>{var m;if(!((m=e==null?void 0:e.user)!=null&&m.id))return!1;if(t.length<=1)return console.warn("    ."),!1;try{const{error:p}=await le.from("projects").delete().eq("id",h).eq("user_id",e.user.id);if(p)return console.error("  :",p.message),!1;const _=t.filter(v=>v.id!==h);return n(_),a===h&&_.length>0&&r(_[0].id),!0}catch(p){return console.error("  :",p.message),!1}},f=async h=>{var m;if(!((m=e==null?void 0:e.user)!=null&&m.id))return!1;try{const p=h.map((_,v)=>({id:_.id,position:v,updated_at:new Date().toISOString()}));for(const _ of p){const{error:v}=await le.from("projects").update({position:_.position,updated_at:_.updated_at}).eq("id",_.id).eq("user_id",e.user.id);if(v)throw v}return n(h),!0}catch(p){return console.error("   :",p.message),!1}};return S.useEffect(()=>{var h;(h=e==null?void 0:e.user)!=null&&h.id?s():(n([]),r(null),l(!1))},[e]),{projects:t,currentProjectId:a,setCurrentProjectId:r,projectsLoading:i,fetchProjects:s,createProject:u,renameProject:c,deleteProject:d,reorderProjects:f}},rg=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),K1=(e,t)=>{const[n,a]=S.useState([]),[r,i]=S.useState(null),[l,s]=S.useState(!0),o=async()=>{var m;if(!(!((m=e==null?void 0:e.user)!=null&&m.id)||!t))try{s(!0);const{data:p,error:_}=await le.from("pages").select("*").eq("user_id",e.user.id).eq("project_id",t).order("position",{ascending:!0});if(_){console.error("  :",_.message);return}!p||p.length===0?await u():(a(p),!r&&p.length>0&&i(p[0].id))}catch(p){console.error("  :",p.message)}finally{s(!1)}},u=async()=>{var m;if(!(!((m=e==null?void 0:e.user)!=null&&m.id)||!t))try{const p={id:rg(),user_id:e.user.id,project_id:t,name:"Main",position:0},{error:_}=await le.from("pages").insert([p]);if(_){console.error("   :",_.message);return}a([p]),i(p.id)}catch(p){console.error("   :",p.message)}},c=async(m="Untitled")=>{var p;if(!((p=e==null?void 0:e.user)!=null&&p.id)||!t)return null;try{const _={id:rg(),user_id:e.user.id,project_id:t,name:m,position:n.length},{error:v}=await le.from("pages").insert([_]);return v?(console.error("  :",v.message),null):(a([...n,_]),_)}catch(_){return console.error("  :",_.message),null}},d=async(m,p)=>{var _;if(!((_=e==null?void 0:e.user)!=null&&_.id)||!p.trim())return!1;try{const{error:v}=await le.from("pages").update({name:p.trim(),updated_at:new Date().toISOString()}).eq("id",m).eq("user_id",e.user.id);return v?(console.error("   :",v.message),!1):(a(n.map(g=>g.id===m?{...g,name:p.trim()}:g)),!0)}catch(v){return console.error("   :",v.message),!1}},f=async m=>{var p;if(!((p=e==null?void 0:e.user)!=null&&p.id))return!1;if(n.length<=1)return console.warn("    ."),!1;try{const{error:_}=await le.from("pages").delete().eq("id",m).eq("user_id",e.user.id);if(_)return console.error("  :",_.message),!1;const v=n.filter(g=>g.id!==m);return a(v),r===m&&v.length>0&&i(v[0].id),!0}catch(_){return console.error("  :",_.message),!1}},h=async m=>{var p;if(!((p=e==null?void 0:e.user)!=null&&p.id))return!1;try{const _=m.map((v,g)=>({id:v.id,position:g,updated_at:new Date().toISOString()}));for(const v of _){const{error:g}=await le.from("pages").update({position:v.position,updated_at:v.updated_at}).eq("id",v.id).eq("user_id",e.user.id);if(g)throw g}return a(m),!0}catch(_){return console.error("   :",_.message),!1}};return S.useEffect(()=>{var m;(m=e==null?void 0:e.user)!=null&&m.id&&t?o():(a([]),i(null),s(!1))},[e,t]),{pages:n,currentPageId:r,setCurrentPageId:i,pagesLoading:l,fetchPages:o,createPage:c,renamePage:d,deletePage:f,reorderPages:h}};function V1(){var O,A,M,z,B,$,H;const{session:e,authLoading:t,handleGoogleLogin:n,handleLogout:a}=H1(),{projects:r,currentProjectId:i,setCurrentProjectId:l,createProject:s,renameProject:o,deleteProject:u}=G1(e),{pages:c,currentPageId:d,setCurrentPageId:f,createPage:h,renamePage:m,deletePage:p}=K1(e,i),{keyThoughtsBlocks:_,setKeyThoughtsBlocks:v,focusedBlockId:g,setFocusedBlockId:y,keyThoughtsHistory:b,showKeyThoughtsHistory:C,setShowKeyThoughtsHistory:j,fetchKeyThoughtsContent:w,handleSaveKeyThoughts:R,fetchKeyThoughtsHistory:N,restoreKeyThoughtsVersion:k,saveHistoryOnBlur:L,manualSaveHistory:G}=$1(e,d),[Q,Y]=S.useState(!1),[ne,T]=S.useState(()=>window.innerWidth>768);S.useEffect(()=>{!e||!d||w()},[e,d]),S.useEffect(()=>{if(!e||!d)return;const q=setTimeout(()=>{R()},5e3);return()=>clearTimeout(q)},[_,e,d]);const D=async()=>{const q=prompt("   :","Untitled");if(q){const ie=await h(q);ie&&f(ie.id)}},E=tS({authLoading:t,session:e,handleGoogleLogin:n});if(E)return E;if(Q){const q=c.find(ie=>ie.id===d);return x.jsx(rS,{blocks:_,setBlocks:v,onSave:R,onClose:()=>Y(!1),pageName:(q==null?void 0:q.name)||"ThinkMap"})}return x.jsxs("div",{className:`app ${ne?"sidebar-open":""}`,children:[x.jsx(iS,{isOpen:ne,onClose:()=>T(!1),projects:r,currentProjectId:i,onProjectSelect:l,onProjectCreate:s,onProjectRename:o,onProjectDelete:u,pages:c,currentPageId:d,onPageSelect:f,onPageCreate:D,onPageRename:m,onPageDelete:p,userEmail:(O=e==null?void 0:e.user)==null?void 0:O.email,userAvatarUrl:((M=(A=e==null?void 0:e.user)==null?void 0:A.user_metadata)==null?void 0:M.avatar_url)||((B=(z=e==null?void 0:e.user)==null?void 0:z.user_metadata)==null?void 0:B.picture),onLogout:a}),x.jsxs("div",{className:`container ${ne?"with-sidebar":""}`,children:[x.jsx(nS,{onToggleSidebar:()=>T(!ne),currentProjectId:i,currentProjectName:($=r.find(q=>q.id===i))==null?void 0:$.name,onProjectRename:o,sidebarOpen:ne}),x.jsx("div",{className:"content-scrollable",children:x.jsx(Fw,{blocks:_,setBlocks:v,focusedBlockId:g,setFocusedBlockId:y,currentPageId:d,currentPageName:(H=c.find(q=>q.id===d))==null?void 0:H.name,onPageRename:m,onShowHistory:()=>{N(),j(!0)},onOpenViewer:()=>Y(!0),onSaveHistoryOnBlur:L,onManualSaveHistory:G})}),x.jsx(eS,{showKeyThoughtsHistory:C,onClose:()=>j(!1),keyThoughtsHistory:b,onRestoreVersion:async q=>{await k(q),j(!1)}})]})]})}c_.createRoot(document.getElementById("root")).render(x.jsx(S.StrictMode,{children:x.jsx(V1,{})}));
