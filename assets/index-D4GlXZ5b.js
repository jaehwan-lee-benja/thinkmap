(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function gp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rg={exports:{}},Gs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=Symbol.for("react.transitional.element"),yp=Symbol.for("react.fragment");function ig(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:vp,type:e,key:a,ref:t!==void 0?t:null,props:n}}Gs.Fragment=yp;Gs.jsx=ig;Gs.jsxs=ig;rg.exports=Gs;var R=rg.exports,lg={exports:{}},Z={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=Symbol.for("react.transitional.element"),mp=Symbol.for("react.portal"),pp=Symbol.for("react.fragment"),bp=Symbol.for("react.strict_mode"),_p=Symbol.for("react.profiler"),wp=Symbol.for("react.consumer"),Sp=Symbol.for("react.context"),Ep=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),Ap=Symbol.for("react.memo"),sg=Symbol.for("react.lazy"),Op=Symbol.for("react.activity"),Vf=Symbol.iterator;function xp(e){return e===null||typeof e!="object"?null:(e=Vf&&e[Vf]||e["@@iterator"],typeof e=="function"?e:null)}var og={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ug=Object.assign,cg={};function Hr(e,t,n){this.props=e,this.context=t,this.refs=cg,this.updater=n||og}Hr.prototype.isReactComponent={};Hr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fg(){}fg.prototype=Hr.prototype;function Rc(e,t,n){this.props=e,this.context=t,this.refs=cg,this.updater=n||og}var Cc=Rc.prototype=new fg;Cc.constructor=Rc;ug(Cc,Hr.prototype);Cc.isPureReactComponent=!0;var Yf=Array.isArray;function yu(){}var be={H:null,A:null,T:null,S:null},dg=Object.prototype.hasOwnProperty;function Dc(e,t,n){var a=n.ref;return{$$typeof:xc,type:e,key:t,ref:a!==void 0?a:null,props:n}}function Rp(e,t){return Dc(e.type,t,e.props)}function jc(e){return typeof e=="object"&&e!==null&&e.$$typeof===xc}function Cp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xf=/\/+/g;function _o(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cp(""+e.key):t.toString(36)}function Dp(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(yu,yu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Fa(e,t,n,a,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case xc:case mp:l=!0;break;case sg:return l=e._init,Fa(l(e._payload),t,n,a,r)}}if(l)return r=r(e),l=a===""?"."+_o(e,0):a,Yf(r)?(n="",l!=null&&(n=l.replace(Xf,"$&/")+"/"),Fa(r,t,n,"",function(u){return u})):r!=null&&(jc(r)&&(r=Rp(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Xf,"$&/")+"/")+l)),t.push(r)),1;l=0;var s=a===""?".":a+":";if(Yf(e))for(var o=0;o<e.length;o++)a=e[o],i=s+_o(a,o),l+=Fa(a,t,n,i,r);else if(o=xp(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,i=s+_o(a,o++),l+=Fa(a,t,n,i,r);else if(i==="object"){if(typeof e.then=="function")return Fa(Dp(e),t,n,a,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function _l(e,t,n){if(e==null)return e;var a=[],r=0;return Fa(e,a,"","",function(i){return t.call(n,i,r++)}),a}function jp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var If=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Np={map:_l,forEach:function(e,t,n){_l(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _l(e,function(){t++}),t},toArray:function(e){return _l(e,function(t){return t})||[]},only:function(e){if(!jc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Activity=Op;Z.Children=Np;Z.Component=Hr;Z.Fragment=pp;Z.Profiler=_p;Z.PureComponent=Rc;Z.StrictMode=bp;Z.Suspense=Tp;Z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=be;Z.__COMPILER_RUNTIME={__proto__:null,c:function(e){return be.H.useMemoCache(e)}};Z.cache=function(e){return function(){return e.apply(null,arguments)}};Z.cacheSignal=function(){return null};Z.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=ug({},e.props),r=e.key;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)!dg.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+2];a.children=l}return Dc(e.type,r,a)};Z.createContext=function(e){return e={$$typeof:Sp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:wp,_context:e},e};Z.createElement=function(e,t,n){var a,r={},i=null;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)dg.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(r[a]=t[a]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var s=Array(l),o=0;o<l;o++)s[o]=arguments[o+2];r.children=s}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)r[a]===void 0&&(r[a]=l[a]);return Dc(e,i,r)};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Ep,render:e}};Z.isValidElement=jc;Z.lazy=function(e){return{$$typeof:sg,_payload:{_status:-1,_result:e},_init:jp}};Z.memo=function(e,t){return{$$typeof:Ap,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=be.T,n={};be.T=n;try{var a=e(),r=be.S;r!==null&&r(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(yu,If)}catch(i){If(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),be.T=t}};Z.unstable_useCacheRefresh=function(){return be.H.useCacheRefresh()};Z.use=function(e){return be.H.use(e)};Z.useActionState=function(e,t,n){return be.H.useActionState(e,t,n)};Z.useCallback=function(e,t){return be.H.useCallback(e,t)};Z.useContext=function(e){return be.H.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e,t){return be.H.useDeferredValue(e,t)};Z.useEffect=function(e,t){return be.H.useEffect(e,t)};Z.useEffectEvent=function(e){return be.H.useEffectEvent(e)};Z.useId=function(){return be.H.useId()};Z.useImperativeHandle=function(e,t,n){return be.H.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return be.H.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return be.H.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return be.H.useMemo(e,t)};Z.useOptimistic=function(e,t){return be.H.useOptimistic(e,t)};Z.useReducer=function(e,t,n){return be.H.useReducer(e,t,n)};Z.useRef=function(e){return be.H.useRef(e)};Z.useState=function(e){return be.H.useState(e)};Z.useSyncExternalStore=function(e,t,n){return be.H.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return be.H.useTransition()};Z.version="19.2.3";lg.exports=Z;var S=lg.exports;const pe=gp(S);var hg={exports:{}},Ks={},gg={exports:{}},vg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,j){var z=A.length;A.push(j);e:for(;0<z;){var x=z-1>>>1,N=A[x];if(0<r(N,j))A[x]=j,A[z]=N,z=x;else break e}}function n(A){return A.length===0?null:A[0]}function a(A){if(A.length===0)return null;var j=A[0],z=A.pop();if(z!==j){A[0]=z;e:for(var x=0,N=A.length,E=N>>>1;x<E;){var T=2*(x+1)-1,B=A[T],q=T+1,$=A[q];if(0>r(B,z))q<N&&0>r($,B)?(A[x]=$,A[q]=z,x=q):(A[x]=B,A[T]=z,x=T);else if(q<N&&0>r($,z))A[x]=$,A[q]=z,x=q;else break e}}return j}function r(A,j){var z=A.sortIndex-j.sortIndex;return z!==0?z:A.id-j.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var o=[],u=[],c=1,d=null,f=3,h=!1,m=!1,p=!1,_=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function b(A){for(var j=n(u);j!==null;){if(j.callback===null)a(u);else if(j.startTime<=A)a(u),j.sortIndex=j.expirationTime,t(o,j);else break;j=n(u)}}function C(A){if(p=!1,b(A),!m)if(n(o)!==null)m=!0,D||(D=!0,H());else{var j=n(u);j!==null&&ae(C,j.startTime-A)}}var D=!1,w=-1,O=5,U=-1;function k(){return _?!0:!(e.unstable_now()-U<O)}function L(){if(_=!1,D){var A=e.unstable_now();U=A;var j=!0;try{e:{m=!1,p&&(p=!1,v(w),w=-1),h=!0;var z=f;try{t:{for(b(A),d=n(o);d!==null&&!(d.expirationTime>A&&k());){var x=d.callback;if(typeof x=="function"){d.callback=null,f=d.priorityLevel;var N=x(d.expirationTime<=A);if(A=e.unstable_now(),typeof N=="function"){d.callback=N,b(A),j=!0;break t}d===n(o)&&a(o),b(A)}else a(o);d=n(o)}if(d!==null)j=!0;else{var E=n(u);E!==null&&ae(C,E.startTime-A),j=!1}}break e}finally{d=null,f=z,h=!1}j=void 0}}finally{j?H():D=!1}}}var H;if(typeof y=="function")H=function(){y(L)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Y=Q.port2;Q.port1.onmessage=L,H=function(){Y.postMessage(null)}}else H=function(){g(L,0)};function ae(A,j){w=g(function(){A(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var z=f;f=j;try{return A()}finally{f=z}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(A,j){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=f;f=A;try{return j()}finally{f=z}},e.unstable_scheduleCallback=function(A,j,z){var x=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?x+z:x):z=x,A){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=z+N,A={id:c++,callback:j,priorityLevel:A,startTime:z,expirationTime:N,sortIndex:-1},z>x?(A.sortIndex=z,t(u,A),n(o)===null&&A===n(u)&&(p?(v(w),w=-1):p=!0,ae(C,z-x))):(A.sortIndex=N,t(o,A),m||h||(m=!0,D||(D=!0,H()))),A},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(A){var j=f;return function(){var z=f;f=j;try{return A.apply(this,arguments)}finally{f=z}}}})(vg);gg.exports=vg;var Up=gg.exports,yg={exports:{}},rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp=S;function mg(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Bn(){}var at={d:{f:Bn,r:function(){throw Error(mg(522))},D:Bn,C:Bn,L:Bn,m:Bn,X:Bn,S:Bn,M:Bn},p:0,findDOMNode:null},Mp=Symbol.for("react.portal");function kp(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mp,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var vi=zp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Vs(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at;rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(mg(299));return kp(e,t,null,n)};rt.flushSync=function(e){var t=vi.T,n=at.p;try{if(vi.T=null,at.p=2,e)return e()}finally{vi.T=t,at.p=n,at.d.f()}};rt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,at.d.C(e,t))};rt.prefetchDNS=function(e){typeof e=="string"&&at.d.D(e)};rt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Vs(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?at.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:i}):n==="script"&&at.d.X(e,{crossOrigin:a,integrity:r,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};rt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Vs(t.as,t.crossOrigin);at.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&at.d.M(e)};rt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Vs(n,t.crossOrigin);at.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};rt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Vs(t.as,t.crossOrigin);at.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else at.d.m(e)};rt.requestFormReset=function(e){at.d.r(e)};rt.unstable_batchedUpdates=function(e,t){return e(t)};rt.useFormState=function(e,t,n){return vi.H.useFormState(e,t,n)};rt.useFormStatus=function(){return vi.H.useHostTransitionStatus()};rt.version="19.2.3";function pg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pg)}catch(e){console.error(e)}}pg(),yg.exports=rt;var ir=yg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qe=Up,bg=S,Bp=ir;function M(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sg(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jf(e){if(nl(e)!==e)throw Error(M(188))}function Lp(e){var t=e.alternate;if(!t){if(t=nl(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(a=r.return,a!==null){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Jf(r),e;if(i===a)return Jf(r),t;i=i.sibling}throw Error(M(188))}if(n.return!==a.return)n=r,a=i;else{for(var l=!1,s=r.child;s;){if(s===n){l=!0,n=r,a=i;break}if(s===a){l=!0,a=r,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,a=r;break}if(s===a){l=!0,a=i,n=r;break}s=s.sibling}if(!l)throw Error(M(189))}}if(n.alternate!==a)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Eg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Eg(e),t!==null)return t;e=e.sibling}return null}var _e=Object.assign,qp=Symbol.for("react.element"),wl=Symbol.for("react.transitional.element"),ui=Symbol.for("react.portal"),lr=Symbol.for("react.fragment"),Tg=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),Ag=Symbol.for("react.consumer"),_n=Symbol.for("react.context"),Nc=Symbol.for("react.forward_ref"),pu=Symbol.for("react.suspense"),bu=Symbol.for("react.suspense_list"),Uc=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),_u=Symbol.for("react.activity"),Hp=Symbol.for("react.memo_cache_sentinel"),Qf=Symbol.iterator;function ni(e){return e===null||typeof e!="object"?null:(e=Qf&&e[Qf]||e["@@iterator"],typeof e=="function"?e:null)}var $p=Symbol.for("react.client.reference");function wu(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===$p?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lr:return"Fragment";case mu:return"Profiler";case Tg:return"StrictMode";case pu:return"Suspense";case bu:return"SuspenseList";case _u:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ui:return"Portal";case _n:return e.displayName||"Context";case Ag:return(e._context.displayName||"Context")+".Consumer";case Nc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Uc:return t=e.displayName||null,t!==null?t:wu(e.type)||"Memo";case Ln:t=e._payload,e=e._init;try{return wu(e(t))}catch{}}return null}var ci=Array.isArray,J=bg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=Bp.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ta={pending:!1,data:null,method:null,action:null},Su=[],sr=-1;function un(e){return{current:e}}function Ke(e){0>sr||(e.current=Su[sr],Su[sr]=null,sr--)}function ve(e,t){sr++,Su[sr]=e.current,e.current=t}var on=un(null),zi=un(null),Wn=un(null),rs=un(null);function is(e,t){switch(ve(Wn,t),ve(zi,e),ve(on,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?th(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=th(t),e=Yy(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ke(on),ve(on,e)}function Rr(){Ke(on),Ke(zi),Ke(Wn)}function Eu(e){e.memoizedState!==null&&ve(rs,e);var t=on.current,n=Yy(t,e.type);t!==n&&(ve(zi,e),ve(on,n))}function ls(e){zi.current===e&&(Ke(on),Ke(zi)),rs.current===e&&(Ke(rs),Yi._currentValue=Ta)}var wo,Zf;function ya(e){if(wo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wo=t&&t[1]||"",Zf=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wo+e+Zf}var So=!1;function Eo(e,t){if(!e||So)return"";So=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(h){var f=h}Reflect.construct(e,[],d)}else{try{d.call()}catch(h){f=h}e.call(d.prototype)}}else{try{throw Error()}catch(h){f=h}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(h){if(h&&f&&typeof h.stack=="string")return[h.stack,f.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),l=i[0],s=i[1];if(l&&s){var o=l.split(`
`),u=s.split(`
`);for(r=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(a===o.length||r===u.length)for(a=o.length-1,r=u.length-1;1<=a&&0<=r&&o[a]!==u[r];)r--;for(;1<=a&&0<=r;a--,r--)if(o[a]!==u[r]){if(a!==1||r!==1)do if(a--,r--,0>r||o[a]!==u[r]){var c=`
`+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=r);break}}}finally{So=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ya(n):""}function Gp(e,t){switch(e.tag){case 26:case 27:case 5:return ya(e.type);case 16:return ya("Lazy");case 13:return e.child!==t&&t!==null?ya("Suspense Fallback"):ya("Suspense");case 19:return ya("SuspenseList");case 0:case 15:return Eo(e.type,!1);case 11:return Eo(e.type.render,!1);case 1:return Eo(e.type,!0);case 31:return ya("Activity");default:return""}}function Pf(e){try{var t="",n=null;do t+=Gp(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Tu=Object.prototype.hasOwnProperty,zc=qe.unstable_scheduleCallback,To=qe.unstable_cancelCallback,Kp=qe.unstable_shouldYield,Vp=qe.unstable_requestPaint,Ot=qe.unstable_now,Yp=qe.unstable_getCurrentPriorityLevel,Og=qe.unstable_ImmediatePriority,xg=qe.unstable_UserBlockingPriority,ss=qe.unstable_NormalPriority,Xp=qe.unstable_LowPriority,Rg=qe.unstable_IdlePriority,Ip=qe.log,Jp=qe.unstable_setDisableYieldValue,al=null,xt=null;function In(e){if(typeof Ip=="function"&&Jp(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(al,e)}catch{}}var Rt=Math.clz32?Math.clz32:Pp,Qp=Math.log,Zp=Math.LN2;function Pp(e){return e>>>=0,e===0?32:31-(Qp(e)/Zp|0)|0}var Sl=256,El=262144,Tl=4194304;function ma(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ys(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var s=a&134217727;return s!==0?(a=s&~i,a!==0?r=ma(a):(l&=s,l!==0?r=ma(l):n||(n=s&~e,n!==0&&(r=ma(n))))):(s=a&~i,s!==0?r=ma(s):l!==0?r=ma(l):n||(n=a&~e,n!==0&&(r=ma(n)))),r===0?0:t!==0&&t!==r&&!(t&i)&&(i=r&-r,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:r}function rl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Wp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cg(){var e=Tl;return Tl<<=1,!(Tl&62914560)&&(Tl=4194304),e}function Ao(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function il(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fp(e,t,n,a,r,i){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=l&~n;0<n;){var c=31-Rt(n),d=1<<c;s[c]=0,o[c]=-1;var f=u[c];if(f!==null)for(u[c]=null,c=0;c<f.length;c++){var h=f[c];h!==null&&(h.lane&=-536870913)}n&=~d}a!==0&&Dg(e,a,0),i!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=i&~(l&~t))}function Dg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Rt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function jg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Rt(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function Ng(e,t){var n=t&-t;return n=n&42?1:Mc(n),n&(e.suspendedLanes|t)?0:n}function Mc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function kc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ug(){var e=le.p;return e!==0?e:(e=window.event,e===void 0?32:nm(e.type))}function Wf(e,t){var n=le.p;try{return le.p=e,t()}finally{le.p=n}}var fa=Math.random().toString(36).slice(2),Je="__reactFiber$"+fa,dt="__reactProps$"+fa,$r="__reactContainer$"+fa,Au="__reactEvents$"+fa,e0="__reactListeners$"+fa,t0="__reactHandles$"+fa,Ff="__reactResources$"+fa,ll="__reactMarker$"+fa;function Bc(e){delete e[Je],delete e[dt],delete e[Au],delete e[e0],delete e[t0]}function or(e){var t=e[Je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$r]||n[Je]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lh(e);e!==null;){if(n=e[Je])return n;e=lh(e)}return t}e=n,n=e.parentNode}return null}function Gr(e){if(e=e[Je]||e[$r]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(M(33))}function br(e){var t=e[Ff];return t||(t=e[Ff]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[ll]=!0}var zg=new Set,Mg={};function Ma(e,t){Cr(e,t),Cr(e+"Capture",t)}function Cr(e,t){for(Mg[e]=t,e=0;e<t.length;e++)zg.add(t[e])}var n0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ed={},td={};function a0(e){return Tu.call(td,e)?!0:Tu.call(ed,e)?!1:n0.test(e)?td[e]=!0:(ed[e]=!0,!1)}function Gl(e,t,n){if(a0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Al(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function dn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function r0(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ou(e){if(!e._valueTracker){var t=kg(e)?"checked":"value";e._valueTracker=r0(e,t,""+e[t])}}function Bg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=kg(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var i0=/[\n"\\]/g;function $t(e){return e.replace(i0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function xu(e,t,n,a,r,i,l,s){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?Ru(e,l,Lt(t)):n!=null?Ru(e,l,Lt(n)):a!=null&&e.removeAttribute("value"),r==null&&i!=null&&(e.defaultChecked=!!i),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+Lt(s):e.removeAttribute("name")}function Lg(e,t,n,a,r,i,l,s){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Ou(e);return}n=n!=null?""+Lt(n):"",t=t!=null?""+Lt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=s?e.checked:!!a,e.defaultChecked=!!a,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),Ou(e)}function Ru(e,t,n){t==="number"&&os(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _r(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Lt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,a&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function qg(e,t,n){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Lt(n):""}function Hg(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(M(92));if(ci(a)){if(1<a.length)throw Error(M(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Lt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Ou(e)}function Dr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var l0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nd(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||l0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function $g(e,t,n){if(t!=null&&typeof t!="object")throw Error(M(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&nd(e,r,a)}else for(var i in t)t.hasOwnProperty(i)&&nd(e,i,t[i])}function Lc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),o0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kl(e){return o0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function wn(){}var Cu=null;function qc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ur=null,wr=null;function ad(e){var t=Gr(e);if(t&&(e=t.stateNode)){var n=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(xu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[dt]||null;if(!r)throw Error(M(90));xu(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Bg(a)}break e;case"textarea":qg(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&_r(e,!!n.multiple,t,!1)}}}var Oo=!1;function Gg(e,t,n){if(Oo)return e(t,n);Oo=!0;try{var a=e(t);return a}finally{if(Oo=!1,(ur!==null||wr!==null)&&(ao(),ur&&(t=ur,e=wr,wr=ur=null,ad(t),e)))for(t=0;t<e.length;t++)ad(e[t])}}function Mi(e,t){var n=e.stateNode;if(n===null)return null;var a=n[dt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Du=!1;if(On)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){Du=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{Du=!1}var Jn=null,Hc=null,Vl=null;function Kg(){if(Vl)return Vl;var e,t=Hc,n=t.length,a,r="value"in Jn?Jn.value:Jn.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(a=1;a<=l&&t[n-a]===r[i-a];a++);return Vl=r.slice(e,1<a?1-a:void 0)}function Yl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ol(){return!0}function rd(){return!1}function ht(e){function t(n,a,r,i,l){this._reactName=n,this._targetInst=r,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ol:rd,this.isPropagationStopped=rd,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),t}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=ht(ka),sl=_e({},ka,{view:0,detail:0}),u0=ht(sl),xo,Ro,ri,Is=_e({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(xo=e.screenX-ri.screenX,Ro=e.screenY-ri.screenY):Ro=xo=0,ri=e),xo)},movementY:function(e){return"movementY"in e?e.movementY:Ro}}),id=ht(Is),c0=_e({},Is,{dataTransfer:0}),f0=ht(c0),d0=_e({},sl,{relatedTarget:0}),Co=ht(d0),h0=_e({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),g0=ht(h0),v0=_e({},ka,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y0=ht(v0),m0=_e({},ka,{data:0}),ld=ht(m0),p0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_0[e])?!!t[e]:!1}function $c(){return w0}var S0=_e({},sl,{key:function(e){if(e.key){var t=p0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(e){return e.type==="keypress"?Yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E0=ht(S0),T0=_e({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sd=ht(T0),A0=_e({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),O0=ht(A0),x0=_e({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),R0=ht(x0),C0=_e({},Is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D0=ht(C0),j0=_e({},ka,{newState:0,oldState:0}),N0=ht(j0),U0=[9,13,27,32],Gc=On&&"CompositionEvent"in window,yi=null;On&&"documentMode"in document&&(yi=document.documentMode);var z0=On&&"TextEvent"in window&&!yi,Vg=On&&(!Gc||yi&&8<yi&&11>=yi),od=" ",ud=!1;function Yg(e,t){switch(e){case"keyup":return U0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cr=!1;function M0(e,t){switch(e){case"compositionend":return Xg(t);case"keypress":return t.which!==32?null:(ud=!0,od);case"textInput":return e=t.data,e===od&&ud?null:e;default:return null}}function k0(e,t){if(cr)return e==="compositionend"||!Gc&&Yg(e,t)?(e=Kg(),Vl=Hc=Jn=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vg&&t.locale!=="ko"?null:t.data;default:return null}}var B0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B0[e.type]:t==="textarea"}function Ig(e,t,n,a){ur?wr?wr.push(a):wr=[a]:ur=a,t=Os(t,"onChange"),0<t.length&&(n=new Xs("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var mi=null,ki=null;function L0(e){Gy(e,0)}function Js(e){var t=fi(e);if(Bg(t))return e}function fd(e,t){if(e==="change")return t}var Jg=!1;if(On){var Do;if(On){var jo="oninput"in document;if(!jo){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),jo=typeof dd.oninput=="function"}Do=jo}else Do=!1;Jg=Do&&(!document.documentMode||9<document.documentMode)}function hd(){mi&&(mi.detachEvent("onpropertychange",Qg),ki=mi=null)}function Qg(e){if(e.propertyName==="value"&&Js(ki)){var t=[];Ig(t,ki,e,qc(e)),Gg(L0,t)}}function q0(e,t,n){e==="focusin"?(hd(),mi=t,ki=n,mi.attachEvent("onpropertychange",Qg)):e==="focusout"&&hd()}function H0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Js(ki)}function $0(e,t){if(e==="click")return Js(t)}function G0(e,t){if(e==="input"||e==="change")return Js(t)}function K0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:K0;function Bi(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!Tu.call(t,r)||!Dt(e[r],t[r]))return!1}return!0}function gd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vd(e,t){var n=gd(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gd(n)}}function Zg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=os(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=os(e.document)}return t}function Kc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var V0=On&&"documentMode"in document&&11>=document.documentMode,fr=null,ju=null,pi=null,Nu=!1;function yd(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nu||fr==null||fr!==os(a)||(a=fr,"selectionStart"in a&&Kc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),pi&&Bi(pi,a)||(pi=a,a=Os(ju,"onSelect"),0<a.length&&(t=new Xs("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=fr)))}function ha(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},No={},Wg={};On&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function Ba(e){if(No[e])return No[e];if(!dr[e])return e;var t=dr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wg)return No[e]=t[n];return e}var Fg=Ba("animationend"),ev=Ba("animationiteration"),tv=Ba("animationstart"),Y0=Ba("transitionrun"),X0=Ba("transitionstart"),I0=Ba("transitioncancel"),nv=Ba("transitionend"),av=new Map,Uu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uu.push("scrollEnd");function en(e,t){av.set(e,t),Ma(t,[e])}var us=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kt=[],hr=0,Vc=0;function Qs(){for(var e=hr,t=Vc=hr=0;t<e;){var n=kt[t];kt[t++]=null;var a=kt[t];kt[t++]=null;var r=kt[t];kt[t++]=null;var i=kt[t];if(kt[t++]=null,a!==null&&r!==null){var l=a.pending;l===null?r.next=r:(r.next=l.next,l.next=r),a.pending=r}i!==0&&rv(n,r,i)}}function Zs(e,t,n,a){kt[hr++]=e,kt[hr++]=t,kt[hr++]=n,kt[hr++]=a,Vc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Yc(e,t,n,a){return Zs(e,t,n,a),cs(e)}function La(e,t){return Zs(e,null,null,t),cs(e)}function rv(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var r=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(r=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,r&&t!==null&&(r=31-Rt(n),e=i.hiddenUpdates,a=e[r],a===null?e[r]=[t]:a.push(t),t.lane=n|536870912),i):null}function cs(e){if(50<xi)throw xi=0,ec=null,Error(M(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gr={};function J0(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,a){return new J0(e,t,n,a)}function Xc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function En(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function iv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Xl(e,t,n,a,r,i){var l=0;if(a=e,typeof e=="function")Xc(e)&&(l=1);else if(typeof e=="string")l=Fb(e,n,on.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case _u:return e=St(31,n,t,r),e.elementType=_u,e.lanes=i,e;case lr:return Aa(n.children,r,i,t);case Tg:l=8,r|=24;break;case mu:return e=St(12,n,t,r|2),e.elementType=mu,e.lanes=i,e;case pu:return e=St(13,n,t,r),e.elementType=pu,e.lanes=i,e;case bu:return e=St(19,n,t,r),e.elementType=bu,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _n:l=10;break e;case Ag:l=9;break e;case Nc:l=11;break e;case Uc:l=14;break e;case Ln:l=16,a=null;break e}l=29,n=Error(M(130,e===null?"null":typeof e,"")),a=null}return t=St(l,n,t,r),t.elementType=e,t.type=a,t.lanes=i,t}function Aa(e,t,n,a){return e=St(7,e,a,t),e.lanes=n,e}function Uo(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function lv(e){var t=St(18,null,null,0);return t.stateNode=e,t}function zo(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var md=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var n=md.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Pf(t)},md.set(e,t),t)}return{value:e,source:t,stack:Pf(t)}}var vr=[],yr=0,fs=null,Li=0,qt=[],Ht=0,sa=null,rn=1,ln="";function pn(e,t){vr[yr++]=Li,vr[yr++]=fs,fs=e,Li=t}function sv(e,t,n){qt[Ht++]=rn,qt[Ht++]=ln,qt[Ht++]=sa,sa=e;var a=rn;e=ln;var r=32-Rt(a)-1;a&=~(1<<r),n+=1;var i=32-Rt(t)+r;if(30<i){var l=r-r%5;i=(a&(1<<l)-1).toString(32),a>>=l,r-=l,rn=1<<32-Rt(t)+r|n<<r|a,ln=i+e}else rn=1<<i|n<<r|a,ln=e}function Ic(e){e.return!==null&&(pn(e,1),sv(e,1,0))}function Jc(e){for(;e===fs;)fs=vr[--yr],vr[yr]=null,Li=vr[--yr],vr[yr]=null;for(;e===sa;)sa=qt[--Ht],qt[Ht]=null,ln=qt[--Ht],qt[Ht]=null,rn=qt[--Ht],qt[Ht]=null}function ov(e,t){qt[Ht++]=rn,qt[Ht++]=ln,qt[Ht++]=sa,rn=t.id,ln=t.overflow,sa=e}var Qe=null,me=null,ne=!1,Fn=null,Kt=!1,zu=Error(M(519));function oa(e){var t=Error(M(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qi(Gt(t,e)),zu}function pd(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Je]=e,t[dt]=a,n){case"dialog":W("cancel",t),W("close",t);break;case"iframe":case"object":case"embed":W("load",t);break;case"video":case"audio":for(n=0;n<Ki.length;n++)W(Ki[n],t);break;case"source":W("error",t);break;case"img":case"image":case"link":W("error",t),W("load",t);break;case"details":W("toggle",t);break;case"input":W("invalid",t),Lg(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":W("invalid",t);break;case"textarea":W("invalid",t),Hg(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Vy(t.textContent,n)?(a.popover!=null&&(W("beforetoggle",t),W("toggle",t)),a.onScroll!=null&&W("scroll",t),a.onScrollEnd!=null&&W("scrollend",t),a.onClick!=null&&(t.onclick=wn),t=!0):t=!1,t||oa(e,!0)}function bd(e){for(Qe=e.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:Qe=Qe.return}}function Va(e){if(e!==Qe)return!1;if(!ne)return bd(e),ne=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ic(e.type,e.memoizedProps)),n=!n),n&&me&&oa(e),bd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));me=ih(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));me=ih(e)}else t===27?(t=me,da(e.type)?(e=uc,uc=null,me=e):me=t):me=Qe?Yt(e.stateNode.nextSibling):null;return!0}function Ca(){me=Qe=null,ne=!1}function Mo(){var e=Fn;return e!==null&&(ct===null?ct=e:ct.push.apply(ct,e),Fn=null),e}function qi(e){Fn===null?Fn=[e]:Fn.push(e)}var Mu=un(null),qa=null,Sn=null;function Gn(e,t,n){ve(Mu,t._currentValue),t._currentValue=n}function Tn(e){e._currentValue=Mu.current,Ke(Mu)}function ku(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Bu(e,t,n,a){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null){var l=r.child;i=i.firstContext;e:for(;i!==null;){var s=i;i=r;for(var o=0;o<t.length;o++)if(s.context===t[o]){i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),ku(i.return,n,e),a||(l=null);break e}i=s.next}}else if(r.tag===18){if(l=r.return,l===null)throw Error(M(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),ku(l,n,e),l=null}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}}function Kr(e,t,n,a){e=null;for(var r=t,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var l=r.alternate;if(l===null)throw Error(M(387));if(l=l.memoizedProps,l!==null){var s=r.type;Dt(r.pendingProps.value,l.value)||(e!==null?e.push(s):e=[s])}}else if(r===rs.current){if(l=r.alternate,l===null)throw Error(M(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Yi):e=[Yi])}r=r.return}e!==null&&Bu(t,e,n,a),t.flags|=262144}function ds(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Da(e){qa=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return uv(qa,e)}function xl(e,t){return qa===null&&Da(e),uv(e,t)}function uv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Sn===null){if(e===null)throw Error(M(308));Sn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Sn=Sn.next=t;return n}var Q0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Z0=qe.unstable_scheduleCallback,P0=qe.unstable_NormalPriority,ze={$$typeof:_n,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qc(){return{controller:new Q0,data:new Map,refCount:0}}function ol(e){e.refCount--,e.refCount===0&&Z0(P0,function(){e.controller.abort()})}var bi=null,Lu=0,jr=0,Sr=null;function W0(e,t){if(bi===null){var n=bi=[];Lu=0,jr=wf(),Sr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Lu++,t.then(_d,_d),t}function _d(){if(--Lu===0&&bi!==null){Sr!==null&&(Sr.status="fulfilled");var e=bi;bi=null,jr=0,Sr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function F0(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(a.status="rejected",a.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),a}var wd=J.S;J.S=function(e,t){Ey=Ot(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&W0(e,t),wd!==null&&wd(e,t)};var Oa=un(null);function Zc(){var e=Oa.current;return e!==null?e:he.pooledCache}function Il(e,t){t===null?ve(Oa,Oa.current):ve(Oa,t.pool)}function cv(){var e=Zc();return e===null?null:{parent:ze._currentValue,pool:e}}var Vr=Error(M(460)),Pc=Error(M(474)),Ps=Error(M(542)),hs={then:function(){}};function Sd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(wn,wn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e;default:if(typeof t.status=="string")t.then(wn,wn);else{if(e=he,e!==null&&100<e.shellSuspendCounter)throw Error(M(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=a}},function(a){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e}throw xa=t,Vr}}function pa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(xa=n,Vr):n}}var xa=null;function Ed(){if(xa===null)throw Error(M(459));var e=xa;return xa=null,e}function Td(e){if(e===Vr||e===Ps)throw Error(M(483))}var Er=null,Hi=0;function Rl(e){var t=Hi;return Hi+=1,Er===null&&(Er=[]),fv(Er,e,t)}function ii(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Cl(e,t){throw t.$$typeof===qp?Error(M(525)):(e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function dv(e){function t(g,v){if(e){var y=g.deletions;y===null?(g.deletions=[v],g.flags|=16):y.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function a(g){for(var v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function r(g,v){return g=En(g,v),g.index=0,g.sibling=null,g}function i(g,v,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags|=67108866,v):y):(g.flags|=67108866,v)):(g.flags|=1048576,v)}function l(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function s(g,v,y,b){return v===null||v.tag!==6?(v=Uo(y,g.mode,b),v.return=g,v):(v=r(v,y),v.return=g,v)}function o(g,v,y,b){var C=y.type;return C===lr?c(g,v,y.props.children,b,y.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ln&&pa(C)===v.type)?(v=r(v,y.props),ii(v,y),v.return=g,v):(v=Xl(y.type,y.key,y.props,null,g.mode,b),ii(v,y),v.return=g,v)}function u(g,v,y,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=zo(y,g.mode,b),v.return=g,v):(v=r(v,y.children||[]),v.return=g,v)}function c(g,v,y,b,C){return v===null||v.tag!==7?(v=Aa(y,g.mode,b,C),v.return=g,v):(v=r(v,y),v.return=g,v)}function d(g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Uo(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wl:return y=Xl(v.type,v.key,v.props,null,g.mode,y),ii(y,v),y.return=g,y;case ui:return v=zo(v,g.mode,y),v.return=g,v;case Ln:return v=pa(v),d(g,v,y)}if(ci(v)||ni(v))return v=Aa(v,g.mode,y,null),v.return=g,v;if(typeof v.then=="function")return d(g,Rl(v),y);if(v.$$typeof===_n)return d(g,xl(g,v),y);Cl(g,v)}return null}function f(g,v,y,b){var C=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return C!==null?null:s(g,v,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wl:return y.key===C?o(g,v,y,b):null;case ui:return y.key===C?u(g,v,y,b):null;case Ln:return y=pa(y),f(g,v,y,b)}if(ci(y)||ni(y))return C!==null?null:c(g,v,y,b,null);if(typeof y.then=="function")return f(g,v,Rl(y),b);if(y.$$typeof===_n)return f(g,v,xl(g,y),b);Cl(g,y)}return null}function h(g,v,y,b,C){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return g=g.get(y)||null,s(v,g,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wl:return g=g.get(b.key===null?y:b.key)||null,o(v,g,b,C);case ui:return g=g.get(b.key===null?y:b.key)||null,u(v,g,b,C);case Ln:return b=pa(b),h(g,v,y,b,C)}if(ci(b)||ni(b))return g=g.get(y)||null,c(v,g,b,C,null);if(typeof b.then=="function")return h(g,v,y,Rl(b),C);if(b.$$typeof===_n)return h(g,v,y,xl(v,b),C);Cl(v,b)}return null}function m(g,v,y,b){for(var C=null,D=null,w=v,O=v=0,U=null;w!==null&&O<y.length;O++){w.index>O?(U=w,w=null):U=w.sibling;var k=f(g,w,y[O],b);if(k===null){w===null&&(w=U);break}e&&w&&k.alternate===null&&t(g,w),v=i(k,v,O),D===null?C=k:D.sibling=k,D=k,w=U}if(O===y.length)return n(g,w),ne&&pn(g,O),C;if(w===null){for(;O<y.length;O++)w=d(g,y[O],b),w!==null&&(v=i(w,v,O),D===null?C=w:D.sibling=w,D=w);return ne&&pn(g,O),C}for(w=a(w);O<y.length;O++)U=h(w,g,O,y[O],b),U!==null&&(e&&U.alternate!==null&&w.delete(U.key===null?O:U.key),v=i(U,v,O),D===null?C=U:D.sibling=U,D=U);return e&&w.forEach(function(L){return t(g,L)}),ne&&pn(g,O),C}function p(g,v,y,b){if(y==null)throw Error(M(151));for(var C=null,D=null,w=v,O=v=0,U=null,k=y.next();w!==null&&!k.done;O++,k=y.next()){w.index>O?(U=w,w=null):U=w.sibling;var L=f(g,w,k.value,b);if(L===null){w===null&&(w=U);break}e&&w&&L.alternate===null&&t(g,w),v=i(L,v,O),D===null?C=L:D.sibling=L,D=L,w=U}if(k.done)return n(g,w),ne&&pn(g,O),C;if(w===null){for(;!k.done;O++,k=y.next())k=d(g,k.value,b),k!==null&&(v=i(k,v,O),D===null?C=k:D.sibling=k,D=k);return ne&&pn(g,O),C}for(w=a(w);!k.done;O++,k=y.next())k=h(w,g,O,k.value,b),k!==null&&(e&&k.alternate!==null&&w.delete(k.key===null?O:k.key),v=i(k,v,O),D===null?C=k:D.sibling=k,D=k);return e&&w.forEach(function(H){return t(g,H)}),ne&&pn(g,O),C}function _(g,v,y,b){if(typeof y=="object"&&y!==null&&y.type===lr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case wl:e:{for(var C=y.key;v!==null;){if(v.key===C){if(C=y.type,C===lr){if(v.tag===7){n(g,v.sibling),b=r(v,y.props.children),b.return=g,g=b;break e}}else if(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ln&&pa(C)===v.type){n(g,v.sibling),b=r(v,y.props),ii(b,y),b.return=g,g=b;break e}n(g,v);break}else t(g,v);v=v.sibling}y.type===lr?(b=Aa(y.props.children,g.mode,b,y.key),b.return=g,g=b):(b=Xl(y.type,y.key,y.props,null,g.mode,b),ii(b,y),b.return=g,g=b)}return l(g);case ui:e:{for(C=y.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(g,v.sibling),b=r(v,y.children||[]),b.return=g,g=b;break e}else{n(g,v);break}else t(g,v);v=v.sibling}b=zo(y,g.mode,b),b.return=g,g=b}return l(g);case Ln:return y=pa(y),_(g,v,y,b)}if(ci(y))return m(g,v,y,b);if(ni(y)){if(C=ni(y),typeof C!="function")throw Error(M(150));return y=C.call(y),p(g,v,y,b)}if(typeof y.then=="function")return _(g,v,Rl(y),b);if(y.$$typeof===_n)return _(g,v,xl(g,y),b);Cl(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,v!==null&&v.tag===6?(n(g,v.sibling),b=r(v,y),b.return=g,g=b):(n(g,v),b=Uo(y,g.mode,b),b.return=g,g=b),l(g)):n(g,v)}return function(g,v,y,b){try{Hi=0;var C=_(g,v,y,b);return Er=null,C}catch(w){if(w===Vr||w===Ps)throw w;var D=St(29,w,null,g.mode);return D.lanes=b,D.return=g,D}finally{}}}var ja=dv(!0),hv=dv(!1),qn=!1;function Wc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ta(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ie&2){var r=a.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=cs(e),rv(e,null,n),t}return Zs(e,a,t,n),cs(e)}function _i(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,jg(e,n)}}function ko(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Hu=!1;function wi(){if(Hu){var e=Sr;if(e!==null)throw e}}function Si(e,t,n,a){Hu=!1;var r=e.updateQueue;qn=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,s=r.shared.pending;if(s!==null){r.shared.pending=null;var o=s,u=o.next;o.next=null,l===null?i=u:l.next=u,l=o;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==l&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=o))}if(i!==null){var d=r.baseState;l=0,c=u=o=null,s=i;do{var f=s.lane&-536870913,h=f!==s.lane;if(h?(ee&f)===f:(a&f)===f){f!==0&&f===jr&&(Hu=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,p=s;f=t;var _=n;switch(p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(_,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(_,d,f):m,f==null)break e;d=_e({},d,f);break e;case 2:qn=!0}}f=s.callback,f!==null&&(e.flags|=64,h&&(e.flags|=8192),h=r.callbacks,h===null?r.callbacks=[f]:h.push(f))}else h={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,o=d):c=c.next=h,l|=f;if(s=s.next,s===null){if(s=r.shared.pending,s===null)break;h=s,s=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);c===null&&(o=d),r.baseState=o,r.firstBaseUpdate=u,r.lastBaseUpdate=c,i===null&&(r.shared.lanes=0),ca|=l,e.lanes=l,e.memoizedState=d}}function gv(e,t){if(typeof e!="function")throw Error(M(191,e));e.call(t)}function vv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)gv(n[e],t)}var Nr=un(null),gs=un(0);function Ad(e,t){e=Dn,ve(gs,e),ve(Nr,t),Dn=e|t.baseLanes}function $u(){ve(gs,Dn),ve(Nr,Nr.current)}function Fc(){Dn=gs.current,Ke(Nr),Ke(gs)}var jt=un(null),Vt=null;function Kn(e){var t=e.alternate;ve(xe,xe.current&1),ve(jt,e),Vt===null&&(t===null||Nr.current!==null||t.memoizedState!==null)&&(Vt=e)}function Gu(e){ve(xe,xe.current),ve(jt,e),Vt===null&&(Vt=e)}function yv(e){e.tag===22?(ve(xe,xe.current),ve(jt,e),Vt===null&&(Vt=e)):Vn()}function Vn(){ve(xe,xe.current),ve(jt,jt.current)}function wt(e){Ke(jt),Vt===e&&(Vt=null),Ke(xe)}var xe=un(0);function vs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||sc(n)||oc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xn=0,P=null,fe=null,Ne=null,ys=!1,Tr=!1,Na=!1,ms=0,$i=0,Ar=null,eb=0;function Te(){throw Error(M(321))}function ef(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function tf(e,t,n,a,r,i){return xn=i,P=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,J.H=e===null||e.memoizedState===null?Iv:hf,Na=!1,i=n(a,r),Na=!1,Tr&&(i=pv(t,n,a,r)),mv(e),i}function mv(e){J.H=Gi;var t=fe!==null&&fe.next!==null;if(xn=0,Ne=fe=P=null,ys=!1,$i=0,Ar=null,t)throw Error(M(300));e===null||Me||(e=e.dependencies,e!==null&&ds(e)&&(Me=!0))}function pv(e,t,n,a){P=e;var r=0;do{if(Tr&&(Ar=null),$i=0,Tr=!1,25<=r)throw Error(M(301));if(r+=1,Ne=fe=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}J.H=Jv,i=t(n,a)}while(Tr);return i}function tb(){var e=J.H,t=e.useState()[0];return t=typeof t.then=="function"?ul(t):t,e=e.useState()[0],(fe!==null?fe.memoizedState:null)!==e&&(P.flags|=1024),t}function nf(){var e=ms!==0;return ms=0,e}function af(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function rf(e){if(ys){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ys=!1}xn=0,Ne=fe=P=null,Tr=!1,$i=ms=0,Ar=null}function nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?P.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function Re(){if(fe===null){var e=P.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=Ne===null?P.memoizedState:Ne.next;if(t!==null)Ne=t,fe=e;else{if(e===null)throw P.alternate===null?Error(M(467)):Error(M(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},Ne===null?P.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Ws(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(e){var t=$i;return $i+=1,Ar===null&&(Ar=[]),e=fv(Ar,e,t),t=P,(Ne===null?t.memoizedState:Ne.next)===null&&(t=t.alternate,J.H=t===null||t.memoizedState===null?Iv:hf),e}function Fs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ul(e);if(e.$$typeof===_n)return Ze(e)}throw Error(M(438,String(e)))}function lf(e){var t=null,n=P.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=P.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ws(),P.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Hp;return t.index++,n}function Rn(e,t){return typeof t=="function"?t(e):t}function Jl(e){var t=Re();return sf(t,fe,e)}function sf(e,t,n){var a=e.queue;if(a===null)throw Error(M(311));a.lastRenderedReducer=n;var r=e.baseQueue,i=a.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}t.baseQueue=r=i,a.pending=null}if(i=e.baseState,r===null)e.memoizedState=i;else{t=r.next;var s=l=null,o=null,u=t,c=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(ee&d)===d:(xn&d)===d){var f=u.revertLane;if(f===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===jr&&(c=!0);else if((xn&f)===f){u=u.next,f===jr&&(c=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(s=o=d,l=i):o=o.next=d,P.lanes|=f,ca|=f;d=u.action,Na&&n(i,d),i=u.hasEagerState?u.eagerState:n(i,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(s=o=f,l=i):o=o.next=f,P.lanes|=d,ca|=d;u=u.next}while(u!==null&&u!==t);if(o===null?l=i:o.next=s,!Dt(i,e.memoizedState)&&(Me=!0,c&&(n=Sr,n!==null)))throw n;e.memoizedState=i,e.baseState=l,e.baseQueue=o,a.lastRenderedState=i}return r===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Bo(e){var t=Re(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=e(i,l.action),l=l.next;while(l!==r);Dt(i,t.memoizedState)||(Me=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function bv(e,t,n){var a=P,r=Re(),i=ne;if(i){if(n===void 0)throw Error(M(407));n=n()}else n=t();var l=!Dt((fe||r).memoizedState,n);if(l&&(r.memoizedState=n,Me=!0),r=r.queue,of(Sv.bind(null,a,r,e),[e]),r.getSnapshot!==t||l||Ne!==null&&Ne.memoizedState.tag&1){if(a.flags|=2048,Ur(9,{destroy:void 0},wv.bind(null,a,r,n,t),null),he===null)throw Error(M(349));i||xn&127||_v(a,t,n)}return n}function _v(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=P.updateQueue,t===null?(t=Ws(),P.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wv(e,t,n,a){t.value=n,t.getSnapshot=a,Ev(t)&&Tv(e)}function Sv(e,t,n){return n(function(){Ev(t)&&Tv(e)})}function Ev(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function Tv(e){var t=La(e,2);t!==null&&ft(t,e,2)}function Ku(e){var t=nt();if(typeof e=="function"){var n=e;if(e=n(),Na){In(!0);try{n()}finally{In(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:e},t}function Av(e,t,n,a){return e.baseState=n,sf(e,fe,typeof a=="function"?a:Rn)}function nb(e,t,n,a,r){if(to(e))throw Error(M(485));if(e=t.action,e!==null){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){i.listeners.push(l)}};J.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,Ov(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Ov(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var i=J.T,l={};J.T=l;try{var s=n(r,a),o=J.S;o!==null&&o(l,s),Od(e,t,s)}catch(u){Vu(e,t,u)}finally{i!==null&&l.types!==null&&(i.types=l.types),J.T=i}}else try{i=n(r,a),Od(e,t,i)}catch(u){Vu(e,t,u)}}function Od(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){xd(e,t,a)},function(a){return Vu(e,t,a)}):xd(e,t,n)}function xd(e,t,n){t.status="fulfilled",t.value=n,xv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ov(e,n)))}function Vu(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,xv(t),t=t.next;while(t!==a)}e.action=null}function xv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rv(e,t){return t}function Rd(e,t){if(ne){var n=he.formState;if(n!==null){e:{var a=P;if(ne){if(me){t:{for(var r=me,i=Kt;r.nodeType!==8;){if(!i){r=null;break t}if(r=Yt(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){me=Yt(r.nextSibling),a=r.data==="F!";break e}}oa(a)}a=!1}a&&(t=n[0])}}return n=nt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rv,lastRenderedState:t},n.queue=a,n=Vv.bind(null,P,a),a.dispatch=n,a=Ku(!1),i=df.bind(null,P,!1,a.queue),a=nt(),r={state:t,dispatch:null,action:e,pending:null},a.queue=r,n=nb.bind(null,P,r,i,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function Cd(e){var t=Re();return Cv(t,fe,e)}function Cv(e,t,n){if(t=sf(e,t,Rv)[0],e=Jl(Rn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ul(t)}catch(l){throw l===Vr?Ps:l}else a=t;t=Re();var r=t.queue,i=r.dispatch;return n!==t.memoizedState&&(P.flags|=2048,Ur(9,{destroy:void 0},ab.bind(null,r,n),null)),[a,i,e]}function ab(e,t){e.action=t}function Dd(e){var t=Re(),n=fe;if(n!==null)return Cv(t,n,e);Re(),t=t.memoizedState,n=Re();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ur(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=P.updateQueue,t===null&&(t=Ws(),P.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Dv(){return Re().memoizedState}function Ql(e,t,n,a){var r=nt();P.flags|=e,r.memoizedState=Ur(1|t,{destroy:void 0},n,a===void 0?null:a)}function eo(e,t,n,a){var r=Re();a=a===void 0?null:a;var i=r.memoizedState.inst;fe!==null&&a!==null&&ef(a,fe.memoizedState.deps)?r.memoizedState=Ur(t,i,n,a):(P.flags|=e,r.memoizedState=Ur(1|t,i,n,a))}function jd(e,t){Ql(8390656,8,e,t)}function of(e,t){eo(2048,8,e,t)}function rb(e){P.flags|=4;var t=P.updateQueue;if(t===null)t=Ws(),P.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function jv(e){var t=Re().memoizedState;return rb({ref:t,nextImpl:e}),function(){if(ie&2)throw Error(M(440));return t.impl.apply(void 0,arguments)}}function Nv(e,t){return eo(4,2,e,t)}function Uv(e,t){return eo(4,4,e,t)}function zv(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mv(e,t,n){n=n!=null?n.concat([e]):null,eo(4,4,zv.bind(null,t,e),n)}function uf(){}function kv(e,t){var n=Re();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&ef(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Bv(e,t){var n=Re();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&ef(t,a[1]))return a[0];if(a=e(),Na){In(!0);try{e()}finally{In(!1)}}return n.memoizedState=[a,t],a}function cf(e,t,n){return n===void 0||xn&1073741824&&!(ee&261930)?e.memoizedState=t:(e.memoizedState=n,e=Ay(),P.lanes|=e,ca|=e,n)}function Lv(e,t,n,a){return Dt(n,t)?n:Nr.current!==null?(e=cf(e,n,a),Dt(e,t)||(Me=!0),e):!(xn&42)||xn&1073741824&&!(ee&261930)?(Me=!0,e.memoizedState=n):(e=Ay(),P.lanes|=e,ca|=e,t)}function qv(e,t,n,a,r){var i=le.p;le.p=i!==0&&8>i?i:8;var l=J.T,s={};J.T=s,df(e,!1,t,n);try{var o=r(),u=J.S;if(u!==null&&u(s,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=F0(o,a);Ei(e,t,c,Ct(e))}else Ei(e,t,a,Ct(e))}catch(d){Ei(e,t,{then:function(){},status:"rejected",reason:d},Ct())}finally{le.p=i,l!==null&&s.types!==null&&(l.types=s.types),J.T=l}}function ib(){}function Yu(e,t,n,a){if(e.tag!==5)throw Error(M(476));var r=Hv(e).queue;qv(e,r,t,Ta,n===null?ib:function(){return $v(e),n(a)})}function Hv(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ta,baseState:Ta,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:Ta},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function $v(e){var t=Hv(e);t.next===null&&(t=e.alternate.memoizedState),Ei(e,t.next.queue,{},Ct())}function ff(){return Ze(Yi)}function Gv(){return Re().memoizedState}function Kv(){return Re().memoizedState}function lb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ct();e=ea(n);var a=ta(t,e,n);a!==null&&(ft(a,t,n),_i(a,t,n)),t={cache:Qc()},e.payload=t;return}t=t.return}}function sb(e,t,n){var a=Ct();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},to(e)?Yv(t,n):(n=Yc(e,t,n,a),n!==null&&(ft(n,e,a),Xv(n,t,a)))}function Vv(e,t,n){var a=Ct();Ei(e,t,n,a)}function Ei(e,t,n,a){var r={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(to(e))Yv(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,s=i(l,n);if(r.hasEagerState=!0,r.eagerState=s,Dt(s,l))return Zs(e,t,r,0),he===null&&Qs(),!1}catch{}finally{}if(n=Yc(e,t,r,a),n!==null)return ft(n,e,a),Xv(n,t,a),!0}return!1}function df(e,t,n,a){if(a={lane:2,revertLane:wf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},to(e)){if(t)throw Error(M(479))}else t=Yc(e,n,a,2),t!==null&&ft(t,e,2)}function to(e){var t=e.alternate;return e===P||t!==null&&t===P}function Yv(e,t){Tr=ys=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xv(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,jg(e,n)}}var Gi={readContext:Ze,use:Fs,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};Gi.useEffectEvent=Te;var Iv={readContext:Ze,use:Fs,useCallback:function(e,t){return nt().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:jd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ql(4194308,4,zv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ql(4194308,4,e,t)},useInsertionEffect:function(e,t){Ql(4,2,e,t)},useMemo:function(e,t){var n=nt();t=t===void 0?null:t;var a=e();if(Na){In(!0);try{e()}finally{In(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=nt();if(n!==void 0){var r=n(t);if(Na){In(!0);try{n(t)}finally{In(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=sb.bind(null,P,e),[a.memoizedState,e]},useRef:function(e){var t=nt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ku(e);var t=e.queue,n=Vv.bind(null,P,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:uf,useDeferredValue:function(e,t){var n=nt();return cf(n,e,t)},useTransition:function(){var e=Ku(!1);return e=qv.bind(null,P,e.queue,!0,!1),nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=P,r=nt();if(ne){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),he===null)throw Error(M(349));ee&127||_v(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,jd(Sv.bind(null,a,i,e),[e]),a.flags|=2048,Ur(9,{destroy:void 0},wv.bind(null,a,i,n,t),null),n},useId:function(){var e=nt(),t=he.identifierPrefix;if(ne){var n=ln,a=rn;n=(a&~(1<<32-Rt(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ms++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=eb++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ff,useFormState:Rd,useActionState:Rd,useOptimistic:function(e){var t=nt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=df.bind(null,P,!0,n),n.dispatch=t,[e,t]},useMemoCache:lf,useCacheRefresh:function(){return nt().memoizedState=lb.bind(null,P)},useEffectEvent:function(e){var t=nt(),n={impl:e};return t.memoizedState=n,function(){if(ie&2)throw Error(M(440));return n.impl.apply(void 0,arguments)}}},hf={readContext:Ze,use:Fs,useCallback:kv,useContext:Ze,useEffect:of,useImperativeHandle:Mv,useInsertionEffect:Nv,useLayoutEffect:Uv,useMemo:Bv,useReducer:Jl,useRef:Dv,useState:function(){return Jl(Rn)},useDebugValue:uf,useDeferredValue:function(e,t){var n=Re();return Lv(n,fe.memoizedState,e,t)},useTransition:function(){var e=Jl(Rn)[0],t=Re().memoizedState;return[typeof e=="boolean"?e:ul(e),t]},useSyncExternalStore:bv,useId:Gv,useHostTransitionStatus:ff,useFormState:Cd,useActionState:Cd,useOptimistic:function(e,t){var n=Re();return Av(n,fe,e,t)},useMemoCache:lf,useCacheRefresh:Kv};hf.useEffectEvent=jv;var Jv={readContext:Ze,use:Fs,useCallback:kv,useContext:Ze,useEffect:of,useImperativeHandle:Mv,useInsertionEffect:Nv,useLayoutEffect:Uv,useMemo:Bv,useReducer:Bo,useRef:Dv,useState:function(){return Bo(Rn)},useDebugValue:uf,useDeferredValue:function(e,t){var n=Re();return fe===null?cf(n,e,t):Lv(n,fe.memoizedState,e,t)},useTransition:function(){var e=Bo(Rn)[0],t=Re().memoizedState;return[typeof e=="boolean"?e:ul(e),t]},useSyncExternalStore:bv,useId:Gv,useHostTransitionStatus:ff,useFormState:Dd,useActionState:Dd,useOptimistic:function(e,t){var n=Re();return fe!==null?Av(n,fe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:lf,useCacheRefresh:Kv};Jv.useEffectEvent=jv;function Lo(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:_e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xu={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Ct(),r=ea(a);r.payload=t,n!=null&&(r.callback=n),t=ta(e,r,a),t!==null&&(ft(t,e,a),_i(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Ct(),r=ea(a);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=ta(e,r,a),t!==null&&(ft(t,e,a),_i(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ct(),a=ea(n);a.tag=2,t!=null&&(a.callback=t),t=ta(e,a,n),t!==null&&(ft(t,e,n),_i(t,e,n))}};function Nd(e,t,n,a,r,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):t.prototype&&t.prototype.isPureReactComponent?!Bi(n,a)||!Bi(r,i):!0}function Ud(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Xu.enqueueReplaceState(t,t.state,null)}function Ua(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=_e({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function Qv(e){us(e)}function Zv(e){console.error(e)}function Pv(e){us(e)}function ps(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function zd(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Iu(e,t,n){return n=ea(n),n.tag=3,n.payload={element:null},n.callback=function(){ps(e,t)},n}function Wv(e){return e=ea(e),e.tag=3,e}function Fv(e,t,n,a){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=a.value;e.payload=function(){return r(i)},e.callback=function(){zd(t,n,a)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){zd(t,n,a),typeof r!="function"&&(na===null?na=new Set([this]):na.add(this));var s=a.stack;this.componentDidCatch(a.value,{componentStack:s!==null?s:""})})}function ob(e,t,n,a,r){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Kr(t,n,r,!0),n=jt.current,n!==null){switch(n.tag){case 31:case 13:return Vt===null?Es():n.alternate===null&&Oe===0&&(Oe=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===hs?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Qo(e,a,r)),!1;case 22:return n.flags|=65536,a===hs?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Qo(e,a,r)),!1}throw Error(M(435,n.tag))}return Qo(e,a,r),Es(),!1}if(ne)return t=jt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==zu&&(e=Error(M(422),{cause:a}),qi(Gt(e,n)))):(a!==zu&&(t=Error(M(423),{cause:a}),qi(Gt(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,a=Gt(a,n),r=Iu(e.stateNode,a,r),ko(e,r),Oe!==4&&(Oe=2)),!1;var i=Error(M(520),{cause:a});if(i=Gt(i,n),Oi===null?Oi=[i]:Oi.push(i),Oe!==4&&(Oe=2),t===null)return!0;a=Gt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Iu(n.stateNode,a,e),ko(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(na===null||!na.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Wv(r),Fv(r,e,n,a),ko(n,r),!1}n=n.return}while(n!==null);return!1}var gf=Error(M(461)),Me=!1;function Ie(e,t,n,a){t.child=e===null?hv(t,null,n,a):ja(t,e.child,n,a)}function Md(e,t,n,a,r){n=n.render;var i=t.ref;if("ref"in a){var l={};for(var s in a)s!=="ref"&&(l[s]=a[s])}else l=a;return Da(t),a=tf(e,t,n,l,i,r),s=nf(),e!==null&&!Me?(af(e,t,r),Cn(e,t,r)):(ne&&s&&Ic(t),t.flags|=1,Ie(e,t,a,r),t.child)}function kd(e,t,n,a,r){if(e===null){var i=n.type;return typeof i=="function"&&!Xc(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,ey(e,t,i,a,r)):(e=Xl(n.type,null,a,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!vf(e,r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bi,n(l,a)&&e.ref===t.ref)return Cn(e,t,r)}return t.flags|=1,e=En(i,a),e.ref=t.ref,e.return=t,t.child=e}function ey(e,t,n,a,r){if(e!==null){var i=e.memoizedProps;if(Bi(i,a)&&e.ref===t.ref)if(Me=!1,t.pendingProps=a=i,vf(e,r))e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,Cn(e,t,r)}return Ju(e,t,n,a,r)}function ty(e,t,n,a){var r=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,r=0;a!==null;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~i}else a=0,t.child=null;return Bd(e,t,i,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Il(t,i!==null?i.cachePool:null),i!==null?Ad(t,i):$u(),yv(t);else return a=t.lanes=536870912,Bd(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(Il(t,i.cachePool),Ad(t,i),Vn(),t.memoizedState=null):(e!==null&&Il(t,null),$u(),Vn());return Ie(e,t,r,n),t.child}function di(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bd(e,t,n,a,r){var i=Zc();return i=i===null?null:{parent:ze._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Il(t,null),$u(),yv(t),e!==null&&Kr(e,t,a,!0),t.childLanes=r,null}function Zl(e,t){return t=bs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ld(e,t,n){return ja(t,e.child,null,n),e=Zl(t,t.pendingProps),e.flags|=2,wt(t),t.memoizedState=null,e}function ub(e,t,n){var a=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ne){if(a.mode==="hidden")return e=Zl(t,a),t.lanes=536870912,di(null,e);if(Gu(t),(e=me)?(e=Iy(e,Kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sa!==null?{id:rn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},n=lv(e),n.return=t,t.child=n,Qe=t,me=null)):e=null,e===null)throw oa(t);return t.lanes=536870912,null}return Zl(t,a)}var i=e.memoizedState;if(i!==null){var l=i.dehydrated;if(Gu(t),r)if(t.flags&256)t.flags&=-257,t=Ld(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(M(558));else if(Me||Kr(e,t,n,!1),r=(n&e.childLanes)!==0,Me||r){if(a=he,a!==null&&(l=Ng(a,n),l!==0&&l!==i.retryLane))throw i.retryLane=l,La(e,l),ft(a,e,l),gf;Es(),t=Ld(e,t,n)}else e=i.treeContext,me=Yt(l.nextSibling),Qe=t,ne=!0,Fn=null,Kt=!1,e!==null&&ov(t,e),t=Zl(t,a),t.flags|=4096;return t}return e=En(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Pl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(M(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ju(e,t,n,a,r){return Da(t),n=tf(e,t,n,a,void 0,r),a=nf(),e!==null&&!Me?(af(e,t,r),Cn(e,t,r)):(ne&&a&&Ic(t),t.flags|=1,Ie(e,t,n,r),t.child)}function qd(e,t,n,a,r,i){return Da(t),t.updateQueue=null,n=pv(t,a,n,r),mv(e),a=nf(),e!==null&&!Me?(af(e,t,i),Cn(e,t,i)):(ne&&a&&Ic(t),t.flags|=1,Ie(e,t,n,i),t.child)}function Hd(e,t,n,a,r){if(Da(t),t.stateNode===null){var i=gr,l=n.contextType;typeof l=="object"&&l!==null&&(i=Ze(l)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Xu,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},Wc(t),l=n.contextType,i.context=typeof l=="object"&&l!==null?Ze(l):gr,i.state=t.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(Lo(t,n,l,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(l=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),l!==i.state&&Xu.enqueueReplaceState(i,i.state,null),Si(t,a,i,r),wi(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var s=t.memoizedProps,o=Ua(n,s);i.props=o;var u=i.context,c=n.contextType;l=gr,typeof c=="object"&&c!==null&&(l=Ze(c));var d=n.getDerivedStateFromProps;c=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,c||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s||u!==l)&&Ud(t,i,a,l),qn=!1;var f=t.memoizedState;i.state=f,Si(t,a,i,r),wi(),u=t.memoizedState,s||f!==u||qn?(typeof d=="function"&&(Lo(t,n,d,a),u=t.memoizedState),(o=qn||Nd(t,n,o,a,f,u,l))?(c||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),i.props=a,i.state=u,i.context=l,a=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,qu(e,t),l=t.memoizedProps,c=Ua(n,l),i.props=c,d=t.pendingProps,f=i.context,u=n.contextType,o=gr,typeof u=="object"&&u!==null&&(o=Ze(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||f!==o)&&Ud(t,i,a,o),qn=!1,f=t.memoizedState,i.state=f,Si(t,a,i,r),wi();var h=t.memoizedState;l!==d||f!==h||qn||e!==null&&e.dependencies!==null&&ds(e.dependencies)?(typeof s=="function"&&(Lo(t,n,s,a),h=t.memoizedState),(c=qn||Nd(t,n,c,a,f,h,o)||e!==null&&e.dependencies!==null&&ds(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,h,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,h,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),i.props=a,i.state=h,i.context=o,a=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Pl(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=ja(t,e.child,null,r),t.child=ja(t,null,n,r)):Ie(e,t,n,r),t.memoizedState=i.state,e=t.child):e=Cn(e,t,r),e}function $d(e,t,n,a){return Ca(),t.flags|=256,Ie(e,t,n,a),t.child}var qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ho(e){return{baseLanes:e,cachePool:cv()}}function $o(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=At),e}function ny(e,t,n){var a=t.pendingProps,r=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(xe.current&2)!==0),l&&(r=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(ne){if(r?Kn(t):Vn(),(e=me)?(e=Iy(e,Kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sa!==null?{id:rn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},n=lv(e),n.return=t,t.child=n,Qe=t,me=null)):e=null,e===null)throw oa(t);return oc(e)?t.lanes=32:t.lanes=536870912,null}var s=a.children;return a=a.fallback,r?(Vn(),r=t.mode,s=bs({mode:"hidden",children:s},r),a=Aa(a,r,n,null),s.return=t,a.return=t,s.sibling=a,t.child=s,a=t.child,a.memoizedState=Ho(n),a.childLanes=$o(e,l,n),t.memoizedState=qo,di(null,a)):(Kn(t),Qu(t,s))}var o=e.memoizedState;if(o!==null&&(s=o.dehydrated,s!==null)){if(i)t.flags&256?(Kn(t),t.flags&=-257,t=Go(e,t,n)):t.memoizedState!==null?(Vn(),t.child=e.child,t.flags|=128,t=null):(Vn(),s=a.fallback,r=t.mode,a=bs({mode:"visible",children:a.children},r),s=Aa(s,r,n,null),s.flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,ja(t,e.child,null,n),a=t.child,a.memoizedState=Ho(n),a.childLanes=$o(e,l,n),t.memoizedState=qo,t=di(null,a));else if(Kn(t),oc(s)){if(l=s.nextSibling&&s.nextSibling.dataset,l)var u=l.dgst;l=u,a=Error(M(419)),a.stack="",a.digest=l,qi({value:a,source:null,stack:null}),t=Go(e,t,n)}else if(Me||Kr(e,t,n,!1),l=(n&e.childLanes)!==0,Me||l){if(l=he,l!==null&&(a=Ng(l,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,La(e,a),ft(l,e,a),gf;sc(s)||Es(),t=Go(e,t,n)}else sc(s)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,me=Yt(s.nextSibling),Qe=t,ne=!0,Fn=null,Kt=!1,e!==null&&ov(t,e),t=Qu(t,a.children),t.flags|=4096);return t}return r?(Vn(),s=a.fallback,r=t.mode,o=e.child,u=o.sibling,a=En(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,u!==null?s=En(u,s):(s=Aa(s,r,n,null),s.flags|=2),s.return=t,a.return=t,a.sibling=s,t.child=a,di(null,a),a=t.child,s=e.child.memoizedState,s===null?s=Ho(n):(r=s.cachePool,r!==null?(o=ze._currentValue,r=r.parent!==o?{parent:o,pool:o}:r):r=cv(),s={baseLanes:s.baseLanes|n,cachePool:r}),a.memoizedState=s,a.childLanes=$o(e,l,n),t.memoizedState=qo,di(e.child,a)):(Kn(t),n=e.child,e=n.sibling,n=En(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=n,t.memoizedState=null,n)}function Qu(e,t){return t=bs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function bs(e,t){return e=St(22,e,null,t),e.lanes=0,e}function Go(e,t,n){return ja(t,e.child,null,n),e=Qu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gd(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ku(e.return,t,n)}function Ko(e,t,n,a,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=n,l.tailMode=r,l.treeForkCount=i)}function ay(e,t,n){var a=t.pendingProps,r=a.revealOrder,i=a.tail;a=a.children;var l=xe.current,s=(l&2)!==0;if(s?(l=l&1|2,t.flags|=128):l&=1,ve(xe,l),Ie(e,t,a,n),a=ne?Li:0,!s&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gd(e,n,t);else if(e.tag===19)Gd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&vs(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ko(t,!1,r,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&vs(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ko(t,!0,n,null,i,a);break;case"together":Ko(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ca|=t.lanes,!(n&t.childLanes))if(e!==null){if(Kr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=En(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=En(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ds(e)))}function cb(e,t,n){switch(t.tag){case 3:is(t,t.stateNode.containerInfo),Gn(t,ze,e.memoizedState.cache),Ca();break;case 27:case 5:Eu(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:Gn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Kn(t),t.flags|=128,null):n&t.child.childLanes?ny(e,t,n):(Kn(t),e=Cn(e,t,n),e!==null?e.sibling:null);Kn(t);break;case 19:var r=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Kr(e,t,n,!1),a=(n&t.childLanes)!==0),r){if(a)return ay(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ve(xe,xe.current),a)break;return null;case 22:return t.lanes=0,ty(e,t,n,t.pendingProps);case 24:Gn(t,ze,e.memoizedState.cache)}return Cn(e,t,n)}function ry(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Me=!0;else{if(!vf(e,n)&&!(t.flags&128))return Me=!1,cb(e,t,n);Me=!!(e.flags&131072)}else Me=!1,ne&&t.flags&1048576&&sv(t,Li,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=pa(t.elementType),t.type=e,typeof e=="function")Xc(e)?(a=Ua(e,a),t.tag=1,t=Hd(null,t,e,a,n)):(t.tag=0,t=Ju(null,t,e,a,n));else{if(e!=null){var r=e.$$typeof;if(r===Nc){t.tag=11,t=Md(null,t,e,a,n);break e}else if(r===Uc){t.tag=14,t=kd(null,t,e,a,n);break e}}throw t=wu(e)||e,Error(M(306,t,""))}}return t;case 0:return Ju(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,r=Ua(a,t.pendingProps),Hd(e,t,a,r,n);case 3:e:{if(is(t,t.stateNode.containerInfo),e===null)throw Error(M(387));a=t.pendingProps;var i=t.memoizedState;r=i.element,qu(e,t),Si(t,a,null,n);var l=t.memoizedState;if(a=l.cache,Gn(t,ze,a),a!==i.cache&&Bu(t,[ze],n,!0),wi(),a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=$d(e,t,a,n);break e}else if(a!==r){r=Gt(Error(M(424)),t),qi(r),t=$d(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=Yt(e.firstChild),Qe=t,ne=!0,Fn=null,Kt=!0,n=hv(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ca(),a===r){t=Cn(e,t,n);break e}Ie(e,t,a,n)}t=t.child}return t;case 26:return Pl(e,t),e===null?(n=oh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ne||(n=t.type,e=t.pendingProps,a=xs(Wn.current).createElement(n),a[Je]=t,a[dt]=e,Pe(a,n,e),Ge(a),t.stateNode=a):t.memoizedState=oh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Eu(t),e===null&&ne&&(a=t.stateNode=Jy(t.type,t.pendingProps,Wn.current),Qe=t,Kt=!0,r=me,da(t.type)?(uc=r,me=Yt(a.firstChild)):me=r),Ie(e,t,t.pendingProps.children,n),Pl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ne&&((r=a=me)&&(a=Hb(a,t.type,t.pendingProps,Kt),a!==null?(t.stateNode=a,Qe=t,me=Yt(a.firstChild),Kt=!1,r=!0):r=!1),r||oa(t)),Eu(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,a=i.children,ic(r,i)?a=null:l!==null&&ic(r,l)&&(t.flags|=32),t.memoizedState!==null&&(r=tf(e,t,tb,null,null,n),Yi._currentValue=r),Pl(e,t),Ie(e,t,a,n),t.child;case 6:return e===null&&ne&&((e=n=me)&&(n=$b(n,t.pendingProps,Kt),n!==null?(t.stateNode=n,Qe=t,me=null,e=!0):e=!1),e||oa(t)),null;case 13:return ny(e,t,n);case 4:return is(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ja(t,null,a,n):Ie(e,t,a,n),t.child;case 11:return Md(e,t,t.type,t.pendingProps,n);case 7:return Ie(e,t,t.pendingProps,n),t.child;case 8:return Ie(e,t,t.pendingProps.children,n),t.child;case 12:return Ie(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Gn(t,t.type,a.value),Ie(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Da(t),r=Ze(r),a=a(r),t.flags|=1,Ie(e,t,a,n),t.child;case 14:return kd(e,t,t.type,t.pendingProps,n);case 15:return ey(e,t,t.type,t.pendingProps,n);case 19:return ay(e,t,n);case 31:return ub(e,t,n);case 22:return ty(e,t,n,t.pendingProps);case 24:return Da(t),a=Ze(ze),e===null?(r=Zc(),r===null&&(r=he,i=Qc(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),t.memoizedState={parent:a,cache:r},Wc(t),Gn(t,ze,r)):(e.lanes&n&&(qu(e,t),Si(t,null,null,n),wi()),r=e.memoizedState,i=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Gn(t,ze,a)):(a=i.cache,Gn(t,ze,a),a!==r.cache&&Bu(t,[ze],n,!0))),Ie(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(M(156,t.tag))}function hn(e){e.flags|=4}function Vo(e,t,n,a,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw xa=hs,Pc}else e.flags&=-16777217}function Kd(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Py(t))if(Ry())e.flags|=8192;else throw xa=hs,Pc}function Dl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Cg():536870912,e.lanes|=t,zr|=t)}function li(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function fb(e,t,n){var a=t.pendingProps;switch(Jc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(t),null;case 1:return ye(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Tn(ze),Rr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Va(t)?hn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mo())),ye(t),null;case 26:var r=t.type,i=t.memoizedState;return e===null?(hn(t),i!==null?(ye(t),Kd(t,i)):(ye(t),Vo(t,r,null,a,n))):i?i!==e.memoizedState?(hn(t),ye(t),Kd(t,i)):(ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&hn(t),ye(t),Vo(t,r,e,a,n)),null;case 27:if(ls(t),n=Wn.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&hn(t);else{if(!a){if(t.stateNode===null)throw Error(M(166));return ye(t),null}e=on.current,Va(t)?pd(t):(e=Jy(r,a,n),t.stateNode=e,hn(t))}return ye(t),null;case 5:if(ls(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&hn(t);else{if(!a){if(t.stateNode===null)throw Error(M(166));return ye(t),null}if(i=on.current,Va(t))pd(t);else{var l=xs(Wn.current);switch(i){case 1:i=l.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=l.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=l.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?l.createElement(r,{is:a.is}):l.createElement(r)}}i[Je]=t,i[dt]=a;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=i;e:switch(Pe(i,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&hn(t)}}return ye(t),Vo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&hn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(M(166));if(e=Wn.current,Va(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,r=Qe,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}e[Je]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Vy(e.nodeValue,n)),e||oa(t,!0)}else e=xs(e).createTextNode(a),e[Je]=t,t.stateNode=e}return ye(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Va(t),n!==null){if(e===null){if(!a)throw Error(M(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(557));e[Je]=t}else Ca(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ye(t),e=!1}else n=Mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(wt(t),t):(wt(t),null);if(t.flags&128)throw Error(M(558))}return ye(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Va(t),a!==null&&a.dehydrated!==null){if(e===null){if(!r)throw Error(M(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(M(317));r[Je]=t}else Ca(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ye(t),r=!1}else r=Mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(wt(t),t):(wt(t),null)}return wt(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==r&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Dl(t,t.updateQueue),ye(t),null);case 4:return Rr(),e===null&&Sf(t.stateNode.containerInfo),ye(t),null;case 10:return Tn(t.type),ye(t),null;case 19:if(Ke(xe),a=t.memoizedState,a===null)return ye(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)li(a,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=vs(e),i!==null){for(t.flags|=128,li(a,!1),e=i.updateQueue,t.updateQueue=e,Dl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)iv(n,e),n=n.sibling;return ve(xe,xe.current&1|2),ne&&pn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Ot()>ws&&(t.flags|=128,r=!0,li(a,!1),t.lanes=4194304)}else{if(!r)if(e=vs(i),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Dl(t,e),li(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ne)return ye(t),null}else 2*Ot()-a.renderingStartTime>ws&&n!==536870912&&(t.flags|=128,r=!0,li(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ot(),e.sibling=null,n=xe.current,ve(xe,r?n&1|2:n&1),ne&&pn(t,a.treeForkCount),e):(ye(t),null);case 22:case 23:return wt(t),Fc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(ye(t),t.subtreeFlags&6&&(t.flags|=8192)):ye(t),n=t.updateQueue,n!==null&&Dl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Ke(Oa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Tn(ze),ye(t),null;case 25:return null;case 30:return null}throw Error(M(156,t.tag))}function db(e,t){switch(Jc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(ze),Rr(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ls(t),null;case 31:if(t.memoizedState!==null){if(wt(t),t.alternate===null)throw Error(M(340));Ca()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(wt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Ca()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(xe),null;case 4:return Rr(),null;case 10:return Tn(t.type),null;case 22:case 23:return wt(t),Fc(),e!==null&&Ke(Oa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Tn(ze),null;case 25:return null;default:return null}}function iy(e,t){switch(Jc(t),t.tag){case 3:Tn(ze),Rr();break;case 26:case 27:case 5:ls(t);break;case 4:Rr();break;case 31:t.memoizedState!==null&&wt(t);break;case 13:wt(t);break;case 19:Ke(xe);break;case 10:Tn(t.type);break;case 22:case 23:wt(t),Fc(),e!==null&&Ke(Oa);break;case 24:Tn(ze)}}function cl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var i=n.create,l=n.inst;a=i(),l.destroy=a}n=n.next}while(n!==r)}}catch(s){oe(t,t.return,s)}}function ua(e,t,n){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var i=r.next;a=i;do{if((a.tag&e)===e){var l=a.inst,s=l.destroy;if(s!==void 0){l.destroy=void 0,r=t;var o=n,u=s;try{u()}catch(c){oe(r,o,c)}}}a=a.next}while(a!==i)}}catch(c){oe(t,t.return,c)}}function ly(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{vv(t,n)}catch(a){oe(e,e.return,a)}}}function sy(e,t,n){n.props=Ua(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){oe(e,t,a)}}function Ti(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(r){oe(e,t,r)}}function sn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(r){oe(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){oe(e,t,r)}else n.current=null}function oy(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){oe(e,e.return,r)}}function Yo(e,t,n){try{var a=e.stateNode;zb(a,e.type,n,t),a[dt]=t}catch(r){oe(e,e.return,r)}}function uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&da(e.type)||e.tag===4}function Xo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&da(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wn));else if(a!==4&&(a===27&&da(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Zu(e,t,n),e=e.sibling;e!==null;)Zu(e,t,n),e=e.sibling}function _s(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&da(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(_s(e,t,n),e=e.sibling;e!==null;)_s(e,t,n),e=e.sibling}function cy(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Pe(t,a,n),t[Je]=e,t[dt]=n}catch(i){oe(e,e.return,i)}}var bn=!1,Ue=!1,Io=!1,Vd=typeof WeakSet=="function"?WeakSet:Set,He=null;function hb(e,t){if(e=e.containerInfo,ac=js,e=Pg(e),Kc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,s=-1,o=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||r!==0&&d.nodeType!==3||(s=l+r),d!==i||a!==0&&d.nodeType!==3||(o=l+a),d.nodeType===3&&(l+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===r&&(s=l),f===i&&++c===a&&(o=l),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=s===-1||o===-1?null:{start:s,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(rc={focusedElem:e,selectionRange:n},js=!1,He=t;He!==null;)if(t=He,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,He=e;else for(;He!==null;){switch(t=He,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,r=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var m=Ua(n.type,r);e=a.getSnapshotBeforeUpdate(m,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(p){oe(n,n.return,p)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)lc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(M(163))}if(e=t.sibling,e!==null){e.return=t.return,He=e;break}He=t.return}}function fy(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:vn(e,n),a&4&&cl(5,n);break;case 1:if(vn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(l){oe(n,n.return,l)}else{var r=Ua(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){oe(n,n.return,l)}}a&64&&ly(n),a&512&&Ti(n,n.return);break;case 3:if(vn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{vv(e,t)}catch(l){oe(n,n.return,l)}}break;case 27:t===null&&a&4&&cy(n);case 26:case 5:vn(e,n),t===null&&a&4&&oy(n),a&512&&Ti(n,n.return);break;case 12:vn(e,n);break;case 31:vn(e,n),a&4&&gy(e,n);break;case 13:vn(e,n),a&4&&vy(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Sb.bind(null,n),Gb(e,n))));break;case 22:if(a=n.memoizedState!==null||bn,!a){t=t!==null&&t.memoizedState!==null||Ue,r=bn;var i=Ue;bn=a,(Ue=t)&&!i?yn(e,n,(n.subtreeFlags&8772)!==0):vn(e,n),bn=r,Ue=i}break;case 30:break;default:vn(e,n)}}function dy(e){var t=e.alternate;t!==null&&(e.alternate=null,dy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Bc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Se=null,ut=!1;function gn(e,t,n){for(n=n.child;n!==null;)hy(e,t,n),n=n.sibling}function hy(e,t,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(al,n)}catch{}switch(n.tag){case 26:Ue||sn(n,t),gn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ue||sn(n,t);var a=Se,r=ut;da(n.type)&&(Se=n.stateNode,ut=!1),gn(e,t,n),Ri(n.stateNode),Se=a,ut=r;break;case 5:Ue||sn(n,t);case 6:if(a=Se,r=ut,Se=null,gn(e,t,n),Se=a,ut=r,Se!==null)if(ut)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(n.stateNode)}catch(i){oe(n,t,i)}else try{Se.removeChild(n.stateNode)}catch(i){oe(n,t,i)}break;case 18:Se!==null&&(ut?(e=Se,ah(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Lr(e)):ah(Se,n.stateNode));break;case 4:a=Se,r=ut,Se=n.stateNode.containerInfo,ut=!0,gn(e,t,n),Se=a,ut=r;break;case 0:case 11:case 14:case 15:ua(2,n,t),Ue||ua(4,n,t),gn(e,t,n);break;case 1:Ue||(sn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&sy(n,t,a)),gn(e,t,n);break;case 21:gn(e,t,n);break;case 22:Ue=(a=Ue)||n.memoizedState!==null,gn(e,t,n),Ue=a;break;default:gn(e,t,n)}}function gy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Lr(e)}catch(n){oe(t,t.return,n)}}}function vy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Lr(e)}catch(n){oe(t,t.return,n)}}function gb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Vd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Vd),t;default:throw Error(M(435,e.tag))}}function jl(e,t){var n=gb(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var r=Eb.bind(null,e,a);a.then(r,r)}})}function st(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var r=n[a],i=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 27:if(da(s.type)){Se=s.stateNode,ut=!1;break e}break;case 5:Se=s.stateNode,ut=!1;break e;case 3:case 4:Se=s.stateNode.containerInfo,ut=!0;break e}s=s.return}if(Se===null)throw Error(M(160));hy(i,l,r),Se=null,ut=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)yy(t,e),t=t.sibling}var Zt=null;function yy(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:st(t,e),ot(e),a&4&&(ua(3,e,e.return),cl(3,e),ua(5,e,e.return));break;case 1:st(t,e),ot(e),a&512&&(Ue||n===null||sn(n,n.return)),a&64&&bn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var r=Zt;if(st(t,e),ot(e),a&512&&(Ue||n===null||sn(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":i=r.getElementsByTagName("title")[0],(!i||i[ll]||i[Je]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(a),r.head.insertBefore(i,r.querySelector("head > title"))),Pe(i,a,n),i[Je]=e,Ge(i),a=i;break e;case"link":var l=ch("link","href",r).get(a+(n.href||""));if(l){for(var s=0;s<l.length;s++)if(i=l[s],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(s,1);break t}}i=r.createElement(a),Pe(i,a,n),r.head.appendChild(i);break;case"meta":if(l=ch("meta","content",r).get(a+(n.content||""))){for(s=0;s<l.length;s++)if(i=l[s],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(s,1);break t}}i=r.createElement(a),Pe(i,a,n),r.head.appendChild(i);break;default:throw Error(M(468,a))}i[Je]=e,Ge(i),a=i}e.stateNode=a}else fh(r,e.type,e.stateNode);else e.stateNode=uh(r,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?fh(r,e.type,e.stateNode):uh(r,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Yo(e,e.memoizedProps,n.memoizedProps)}break;case 27:st(t,e),ot(e),a&512&&(Ue||n===null||sn(n,n.return)),n!==null&&a&4&&Yo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(st(t,e),ot(e),a&512&&(Ue||n===null||sn(n,n.return)),e.flags&32){r=e.stateNode;try{Dr(r,"")}catch(m){oe(e,e.return,m)}}a&4&&e.stateNode!=null&&(r=e.memoizedProps,Yo(e,r,n!==null?n.memoizedProps:r)),a&1024&&(Io=!0);break;case 6:if(st(t,e),ot(e),a&4){if(e.stateNode===null)throw Error(M(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(m){oe(e,e.return,m)}}break;case 3:if(es=null,r=Zt,Zt=Rs(t.containerInfo),st(t,e),Zt=r,ot(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Lr(t.containerInfo)}catch(m){oe(e,e.return,m)}Io&&(Io=!1,my(e));break;case 4:a=Zt,Zt=Rs(e.stateNode.containerInfo),st(t,e),ot(e),Zt=a;break;case 12:st(t,e),ot(e);break;case 31:st(t,e),ot(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,jl(e,a)));break;case 13:st(t,e),ot(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(no=Ot()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,jl(e,a)));break;case 22:r=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=bn,c=Ue;if(bn=u||r,Ue=c||o,st(t,e),Ue=c,bn=u,ot(e),a&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||o||bn||Ue||ba(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(i=o.stateNode,r)l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{s=o.stateNode;var d=o.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;s.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(m){oe(o,o.return,m)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=r?"":o.memoizedProps}catch(m){oe(o,o.return,m)}}}else if(t.tag===18){if(n===null){o=t;try{var h=o.stateNode;r?rh(h,!0):rh(o.stateNode,!1)}catch(m){oe(o,o.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,jl(e,n))));break;case 19:st(t,e),ot(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,jl(e,a)));break;case 30:break;case 21:break;default:st(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(uy(a)){n=a;break}a=a.return}if(n==null)throw Error(M(160));switch(n.tag){case 27:var r=n.stateNode,i=Xo(e);_s(e,i,r);break;case 5:var l=n.stateNode;n.flags&32&&(Dr(l,""),n.flags&=-33);var s=Xo(e);_s(e,s,l);break;case 3:case 4:var o=n.stateNode.containerInfo,u=Xo(e);Zu(e,u,o);break;default:throw Error(M(161))}}catch(c){oe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;my(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)fy(e,t.alternate,t),t=t.sibling}function ba(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ua(4,t,t.return),ba(t);break;case 1:sn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&sy(t,t.return,n),ba(t);break;case 27:Ri(t.stateNode);case 26:case 5:sn(t,t.return),ba(t);break;case 22:t.memoizedState===null&&ba(t);break;case 30:ba(t);break;default:ba(t)}e=e.sibling}}function yn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,r=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:yn(r,i,n),cl(4,i);break;case 1:if(yn(r,i,n),a=i,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){oe(a,a.return,u)}if(a=i,r=a.updateQueue,r!==null){var s=a.stateNode;try{var o=r.shared.hiddenCallbacks;if(o!==null)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)gv(o[r],s)}catch(u){oe(a,a.return,u)}}n&&l&64&&ly(i),Ti(i,i.return);break;case 27:cy(i);case 26:case 5:yn(r,i,n),n&&a===null&&l&4&&oy(i),Ti(i,i.return);break;case 12:yn(r,i,n);break;case 31:yn(r,i,n),n&&l&4&&gy(r,i);break;case 13:yn(r,i,n),n&&l&4&&vy(r,i);break;case 22:i.memoizedState===null&&yn(r,i,n),Ti(i,i.return);break;case 30:break;default:yn(r,i,n)}t=t.sibling}}function yf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ol(n))}function mf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ol(e))}function It(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)py(e,t,n,a),t=t.sibling}function py(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,n,a),r&2048&&cl(9,t);break;case 1:It(e,t,n,a);break;case 3:It(e,t,n,a),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ol(e)));break;case 12:if(r&2048){It(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,s=i.onPostCommit;typeof s=="function"&&s(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){oe(t,t.return,o)}}else It(e,t,n,a);break;case 31:It(e,t,n,a);break;case 13:It(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,t.memoizedState!==null?i._visibility&2?It(e,t,n,a):Ai(e,t):i._visibility&2?It(e,t,n,a):(i._visibility|=2,er(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),r&2048&&yf(l,t);break;case 24:It(e,t,n,a),r&2048&&mf(t.alternate,t);break;default:It(e,t,n,a)}}function er(e,t,n,a,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,l=t,s=n,o=a,u=l.flags;switch(l.tag){case 0:case 11:case 15:er(i,l,s,o,r),cl(8,l);break;case 23:break;case 22:var c=l.stateNode;l.memoizedState!==null?c._visibility&2?er(i,l,s,o,r):Ai(i,l):(c._visibility|=2,er(i,l,s,o,r)),r&&u&2048&&yf(l.alternate,l);break;case 24:er(i,l,s,o,r),r&&u&2048&&mf(l.alternate,l);break;default:er(i,l,s,o,r)}t=t.sibling}}function Ai(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:Ai(n,a),r&2048&&yf(a.alternate,a);break;case 24:Ai(n,a),r&2048&&mf(a.alternate,a);break;default:Ai(n,a)}t=t.sibling}}var hi=8192;function Ya(e,t,n){if(e.subtreeFlags&hi)for(e=e.child;e!==null;)by(e,t,n),e=e.sibling}function by(e,t,n){switch(e.tag){case 26:Ya(e,t,n),e.flags&hi&&e.memoizedState!==null&&e_(n,Zt,e.memoizedState,e.memoizedProps);break;case 5:Ya(e,t,n);break;case 3:case 4:var a=Zt;Zt=Rs(e.stateNode.containerInfo),Ya(e,t,n),Zt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=hi,hi=16777216,Ya(e,t,n),hi=a):Ya(e,t,n));break;default:Ya(e,t,n)}}function _y(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function si(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];He=a,Sy(a,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wy(e),e=e.sibling}function wy(e){switch(e.tag){case 0:case 11:case 15:si(e),e.flags&2048&&ua(9,e,e.return);break;case 3:si(e);break;case 12:si(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Wl(e)):si(e);break;default:si(e)}}function Wl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];He=a,Sy(a,e)}_y(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ua(8,t,t.return),Wl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Wl(t));break;default:Wl(t)}e=e.sibling}}function Sy(e,t){for(;He!==null;){var n=He;switch(n.tag){case 0:case 11:case 15:ua(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ol(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,He=a;else e:for(n=e;He!==null;){a=He;var r=a.sibling,i=a.return;if(dy(a),a===n){He=null;break e}if(r!==null){r.return=i,He=r;break e}He=i}}}var vb={getCacheForType:function(e){var t=Ze(ze),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ze(ze).controller.signal}},yb=typeof WeakMap=="function"?WeakMap:Map,ie=0,he=null,F=null,ee=0,se=0,_t=null,Qn=!1,Yr=!1,pf=!1,Dn=0,Oe=0,ca=0,Ra=0,bf=0,At=0,zr=0,Oi=null,ct=null,Pu=!1,no=0,Ey=0,ws=1/0,Ss=null,na=null,Le=0,aa=null,Mr=null,An=0,Wu=0,Fu=null,Ty=null,xi=0,ec=null;function Ct(){return ie&2&&ee!==0?ee&-ee:J.T!==null?wf():Ug()}function Ay(){if(At===0)if(!(ee&536870912)||ne){var e=El;El<<=1,!(El&3932160)&&(El=262144),At=e}else At=536870912;return e=jt.current,e!==null&&(e.flags|=32),At}function ft(e,t,n){(e===he&&(se===2||se===9)||e.cancelPendingCommit!==null)&&(kr(e,0),Zn(e,ee,At,!1)),il(e,n),(!(ie&2)||e!==he)&&(e===he&&(!(ie&2)&&(Ra|=n),Oe===4&&Zn(e,ee,At,!1)),cn(e))}function Oy(e,t,n){if(ie&6)throw Error(M(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||rl(e,t),r=a?bb(e,t):Jo(e,t,!0),i=a;do{if(r===0){Yr&&!a&&Zn(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!mb(n)){r=Jo(e,t,!1),i=!1;continue}if(r===2){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var s=e;r=Oi;var o=s.current.memoizedState.isDehydrated;if(o&&(kr(s,l).flags|=256),l=Jo(s,l,!1),l!==2){if(pf&&!o){s.errorRecoveryDisabledLanes|=i,Ra|=i,r=4;break e}i=ct,ct=r,i!==null&&(ct===null?ct=i:ct.push.apply(ct,i))}r=l}if(i=!1,r!==2)continue}}if(r===1){kr(e,0),Zn(e,t,0,!0);break}e:{switch(a=e,i=r,i){case 0:case 1:throw Error(M(345));case 4:if((t&4194048)!==t)break;case 6:Zn(a,t,At,!Qn);break e;case 2:ct=null;break;case 3:case 5:break;default:throw Error(M(329))}if((t&62914560)===t&&(r=no+300-Ot(),10<r)){if(Zn(a,t,At,!Qn),Ys(a,0,!0)!==0)break e;An=t,a.timeoutHandle=Xy(Yd.bind(null,a,n,ct,Ss,Pu,t,At,Ra,zr,Qn,i,"Throttled",-0,0),r);break e}Yd(a,n,ct,Ss,Pu,t,At,Ra,zr,Qn,i,null,-0,0)}}break}while(!0);cn(e)}function Yd(e,t,n,a,r,i,l,s,o,u,c,d,f,h){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},by(t,i,d);var m=(i&62914560)===i?no-Ot():(i&4194048)===i?Ey-Ot():0;if(m=t_(d,m),m!==null){An=i,e.cancelPendingCommit=m(Id.bind(null,e,t,i,n,a,r,l,s,o,c,d,null,f,h)),Zn(e,i,l,!u);return}}Id(e,t,i,n,a,r,l,s,o)}function mb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var r=n[a],i=r.getSnapshot;r=r.value;try{if(!Dt(i(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t,n,a){t&=~bf,t&=~Ra,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var i=31-Rt(r),l=1<<i;a[i]=-1,r&=~l}n!==0&&Dg(e,n,t)}function ao(){return ie&6?!0:(fl(0),!1)}function _f(){if(F!==null){if(se===0)var e=F.return;else e=F,Sn=qa=null,rf(e),Er=null,Hi=0,e=F;for(;e!==null;)iy(e.alternate,e),e=e.return;F=null}}function kr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Bb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),An=0,_f(),he=e,F=n=En(e.current,null),ee=t,se=0,_t=null,Qn=!1,Yr=rl(e,t),pf=!1,zr=At=bf=Ra=ca=Oe=0,ct=Oi=null,Pu=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var r=31-Rt(a),i=1<<r;t|=e[r],a&=~i}return Dn=t,Qs(),n}function xy(e,t){P=null,J.H=Gi,t===Vr||t===Ps?(t=Ed(),se=3):t===Pc?(t=Ed(),se=4):se=t===gf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_t=t,F===null&&(Oe=1,ps(e,Gt(t,e.current)))}function Ry(){var e=jt.current;return e===null?!0:(ee&4194048)===ee?Vt===null:(ee&62914560)===ee||ee&536870912?e===Vt:!1}function Cy(){var e=J.H;return J.H=Gi,e===null?Gi:e}function Dy(){var e=J.A;return J.A=vb,e}function Es(){Oe=4,Qn||(ee&4194048)!==ee&&jt.current!==null||(Yr=!0),!(ca&134217727)&&!(Ra&134217727)||he===null||Zn(he,ee,At,!1)}function Jo(e,t,n){var a=ie;ie|=2;var r=Cy(),i=Dy();(he!==e||ee!==t)&&(Ss=null,kr(e,t)),t=!1;var l=Oe;e:do try{if(se!==0&&F!==null){var s=F,o=_t;switch(se){case 8:_f(),l=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(t=!0);var u=se;if(se=0,_t=null,mr(e,s,o,u),n&&Yr){l=0;break e}break;default:u=se,se=0,_t=null,mr(e,s,o,u)}}pb(),l=Oe;break}catch(c){xy(e,c)}while(!0);return t&&e.shellSuspendCounter++,Sn=qa=null,ie=a,J.H=r,J.A=i,F===null&&(he=null,ee=0,Qs()),l}function pb(){for(;F!==null;)jy(F)}function bb(e,t){var n=ie;ie|=2;var a=Cy(),r=Dy();he!==e||ee!==t?(Ss=null,ws=Ot()+500,kr(e,t)):Yr=rl(e,t);e:do try{if(se!==0&&F!==null){t=F;var i=_t;t:switch(se){case 1:se=0,_t=null,mr(e,t,i,1);break;case 2:case 9:if(Sd(i)){se=0,_t=null,Xd(t);break}t=function(){se!==2&&se!==9||he!==e||(se=7),cn(e)},i.then(t,t);break e;case 3:se=7;break e;case 4:se=5;break e;case 7:Sd(i)?(se=0,_t=null,Xd(t)):(se=0,_t=null,mr(e,t,i,7));break;case 5:var l=null;switch(F.tag){case 26:l=F.memoizedState;case 5:case 27:var s=F;if(l?Py(l):s.stateNode.complete){se=0,_t=null;var o=s.sibling;if(o!==null)F=o;else{var u=s.return;u!==null?(F=u,ro(u)):F=null}break t}}se=0,_t=null,mr(e,t,i,5);break;case 6:se=0,_t=null,mr(e,t,i,6);break;case 8:_f(),Oe=6;break e;default:throw Error(M(462))}}_b();break}catch(c){xy(e,c)}while(!0);return Sn=qa=null,J.H=a,J.A=r,ie=n,F!==null?0:(he=null,ee=0,Qs(),Oe)}function _b(){for(;F!==null&&!Kp();)jy(F)}function jy(e){var t=ry(e.alternate,e,Dn);e.memoizedProps=e.pendingProps,t===null?ro(e):F=t}function Xd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qd(n,t,t.pendingProps,t.type,void 0,ee);break;case 11:t=qd(n,t,t.pendingProps,t.type.render,t.ref,ee);break;case 5:rf(t);default:iy(n,t),t=F=iv(t,Dn),t=ry(n,t,Dn)}e.memoizedProps=e.pendingProps,t===null?ro(e):F=t}function mr(e,t,n,a){Sn=qa=null,rf(t),Er=null,Hi=0;var r=t.return;try{if(ob(e,r,t,n,ee)){Oe=1,ps(e,Gt(n,e.current)),F=null;return}}catch(i){if(r!==null)throw F=r,i;Oe=1,ps(e,Gt(n,e.current)),F=null;return}t.flags&32768?(ne||a===1?e=!0:Yr||ee&536870912?e=!1:(Qn=e=!0,(a===2||a===9||a===3||a===6)&&(a=jt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Ny(t,e)):ro(t)}function ro(e){var t=e;do{if(t.flags&32768){Ny(t,Qn);return}e=t.return;var n=fb(t.alternate,t,Dn);if(n!==null){F=n;return}if(t=t.sibling,t!==null){F=t;return}F=t=e}while(t!==null);Oe===0&&(Oe=5)}function Ny(e,t){do{var n=db(e.alternate,e);if(n!==null){n.flags&=32767,F=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){F=e;return}F=e=n}while(e!==null);Oe=6,F=null}function Id(e,t,n,a,r,i,l,s,o){e.cancelPendingCommit=null;do io();while(Le!==0);if(ie&6)throw Error(M(327));if(t!==null){if(t===e.current)throw Error(M(177));if(i=t.lanes|t.childLanes,i|=Vc,Fp(e,n,i,l,s,o),e===he&&(F=he=null,ee=0),Mr=t,aa=e,An=n,Wu=i,Fu=r,Ty=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Tb(ss,function(){return By(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=J.T,J.T=null,r=le.p,le.p=2,l=ie,ie|=4;try{hb(e,t,n)}finally{ie=l,le.p=r,J.T=a}}Le=1,Uy(),zy(),My()}}function Uy(){if(Le===1){Le=0;var e=aa,t=Mr,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=J.T,J.T=null;var a=le.p;le.p=2;var r=ie;ie|=4;try{yy(t,e);var i=rc,l=Pg(e.containerInfo),s=i.focusedElem,o=i.selectionRange;if(l!==s&&s&&s.ownerDocument&&Zg(s.ownerDocument.documentElement,s)){if(o!==null&&Kc(s)){var u=o.start,c=o.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var h=f.getSelection(),m=s.textContent.length,p=Math.min(o.start,m),_=o.end===void 0?p:Math.min(o.end,m);!h.extend&&p>_&&(l=_,_=p,p=l);var g=vd(s,p),v=vd(s,_);if(g&&v&&(h.rangeCount!==1||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var y=d.createRange();y.setStart(g.node,g.offset),h.removeAllRanges(),p>_?(h.addRange(y),h.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),h.addRange(y))}}}}for(d=[],h=s;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}js=!!ac,rc=ac=null}finally{ie=r,le.p=a,J.T=n}}e.current=t,Le=2}}function zy(){if(Le===2){Le=0;var e=aa,t=Mr,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=J.T,J.T=null;var a=le.p;le.p=2;var r=ie;ie|=4;try{fy(e,t.alternate,t)}finally{ie=r,le.p=a,J.T=n}}Le=3}}function My(){if(Le===4||Le===3){Le=0,Vp();var e=aa,t=Mr,n=An,a=Ty;t.subtreeFlags&10256||t.flags&10256?Le=5:(Le=0,Mr=aa=null,ky(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(na=null),kc(n),t=t.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(al,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=J.T,r=le.p,le.p=2,J.T=null;try{for(var i=e.onRecoverableError,l=0;l<a.length;l++){var s=a[l];i(s.value,{componentStack:s.stack})}}finally{J.T=t,le.p=r}}An&3&&io(),cn(e),r=e.pendingLanes,n&261930&&r&42?e===ec?xi++:(xi=0,ec=e):xi=0,fl(0)}}function ky(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ol(t)))}function io(){return Uy(),zy(),My(),By()}function By(){if(Le!==5)return!1;var e=aa,t=Wu;Wu=0;var n=kc(An),a=J.T,r=le.p;try{le.p=32>n?32:n,J.T=null,n=Fu,Fu=null;var i=aa,l=An;if(Le=0,Mr=aa=null,An=0,ie&6)throw Error(M(331));var s=ie;if(ie|=4,wy(i.current),py(i,i.current,l,n),ie=s,fl(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(al,i)}catch{}return!0}finally{le.p=r,J.T=a,ky(e,t)}}function Jd(e,t,n){t=Gt(n,t),t=Iu(e.stateNode,t,2),e=ta(e,t,2),e!==null&&(il(e,2),cn(e))}function oe(e,t,n){if(e.tag===3)Jd(e,e,n);else for(;t!==null;){if(t.tag===3){Jd(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(na===null||!na.has(a))){e=Gt(n,e),n=Wv(2),a=ta(t,n,2),a!==null&&(Fv(n,a,t,e),il(a,2),cn(a));break}}t=t.return}}function Qo(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new yb;var r=new Set;a.set(t,r)}else r=a.get(t),r===void 0&&(r=new Set,a.set(t,r));r.has(n)||(pf=!0,r.add(n),e=wb.bind(null,e,t,n),t.then(e,e))}function wb(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,he===e&&(ee&n)===n&&(Oe===4||Oe===3&&(ee&62914560)===ee&&300>Ot()-no?!(ie&2)&&kr(e,0):bf|=n,zr===ee&&(zr=0)),cn(e)}function Ly(e,t){t===0&&(t=Cg()),e=La(e,t),e!==null&&(il(e,t),cn(e))}function Sb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ly(e,n)}function Eb(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(M(314))}a!==null&&a.delete(t),Ly(e,n)}function Tb(e,t){return zc(e,t)}var Ts=null,tr=null,tc=!1,As=!1,Zo=!1,Pn=0;function cn(e){e!==tr&&e.next===null&&(tr===null?Ts=tr=e:tr=tr.next=e),As=!0,tc||(tc=!0,Ob())}function fl(e,t){if(!Zo&&As){Zo=!0;do for(var n=!1,a=Ts;a!==null;){if(e!==0){var r=a.pendingLanes;if(r===0)var i=0;else{var l=a.suspendedLanes,s=a.pingedLanes;i=(1<<31-Rt(42|e)+1)-1,i&=r&~(l&~s),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Qd(a,i))}else i=ee,i=Ys(a,a===he?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||rl(a,i)||(n=!0,Qd(a,i));a=a.next}while(n);Zo=!1}}function Ab(){qy()}function qy(){As=tc=!1;var e=0;Pn!==0&&kb()&&(e=Pn);for(var t=Ot(),n=null,a=Ts;a!==null;){var r=a.next,i=Hy(a,t);i===0?(a.next=null,n===null?Ts=r:n.next=r,r===null&&(tr=n)):(n=a,(e!==0||i&3)&&(As=!0)),a=r}Le!==0&&Le!==5||fl(e),Pn!==0&&(Pn=0)}function Hy(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var l=31-Rt(i),s=1<<l,o=r[l];o===-1?(!(s&n)||s&a)&&(r[l]=Wp(s,t)):o<=t&&(e.expiredLanes|=s),i&=~s}if(t=he,n=ee,n=Ys(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(se===2||se===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&To(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||rl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&To(a),kc(n)){case 2:case 8:n=xg;break;case 32:n=ss;break;case 268435456:n=Rg;break;default:n=ss}return a=$y.bind(null,e),n=zc(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&To(a),e.callbackPriority=2,e.callbackNode=null,2}function $y(e,t){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(io()&&e.callbackNode!==n)return null;var a=ee;return a=Ys(e,e===he?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Oy(e,a,t),Hy(e,Ot()),e.callbackNode!=null&&e.callbackNode===n?$y.bind(null,e):null)}function Qd(e,t){if(io())return null;Oy(e,t,!0)}function Ob(){Lb(function(){ie&6?zc(Og,Ab):qy()})}function wf(){if(Pn===0){var e=jr;e===0&&(e=Sl,Sl<<=1,!(Sl&261888)&&(Sl=256)),Pn=e}return Pn}function Zd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Kl(""+e)}function Pd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function xb(e,t,n,a,r){if(t==="submit"&&n&&n.stateNode===r){var i=Zd((r[dt]||null).action),l=a.submitter;l&&(t=(t=l[dt]||null)?Zd(t.formAction):l.getAttribute("formAction"),t!==null&&(i=t,l=null));var s=new Xs("action","action",null,a,r);e.push({event:s,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Pn!==0){var o=l?Pd(r,l):new FormData(r);Yu(n,{pending:!0,data:o,method:r.method,action:i},null,o)}}else typeof i=="function"&&(s.preventDefault(),o=l?Pd(r,l):new FormData(r),Yu(n,{pending:!0,data:o,method:r.method,action:i},i,o))},currentTarget:r}]})}}for(var Po=0;Po<Uu.length;Po++){var Wo=Uu[Po],Rb=Wo.toLowerCase(),Cb=Wo[0].toUpperCase()+Wo.slice(1);en(Rb,"on"+Cb)}en(Fg,"onAnimationEnd");en(ev,"onAnimationIteration");en(tv,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(Y0,"onTransitionRun");en(X0,"onTransitionStart");en(I0,"onTransitionCancel");en(nv,"onTransitionEnd");Cr("onMouseEnter",["mouseout","mouseover"]);Cr("onMouseLeave",["mouseout","mouseover"]);Cr("onPointerEnter",["pointerout","pointerover"]);Cr("onPointerLeave",["pointerout","pointerover"]);Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ki));function Gy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var l=a.length-1;0<=l;l--){var s=a[l],o=s.instance,u=s.currentTarget;if(s=s.listener,o!==i&&r.isPropagationStopped())break e;i=s,r.currentTarget=u;try{i(r)}catch(c){us(c)}r.currentTarget=null,i=o}else for(l=0;l<a.length;l++){if(s=a[l],o=s.instance,u=s.currentTarget,s=s.listener,o!==i&&r.isPropagationStopped())break e;i=s,r.currentTarget=u;try{i(r)}catch(c){us(c)}r.currentTarget=null,i=o}}}}function W(e,t){var n=t[Au];n===void 0&&(n=t[Au]=new Set);var a=e+"__bubble";n.has(a)||(Ky(t,e,2,!1),n.add(a))}function Fo(e,t,n){var a=0;t&&(a|=4),Ky(n,e,a,t)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function Sf(e){if(!e[Nl]){e[Nl]=!0,zg.forEach(function(n){n!=="selectionchange"&&(Db.has(n)||Fo(n,!1,e),Fo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nl]||(t[Nl]=!0,Fo("selectionchange",!1,t))}}function Ky(e,t,n,a){switch(nm(t)){case 2:var r=r_;break;case 8:r=i_;break;default:r=Of}n=r.bind(null,t,n,e),r=void 0,!Du||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),a?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function eu(e,t,n,a,r){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var s=a.stateNode.containerInfo;if(s===r)break;if(l===4)for(l=a.return;l!==null;){var o=l.tag;if((o===3||o===4)&&l.stateNode.containerInfo===r)return;l=l.return}for(;s!==null;){if(l=or(s),l===null)return;if(o=l.tag,o===5||o===6||o===26||o===27){a=i=l;continue e}s=s.parentNode}}a=a.return}Gg(function(){var u=i,c=qc(n),d=[];e:{var f=av.get(e);if(f!==void 0){var h=Xs,m=e;switch(e){case"keypress":if(Yl(n)===0)break e;case"keydown":case"keyup":h=E0;break;case"focusin":m="focus",h=Co;break;case"focusout":m="blur",h=Co;break;case"beforeblur":case"afterblur":h=Co;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=f0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=O0;break;case Fg:case ev:case tv:h=g0;break;case nv:h=R0;break;case"scroll":case"scrollend":h=u0;break;case"wheel":h=D0;break;case"copy":case"cut":case"paste":h=y0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=sd;break;case"toggle":case"beforetoggle":h=N0}var p=(t&4)!==0,_=!p&&(e==="scroll"||e==="scrollend"),g=p?f!==null?f+"Capture":null:f;p=[];for(var v=u,y;v!==null;){var b=v;if(y=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||y===null||g===null||(b=Mi(v,g),b!=null&&p.push(Vi(v,b,y))),_)break;v=v.return}0<p.length&&(f=new h(f,m,null,n,c),d.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==Cu&&(m=n.relatedTarget||n.fromElement)&&(or(m)||m[$r]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?or(m):null,m!==null&&(_=nl(m),p=m.tag,m!==_||p!==5&&p!==27&&p!==6)&&(m=null)):(h=null,m=u),h!==m)){if(p=id,b="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=sd,b="onPointerLeave",g="onPointerEnter",v="pointer"),_=h==null?f:fi(h),y=m==null?f:fi(m),f=new p(b,v+"leave",h,n,c),f.target=_,f.relatedTarget=y,b=null,or(c)===u&&(p=new p(g,v+"enter",m,n,c),p.target=y,p.relatedTarget=_,b=p),_=b,h&&m)t:{for(p=jb,g=h,v=m,y=0,b=g;b;b=p(b))y++;b=0;for(var C=v;C;C=p(C))b++;for(;0<y-b;)g=p(g),y--;for(;0<b-y;)v=p(v),b--;for(;y--;){if(g===v||v!==null&&g===v.alternate){p=g;break t}g=p(g),v=p(v)}p=null}else p=null;h!==null&&Wd(d,f,h,p,!1),m!==null&&_!==null&&Wd(d,_,m,p,!0)}}e:{if(f=u?fi(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var D=fd;else if(cd(f))if(Jg)D=G0;else{D=H0;var w=q0}else h=f.nodeName,!h||h.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&Lc(u.elementType)&&(D=fd):D=$0;if(D&&(D=D(e,u))){Ig(d,D,n,c);break e}w&&w(e,f,u),e==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&Ru(f,"number",f.value)}switch(w=u?fi(u):window,e){case"focusin":(cd(w)||w.contentEditable==="true")&&(fr=w,ju=u,pi=null);break;case"focusout":pi=ju=fr=null;break;case"mousedown":Nu=!0;break;case"contextmenu":case"mouseup":case"dragend":Nu=!1,yd(d,n,c);break;case"selectionchange":if(V0)break;case"keydown":case"keyup":yd(d,n,c)}var O;if(Gc)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else cr?Yg(e,n)&&(U="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(Vg&&n.locale!=="ko"&&(cr||U!=="onCompositionStart"?U==="onCompositionEnd"&&cr&&(O=Kg()):(Jn=c,Hc="value"in Jn?Jn.value:Jn.textContent,cr=!0)),w=Os(u,U),0<w.length&&(U=new ld(U,e,null,n,c),d.push({event:U,listeners:w}),O?U.data=O:(O=Xg(n),O!==null&&(U.data=O)))),(O=z0?M0(e,n):k0(e,n))&&(U=Os(u,"onBeforeInput"),0<U.length&&(w=new ld("onBeforeInput","beforeinput",null,n,c),d.push({event:w,listeners:U}),w.data=O)),xb(d,e,u,n,c)}Gy(d,t)})}function Vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Os(e,t){for(var n=t+"Capture",a=[];e!==null;){var r=e,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=Mi(e,n),r!=null&&a.unshift(Vi(e,r,i)),r=Mi(e,t),r!=null&&a.push(Vi(e,r,i))),e.tag===3)return a;e=e.return}return[]}function jb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wd(e,t,n,a,r){for(var i=t._reactName,l=[];n!==null&&n!==a;){var s=n,o=s.alternate,u=s.stateNode;if(s=s.tag,o!==null&&o===a)break;s!==5&&s!==26&&s!==27||u===null||(o=u,r?(u=Mi(n,i),u!=null&&l.unshift(Vi(n,u,o))):r||(u=Mi(n,i),u!=null&&l.push(Vi(n,u,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Nb=/\r\n?/g,Ub=/\u0000|\uFFFD/g;function Fd(e){return(typeof e=="string"?e:""+e).replace(Nb,`
`).replace(Ub,"")}function Vy(e,t){return t=Fd(t),Fd(e)===t}function ce(e,t,n,a,r,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Dr(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Dr(e,""+a);break;case"className":Al(e,"class",a);break;case"tabIndex":Al(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Al(e,n,a);break;case"style":$g(e,a,i);break;case"data":if(t!=="object"){Al(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Kl(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&ce(e,t,"name",r.name,r,null),ce(e,t,"formEncType",r.formEncType,r,null),ce(e,t,"formMethod",r.formMethod,r,null),ce(e,t,"formTarget",r.formTarget,r,null)):(ce(e,t,"encType",r.encType,r,null),ce(e,t,"method",r.method,r,null),ce(e,t,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Kl(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=wn);break;case"onScroll":a!=null&&W("scroll",e);break;case"onScrollEnd":a!=null&&W("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(M(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(M(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Kl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":W("beforetoggle",e),W("toggle",e),Gl(e,"popover",a);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Gl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=s0.get(n)||n,Gl(e,n,a))}}function nc(e,t,n,a,r,i){switch(n){case"style":$g(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(M(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(M(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Dr(e,a):(typeof a=="number"||typeof a=="bigint")&&Dr(e,""+a);break;case"onScroll":a!=null&&W("scroll",e);break;case"onScrollEnd":a!=null&&W("scrollend",e);break;case"onClick":a!=null&&(e.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mg.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),i=e[dt]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,r),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Gl(e,n,a)}}}function Pe(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":W("error",e),W("load",e);var a=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var l=n[i];if(l!=null)switch(i){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(M(137,t));default:ce(e,t,i,l,n,null)}}r&&ce(e,t,"srcSet",n.srcSet,n,null),a&&ce(e,t,"src",n.src,n,null);return;case"input":W("invalid",e);var s=i=l=r=null,o=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var c=n[a];if(c!=null)switch(a){case"name":r=c;break;case"type":l=c;break;case"checked":o=c;break;case"defaultChecked":u=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(M(137,t));break;default:ce(e,t,a,c,n,null)}}Lg(e,i,s,o,u,l,r,!1);return;case"select":W("invalid",e),a=l=i=null;for(r in n)if(n.hasOwnProperty(r)&&(s=n[r],s!=null))switch(r){case"value":i=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:ce(e,t,r,s,n,null)}t=i,n=l,e.multiple=!!a,t!=null?_r(e,!!a,t,!1):n!=null&&_r(e,!!a,n,!0);return;case"textarea":W("invalid",e),i=r=a=null;for(l in n)if(n.hasOwnProperty(l)&&(s=n[l],s!=null))switch(l){case"value":a=s;break;case"defaultValue":r=s;break;case"children":i=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(M(91));break;default:ce(e,t,l,s,n,null)}Hg(e,a,r,i);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ce(e,t,o,a,n,null)}return;case"dialog":W("beforetoggle",e),W("toggle",e),W("cancel",e),W("close",e);break;case"iframe":case"object":W("load",e);break;case"video":case"audio":for(a=0;a<Ki.length;a++)W(Ki[a],e);break;case"image":W("error",e),W("load",e);break;case"details":W("toggle",e);break;case"embed":case"source":case"link":W("error",e),W("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(M(137,t));default:ce(e,t,u,a,n,null)}return;default:if(Lc(t)){for(c in n)n.hasOwnProperty(c)&&(a=n[c],a!==void 0&&nc(e,t,c,a,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(a=n[s],a!=null&&ce(e,t,s,a,n,null))}function zb(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,l=null,s=null,o=null,u=null,c=null;for(h in n){var d=n[h];if(n.hasOwnProperty(h)&&d!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":o=d;default:a.hasOwnProperty(h)||ce(e,t,h,null,a,d)}}for(var f in a){var h=a[f];if(d=n[f],a.hasOwnProperty(f)&&(h!=null||d!=null))switch(f){case"type":i=h;break;case"name":r=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":l=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(M(137,t));break;default:h!==d&&ce(e,t,f,h,a,d)}}xu(e,l,s,o,u,c,i,r);return;case"select":h=l=s=f=null;for(i in n)if(o=n[i],n.hasOwnProperty(i)&&o!=null)switch(i){case"value":break;case"multiple":h=o;default:a.hasOwnProperty(i)||ce(e,t,i,null,a,o)}for(r in a)if(i=a[r],o=n[r],a.hasOwnProperty(r)&&(i!=null||o!=null))switch(r){case"value":f=i;break;case"defaultValue":s=i;break;case"multiple":l=i;default:i!==o&&ce(e,t,r,i,a,o)}t=s,n=l,a=h,f!=null?_r(e,!!n,f,!1):!!a!=!!n&&(t!=null?_r(e,!!n,t,!0):_r(e,!!n,n?[]:"",!1));return;case"textarea":h=f=null;for(s in n)if(r=n[s],n.hasOwnProperty(s)&&r!=null&&!a.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:ce(e,t,s,null,a,r)}for(l in a)if(r=a[l],i=n[l],a.hasOwnProperty(l)&&(r!=null||i!=null))switch(l){case"value":f=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(M(91));break;default:r!==i&&ce(e,t,l,r,a,i)}qg(e,f,h);return;case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&f!=null&&!a.hasOwnProperty(m))switch(m){case"selected":e.selected=!1;break;default:ce(e,t,m,null,a,f)}for(o in a)if(f=a[o],h=n[o],a.hasOwnProperty(o)&&f!==h&&(f!=null||h!=null))switch(o){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ce(e,t,o,f,a,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var p in n)f=n[p],n.hasOwnProperty(p)&&f!=null&&!a.hasOwnProperty(p)&&ce(e,t,p,null,a,f);for(u in a)if(f=a[u],h=n[u],a.hasOwnProperty(u)&&f!==h&&(f!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(M(137,t));break;default:ce(e,t,u,f,a,h)}return;default:if(Lc(t)){for(var _ in n)f=n[_],n.hasOwnProperty(_)&&f!==void 0&&!a.hasOwnProperty(_)&&nc(e,t,_,void 0,a,f);for(c in a)f=a[c],h=n[c],!a.hasOwnProperty(c)||f===h||f===void 0&&h===void 0||nc(e,t,c,f,a,h);return}}for(var g in n)f=n[g],n.hasOwnProperty(g)&&f!=null&&!a.hasOwnProperty(g)&&ce(e,t,g,null,a,f);for(d in a)f=a[d],h=n[d],!a.hasOwnProperty(d)||f===h||f==null&&h==null||ce(e,t,d,f,a,h)}function eh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var r=n[a],i=r.transferSize,l=r.initiatorType,s=r.duration;if(i&&s&&eh(l)){for(l=0,s=r.responseEnd,a+=1;a<n.length;a++){var o=n[a],u=o.startTime;if(u>s)break;var c=o.transferSize,d=o.initiatorType;c&&eh(d)&&(o=o.responseEnd,l+=c*(o<s?1:(s-u)/(o-u)))}if(--a,t+=8*(i+l)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ac=null,rc=null;function xs(e){return e.nodeType===9?e:e.ownerDocument}function th(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ic(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tu=null;function kb(){var e=window.event;return e&&e.type==="popstate"?e===tu?!1:(tu=e,!0):(tu=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,nh=typeof Promise=="function"?Promise:void 0,Lb=typeof queueMicrotask=="function"?queueMicrotask:typeof nh<"u"?function(e){return nh.resolve(null).then(e).catch(qb)}:Xy;function qb(e){setTimeout(function(){throw e})}function da(e){return e==="head"}function ah(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(r),Lr(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ri(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ri(n);for(var i=n.firstChild;i;){var l=i.nextSibling,s=i.nodeName;i[ll]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=l}}else n==="body"&&Ri(e.ownerDocument.body);n=r}while(n);Lr(t)}function rh(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function lc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":lc(n),Bc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Hb(e,t,n,a){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ll])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function $b(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yt(e.nextSibling),e===null))return null;return e}function Iy(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Yt(e.nextSibling),e===null))return null;return e}function sc(e){return e.data==="$?"||e.data==="$~"}function oc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Gb(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var uc=null;function ih(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Yt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function lh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Jy(e,t,n){switch(t=xs(n),e){case"html":if(e=t.documentElement,!e)throw Error(M(452));return e;case"head":if(e=t.head,!e)throw Error(M(453));return e;case"body":if(e=t.body,!e)throw Error(M(454));return e;default:throw Error(M(451))}}function Ri(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Bc(e)}var Xt=new Map,sh=new Set;function Rs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jn=le.d;le.d={f:Kb,r:Vb,D:Yb,C:Xb,L:Ib,m:Jb,X:Zb,S:Qb,M:Pb};function Kb(){var e=jn.f(),t=ao();return e||t}function Vb(e){var t=Gr(e);t!==null&&t.tag===5&&t.type==="form"?$v(t):jn.r(e)}var Xr=typeof document>"u"?null:document;function Qy(e,t,n){var a=Xr;if(a&&typeof t=="string"&&t){var r=$t(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),sh.has(r)||(sh.add(r),e={rel:e,crossOrigin:n,href:t},a.querySelector(r)===null&&(t=a.createElement("link"),Pe(t,"link",e),Ge(t),a.head.appendChild(t)))}}function Yb(e){jn.D(e),Qy("dns-prefetch",e,null)}function Xb(e,t){jn.C(e,t),Qy("preconnect",e,t)}function Ib(e,t,n){jn.L(e,t,n);var a=Xr;if(a&&e&&t){var r='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+$t(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+$t(n.imageSizes)+'"]')):r+='[href="'+$t(e)+'"]';var i=r;switch(t){case"style":i=Br(e);break;case"script":i=Ir(e)}Xt.has(i)||(e=_e({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Xt.set(i,e),a.querySelector(r)!==null||t==="style"&&a.querySelector(dl(i))||t==="script"&&a.querySelector(hl(i))||(t=a.createElement("link"),Pe(t,"link",e),Ge(t),a.head.appendChild(t)))}}function Jb(e,t){jn.m(e,t);var n=Xr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+$t(a)+'"][href="'+$t(e)+'"]',i=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ir(e)}if(!Xt.has(i)&&(e=_e({rel:"modulepreload",href:e},t),Xt.set(i,e),n.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(hl(i)))return}a=n.createElement("link"),Pe(a,"link",e),Ge(a),n.head.appendChild(a)}}}function Qb(e,t,n){jn.S(e,t,n);var a=Xr;if(a&&e){var r=br(a).hoistableStyles,i=Br(e);t=t||"default";var l=r.get(i);if(!l){var s={loading:0,preload:null};if(l=a.querySelector(dl(i)))s.loading=5;else{e=_e({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Xt.get(i))&&Ef(e,n);var o=l=a.createElement("link");Ge(o),Pe(o,"link",e),o._p=new Promise(function(u,c){o.onload=u,o.onerror=c}),o.addEventListener("load",function(){s.loading|=1}),o.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Fl(l,t,a)}l={type:"stylesheet",instance:l,count:1,state:s},r.set(i,l)}}}function Zb(e,t){jn.X(e,t);var n=Xr;if(n&&e){var a=br(n).hoistableScripts,r=Ir(e),i=a.get(r);i||(i=n.querySelector(hl(r)),i||(e=_e({src:e,async:!0},t),(t=Xt.get(r))&&Tf(e,t),i=n.createElement("script"),Ge(i),Pe(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(r,i))}}function Pb(e,t){jn.M(e,t);var n=Xr;if(n&&e){var a=br(n).hoistableScripts,r=Ir(e),i=a.get(r);i||(i=n.querySelector(hl(r)),i||(e=_e({src:e,async:!0,type:"module"},t),(t=Xt.get(r))&&Tf(e,t),i=n.createElement("script"),Ge(i),Pe(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(r,i))}}function oh(e,t,n,a){var r=(r=Wn.current)?Rs(r):null;if(!r)throw Error(M(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Br(n.href),n=br(r).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Br(n.href);var i=br(r).hoistableStyles,l=i.get(e);if(l||(r=r.ownerDocument||r,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,l),(i=r.querySelector(dl(e)))&&!i._p&&(l.instance=i,l.state.loading=5),Xt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Xt.set(e,n),i||Wb(r,e,n,l.state))),t&&a===null)throw Error(M(528,""));return l}if(t&&a!==null)throw Error(M(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ir(n),n=br(r).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(M(444,e))}}function Br(e){return'href="'+$t(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function Zy(e){return _e({},e,{"data-precedence":e.precedence,precedence:null})}function Wb(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Pe(t,"link",n),Ge(t),e.head.appendChild(t))}function Ir(e){return'[src="'+$t(e)+'"]'}function hl(e){return"script[async]"+e}function uh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+$t(n.href)+'"]');if(a)return t.instance=a,Ge(a),a;var r=_e({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ge(a),Pe(a,"style",r),Fl(a,n.precedence,e),t.instance=a;case"stylesheet":r=Br(n.href);var i=e.querySelector(dl(r));if(i)return t.state.loading|=4,t.instance=i,Ge(i),i;a=Zy(n),(r=Xt.get(r))&&Ef(a,r),i=(e.ownerDocument||e).createElement("link"),Ge(i);var l=i;return l._p=new Promise(function(s,o){l.onload=s,l.onerror=o}),Pe(i,"link",a),t.state.loading|=4,Fl(i,n.precedence,e),t.instance=i;case"script":return i=Ir(n.src),(r=e.querySelector(hl(i)))?(t.instance=r,Ge(r),r):(a=n,(r=Xt.get(i))&&(a=_e({},n),Tf(a,r)),e=e.ownerDocument||e,r=e.createElement("script"),Ge(r),Pe(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(M(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Fl(a,n.precedence,e));return t.instance}function Fl(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,i=r,l=0;l<a.length;l++){var s=a[l];if(s.dataset.precedence===t)i=s;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ef(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Tf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var es=null;function ch(e,t,n){if(es===null){var a=new Map,r=es=new Map;r.set(n,a)}else r=es,a=r.get(n),a||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var i=n[r];if(!(i[ll]||i[Je]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var l=i.getAttribute(t)||"";l=e+l;var s=a.get(l);s?s.push(i):a.set(l,[i])}}return a}function fh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Fb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Py(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function e_(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Br(a.href),i=t.querySelector(dl(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Cs.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,Ge(i);return}i=t.ownerDocument||t,a=Zy(a),(r=Xt.get(r))&&Ef(a,r),i=i.createElement("link"),Ge(i);var l=i;l._p=new Promise(function(s,o){l.onload=s,l.onerror=o}),Pe(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Cs.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var nu=0;function t_(e,t){return e.stylesheets&&e.count===0&&ts(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&ts(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&nu===0&&(nu=62500*Mb());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ts(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>nu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}function Cs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ts(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ds=null;function ts(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ds=new Map,t.forEach(n_,e),Ds=null,Cs.call(e))}function n_(e,t){if(!(t.state.loading&4)){var n=Ds.get(e);if(n)var a=n.get(null);else{n=new Map,Ds.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var l=r[i];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),a=l)}a&&n.set(null,a)}r=t.instance,l=r.getAttribute("data-precedence"),i=n.get(l)||a,i===a&&n.set(null,r),n.set(l,r),this.count++,a=Cs.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),i?i.parentNode.insertBefore(r,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Yi={$$typeof:_n,Provider:null,Consumer:null,_currentValue:Ta,_currentValue2:Ta,_threadCount:0};function a_(e,t,n,a,r,i,l,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ao(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.hiddenUpdates=Ao(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Wy(e,t,n,a,r,i,l,s,o,u,c,d){return e=new a_(e,t,n,l,o,u,c,d,s),t=1,i===!0&&(t|=24),i=St(3,null,null,t),e.current=i,i.stateNode=e,t=Qc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},Wc(i),e}function Fy(e){return e?(e=gr,e):gr}function em(e,t,n,a,r,i){r=Fy(r),a.context===null?a.context=r:a.pendingContext=r,a=ea(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=ta(e,a,t),n!==null&&(ft(n,e,t),_i(n,e,t))}function dh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Af(e,t){dh(e,t),(e=e.alternate)&&dh(e,t)}function tm(e){if(e.tag===13||e.tag===31){var t=La(e,67108864);t!==null&&ft(t,e,67108864),Af(e,67108864)}}function hh(e){if(e.tag===13||e.tag===31){var t=Ct();t=Mc(t);var n=La(e,t);n!==null&&ft(n,e,t),Af(e,t)}}var js=!0;function r_(e,t,n,a){var r=J.T;J.T=null;var i=le.p;try{le.p=2,Of(e,t,n,a)}finally{le.p=i,J.T=r}}function i_(e,t,n,a){var r=J.T;J.T=null;var i=le.p;try{le.p=8,Of(e,t,n,a)}finally{le.p=i,J.T=r}}function Of(e,t,n,a){if(js){var r=cc(a);if(r===null)eu(e,t,a,Ns,n),gh(e,a);else if(s_(r,e,t,n,a))a.stopPropagation();else if(gh(e,a),t&4&&-1<l_.indexOf(e)){for(;r!==null;){var i=Gr(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var l=ma(i.pendingLanes);if(l!==0){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;l;){var o=1<<31-Rt(l);s.entanglements[1]|=o,l&=~o}cn(i),!(ie&6)&&(ws=Ot()+500,fl(0))}}break;case 31:case 13:s=La(i,2),s!==null&&ft(s,i,2),ao(),Af(i,2)}if(i=cc(a),i===null&&eu(e,t,a,Ns,n),i===r)break;r=i}r!==null&&a.stopPropagation()}else eu(e,t,a,null,n)}}function cc(e){return e=qc(e),xf(e)}var Ns=null;function xf(e){if(Ns=null,e=or(e),e!==null){var t=nl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=wg(t),e!==null)return e;e=null}else if(n===31){if(e=Sg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ns=e,null}function nm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yp()){case Og:return 2;case xg:return 8;case ss:case Xp:return 32;case Rg:return 268435456;default:return 32}default:return 32}}var fc=!1,ra=null,ia=null,la=null,Xi=new Map,Ii=new Map,Yn=[],l_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gh(e,t){switch(e){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(t.pointerId)}}function oi(e,t,n,a,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Gr(t),t!==null&&tm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function s_(e,t,n,a,r){switch(t){case"focusin":return ra=oi(ra,e,t,n,a,r),!0;case"dragenter":return ia=oi(ia,e,t,n,a,r),!0;case"mouseover":return la=oi(la,e,t,n,a,r),!0;case"pointerover":var i=r.pointerId;return Xi.set(i,oi(Xi.get(i)||null,e,t,n,a,r)),!0;case"gotpointercapture":return i=r.pointerId,Ii.set(i,oi(Ii.get(i)||null,e,t,n,a,r)),!0}return!1}function am(e){var t=or(e.target);if(t!==null){var n=nl(t);if(n!==null){if(t=n.tag,t===13){if(t=wg(n),t!==null){e.blockedOn=t,Wf(e.priority,function(){hh(n)});return}}else if(t===31){if(t=Sg(n),t!==null){e.blockedOn=t,Wf(e.priority,function(){hh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ns(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cc(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Cu=a,n.target.dispatchEvent(a),Cu=null}else return t=Gr(n),t!==null&&tm(t),e.blockedOn=n,!1;t.shift()}return!0}function vh(e,t,n){ns(e)&&n.delete(t)}function o_(){fc=!1,ra!==null&&ns(ra)&&(ra=null),ia!==null&&ns(ia)&&(ia=null),la!==null&&ns(la)&&(la=null),Xi.forEach(vh),Ii.forEach(vh)}function Ul(e,t){e.blockedOn===t&&(e.blockedOn=null,fc||(fc=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,o_)))}var zl=null;function yh(e){zl!==e&&(zl=e,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,function(){zl===e&&(zl=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],r=e[t+2];if(typeof a!="function"){if(xf(a||n)===null)continue;break}var i=Gr(n);i!==null&&(e.splice(t,3),t-=3,Yu(i,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function Lr(e){function t(o){return Ul(o,e)}ra!==null&&Ul(ra,e),ia!==null&&Ul(ia,e),la!==null&&Ul(la,e),Xi.forEach(t),Ii.forEach(t);for(var n=0;n<Yn.length;n++){var a=Yn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)am(n),n.blockedOn===null&&Yn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var r=n[a],i=n[a+1],l=r[dt]||null;if(typeof i=="function")l||yh(n);else if(l){var s=null;if(i&&i.hasAttribute("formAction")){if(r=i,l=i[dt]||null)s=l.formAction;else if(xf(r)!==null)continue}else s=l.action;typeof s=="function"?n[a+1]=s:(n.splice(a,3),a-=3),yh(n)}}}function rm(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(l){return r=l})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Rf(e){this._internalRoot=e}lo.prototype.render=Rf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));var n=t.current,a=Ct();em(n,a,e,t,null,null)};lo.prototype.unmount=Rf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;em(e.current,2,null,e,null,null),ao(),t[$r]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ug();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yn.length&&t!==0&&t<Yn[n].priority;n++);Yn.splice(n,0,e),n===0&&am(e)}};var mh=bg.version;if(mh!=="19.2.3")throw Error(M(527,mh,"19.2.3"));le.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Lp(t),e=e!==null?Eg(e):null,e=e===null?null:e.stateNode,e};var u_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{al=Ml.inject(u_),xt=Ml}catch{}}Ks.createRoot=function(e,t){if(!_g(e))throw Error(M(299));var n=!1,a="",r=Qv,i=Zv,l=Pv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Wy(e,1,!1,null,null,n,a,null,r,i,l,rm),e[$r]=t.current,Sf(e),new Rf(t)};Ks.hydrateRoot=function(e,t,n){if(!_g(e))throw Error(M(299));var a=!1,r="",i=Qv,l=Zv,s=Pv,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=Wy(e,1,!0,t,n??null,a,r,o,i,l,s,rm),t.context=Fy(null),n=t.current,a=Ct(),a=Mc(a),r=ea(a),r.callback=null,ta(n,r,a),n=a,t.current.lanes=n,il(t,n),cn(t),e[$r]=t.current,Sf(e),new lo(t)};Ks.version="19.2.3";function im(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(im)}catch(e){console.error(e)}}im(),hg.exports=Ks;var c_=hg.exports;function f_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.useMemo(()=>a=>{t.forEach(r=>r(a))},t)}const so=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Jr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Cf(e){return"nodeType"in e}function it(e){var t,n;return e?Jr(e)?e:Cf(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Df(e){const{Document:t}=it(e);return e instanceof t}function gl(e){return Jr(e)?!1:e instanceof it(e).HTMLElement}function lm(e){return e instanceof it(e).SVGElement}function Qr(e){return e?Jr(e)?e.document:Cf(e)?Df(e)?e:gl(e)||lm(e)?e.ownerDocument:document:document:document}const Wt=so?S.useLayoutEffect:S.useEffect;function oo(e){const t=S.useRef(e);return Wt(()=>{t.current=e}),S.useCallback(function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t.current==null?void 0:t.current(...a)},[])}function d_(){const e=S.useRef(null),t=S.useCallback((a,r)=>{e.current=setInterval(a,r)},[]),n=S.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ji(e,t){t===void 0&&(t=[e]);const n=S.useRef(e);return Wt(()=>{n.current!==e&&(n.current=e)},t),n}function vl(e,t){const n=S.useRef();return S.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function Us(e){const t=oo(e),n=S.useRef(null),a=S.useCallback(r=>{r!==n.current&&(t==null||t(r,n.current)),n.current=r},[]);return[n,a]}function zs(e){const t=S.useRef();return S.useEffect(()=>{t.current=e},[e]),t.current}let au={};function yl(e,t){return S.useMemo(()=>{if(t)return t;const n=au[e]==null?0:au[e]+1;return au[e]=n,e+"-"+n},[e,t])}function sm(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.reduce((i,l)=>{const s=Object.entries(l);for(const[o,u]of s){const c=i[o];c!=null&&(i[o]=c+e*u)}return i},{...t})}}const Or=sm(1),Qi=sm(-1);function h_(e){return"clientX"in e&&"clientY"in e}function uo(e){if(!e)return!1;const{KeyboardEvent:t}=it(e.target);return t&&e instanceof t}function g_(e){if(!e)return!1;const{TouchEvent:t}=it(e.target);return t&&e instanceof t}function Ms(e){if(g_(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return h_(e)?{x:e.clientX,y:e.clientY}:null}const za=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[za.Translate.toString(e),za.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),ph="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function v_(e){return e.matches(ph)?e:e.querySelector(ph)}const y_={display:"none"};function m_(e){let{id:t,value:n}=e;return pe.createElement("div",{id:t,style:y_},n)}function p_(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return pe.createElement("div",{id:t,style:r,role:"status","aria-live":a,"aria-atomic":!0},n)}function b_(){const[e,t]=S.useState("");return{announce:S.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const om=S.createContext(null);function __(e){const t=S.useContext(om);S.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function w_(){const[e]=S.useState(()=>new Set),t=S.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[S.useCallback(a=>{let{type:r,event:i}=a;e.forEach(l=>{var s;return(s=l[r])==null?void 0:s.call(l,i)})},[e]),t]}const S_={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},E_={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function T_(e){let{announcements:t=E_,container:n,hiddenTextDescribedById:a,screenReaderInstructions:r=S_}=e;const{announce:i,announcement:l}=b_(),s=yl("DndLiveRegion"),[o,u]=S.useState(!1);if(S.useEffect(()=>{u(!0)},[]),__(S.useMemo(()=>({onDragStart(d){let{active:f}=d;i(t.onDragStart({active:f}))},onDragMove(d){let{active:f,over:h}=d;t.onDragMove&&i(t.onDragMove({active:f,over:h}))},onDragOver(d){let{active:f,over:h}=d;i(t.onDragOver({active:f,over:h}))},onDragEnd(d){let{active:f,over:h}=d;i(t.onDragEnd({active:f,over:h}))},onDragCancel(d){let{active:f,over:h}=d;i(t.onDragCancel({active:f,over:h}))}}),[i,t])),!o)return null;const c=pe.createElement(pe.Fragment,null,pe.createElement(m_,{id:a,value:r.draggable}),pe.createElement(p_,{id:s,announcement:l}));return n?ir.createPortal(c,n):c}var Be;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Be||(Be={}));function ks(){}function dc(e,t){return S.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function um(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Ft=Object.freeze({x:0,y:0});function cm(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function A_(e,t){const n=Ms(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function fm(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function O_(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function bh(e){let{left:t,top:n,height:a,width:r}=e;return[{x:t,y:n},{x:t+r,y:n},{x:t,y:n+a},{x:t+r,y:n+a}]}function dm(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function _h(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const hm=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const r=_h(t,t.left,t.top),i=[];for(const l of a){const{id:s}=l,o=n.get(s);if(o){const u=cm(_h(o),r);i.push({id:s,data:{droppableContainer:l,value:u}})}}return i.sort(fm)},x_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const r=bh(t),i=[];for(const l of a){const{id:s}=l,o=n.get(s);if(o){const u=bh(o),c=r.reduce((f,h,m)=>f+cm(u[m],h),0),d=Number((c/4).toFixed(4));i.push({id:s,data:{droppableContainer:l,value:d}})}}return i.sort(fm)};function R_(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),r=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),l=r-a,s=i-n;if(a<r&&n<i){const o=t.width*t.height,u=e.width*e.height,c=l*s,d=c/(o+u-c);return Number(d.toFixed(4))}return 0}const C_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const r=[];for(const i of a){const{id:l}=i,s=n.get(l);if(s){const o=R_(s,t);o>0&&r.push({id:l,data:{droppableContainer:i,value:o}})}}return r.sort(O_)};function D_(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function gm(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ft}function j_(e){return function(n){for(var a=arguments.length,r=new Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];return r.reduce((l,s)=>({...l,top:l.top+e*s.y,bottom:l.bottom+e*s.y,left:l.left+e*s.x,right:l.right+e*s.x}),{...n})}}const N_=j_(1);function vm(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function U_(e,t,n){const a=vm(t);if(!a)return e;const{scaleX:r,scaleY:i,x:l,y:s}=a,o=e.left-l-(1-r)*parseFloat(n),u=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),c=r?e.width/r:e.width,d=i?e.height/i:e.height;return{width:c,height:d,top:u,right:o+c,bottom:u+d,left:o}}const z_={ignoreTransform:!1};function Zr(e,t){t===void 0&&(t=z_);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:c}=it(e).getComputedStyle(e);u&&(n=U_(n,u,c))}const{top:a,left:r,width:i,height:l,bottom:s,right:o}=n;return{top:a,left:r,width:i,height:l,bottom:s,right:o}}function wh(e){return Zr(e,{ignoreTransform:!0})}function M_(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function k_(e,t){return t===void 0&&(t=it(e).getComputedStyle(e)),t.position==="fixed"}function B_(e,t){t===void 0&&(t=it(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const i=t[r];return typeof i=="string"?n.test(i):!1})}function co(e,t){const n=[];function a(r){if(t!=null&&n.length>=t||!r)return n;if(Df(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!gl(r)||lm(r)||n.includes(r))return n;const i=it(e).getComputedStyle(r);return r!==e&&B_(r,i)&&n.push(r),k_(r,i)?n:a(r.parentNode)}return e?a(e):n}function ym(e){const[t]=co(e,1);return t??null}function ru(e){return!so||!e?null:Jr(e)?e:Cf(e)?Df(e)||e===Qr(e).scrollingElement?window:gl(e)?e:null:null}function mm(e){return Jr(e)?e.scrollX:e.scrollLeft}function pm(e){return Jr(e)?e.scrollY:e.scrollTop}function hc(e){return{x:mm(e),y:pm(e)}}var $e;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})($e||($e={}));function bm(e){return!so||!e?!1:e===document.scrollingElement}function _m(e){const t={x:0,y:0},n=bm(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},r=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,l=e.scrollTop>=a.y,s=e.scrollLeft>=a.x;return{isTop:r,isLeft:i,isBottom:l,isRight:s,maxScroll:a,minScroll:t}}const L_={x:.2,y:.2};function q_(e,t,n,a,r){let{top:i,left:l,right:s,bottom:o}=n;a===void 0&&(a=10),r===void 0&&(r=L_);const{isTop:u,isBottom:c,isLeft:d,isRight:f}=_m(e),h={x:0,y:0},m={x:0,y:0},p={height:t.height*r.y,width:t.width*r.x};return!u&&i<=t.top+p.height?(h.y=$e.Backward,m.y=a*Math.abs((t.top+p.height-i)/p.height)):!c&&o>=t.bottom-p.height&&(h.y=$e.Forward,m.y=a*Math.abs((t.bottom-p.height-o)/p.height)),!f&&s>=t.right-p.width?(h.x=$e.Forward,m.x=a*Math.abs((t.right-p.width-s)/p.width)):!d&&l<=t.left+p.width&&(h.x=$e.Backward,m.x=a*Math.abs((t.left+p.width-l)/p.width)),{direction:h,speed:m}}function H_(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:l}=window;return{top:0,left:0,right:i,bottom:l,width:i,height:l}}const{top:t,left:n,right:a,bottom:r}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:r,width:e.clientWidth,height:e.clientHeight}}function wm(e){return e.reduce((t,n)=>Or(t,hc(n)),Ft)}function $_(e){return e.reduce((t,n)=>t+mm(n),0)}function G_(e){return e.reduce((t,n)=>t+pm(n),0)}function Sm(e,t){if(t===void 0&&(t=Zr),!e)return;const{top:n,left:a,bottom:r,right:i}=t(e);ym(e)&&(r<=0||i<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const K_=[["x",["left","right"],$_],["y",["top","bottom"],G_]];class jf{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=co(n),r=wm(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,l,s]of K_)for(const o of l)Object.defineProperty(this,o,{get:()=>{const u=s(a),c=r[i]-u;return this.rect[o]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ci{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var r;(r=this.target)==null||r.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function V_(e){const{EventTarget:t}=it(e);return e instanceof t?e:Qr(e)}function iu(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var Bt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Bt||(Bt={}));function Sh(e){e.preventDefault()}function Y_(e){e.stopPropagation()}var te;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(te||(te={}));const Em={start:[te.Space,te.Enter],cancel:[te.Esc],end:[te.Space,te.Enter,te.Tab]},X_=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case te.Right:return{...n,x:n.x+25};case te.Left:return{...n,x:n.x-25};case te.Down:return{...n,y:n.y+25};case te.Up:return{...n,y:n.y-25}}};class Nf{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ci(Qr(n)),this.windowListeners=new Ci(it(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Bt.Resize,this.handleCancel),this.windowListeners.add(Bt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Bt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&Sm(a),n(Ft)}handleKeyDown(t){if(uo(t)){const{active:n,context:a,options:r}=this.props,{keyboardCodes:i=Em,coordinateGetter:l=X_,scrollBehavior:s="smooth"}=r,{code:o}=t;if(i.end.includes(o)){this.handleEnd(t);return}if(i.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:u}=a.current,c=u?{x:u.left,y:u.top}:Ft;this.referenceCoordinates||(this.referenceCoordinates=c);const d=l(t,{active:n,context:a.current,currentCoordinates:c});if(d){const f=Qi(d,c),h={x:0,y:0},{scrollableAncestors:m}=a.current;for(const p of m){const _=t.code,{isTop:g,isRight:v,isLeft:y,isBottom:b,maxScroll:C,minScroll:D}=_m(p),w=H_(p),O={x:Math.min(_===te.Right?w.right-w.width/2:w.right,Math.max(_===te.Right?w.left:w.left+w.width/2,d.x)),y:Math.min(_===te.Down?w.bottom-w.height/2:w.bottom,Math.max(_===te.Down?w.top:w.top+w.height/2,d.y))},U=_===te.Right&&!v||_===te.Left&&!y,k=_===te.Down&&!b||_===te.Up&&!g;if(U&&O.x!==d.x){const L=p.scrollLeft+f.x,H=_===te.Right&&L<=C.x||_===te.Left&&L>=D.x;if(H&&!f.y){p.scrollTo({left:L,behavior:s});return}H?h.x=p.scrollLeft-L:h.x=_===te.Right?p.scrollLeft-C.x:p.scrollLeft-D.x,h.x&&p.scrollBy({left:-h.x,behavior:s});break}else if(k&&O.y!==d.y){const L=p.scrollTop+f.y,H=_===te.Down&&L<=C.y||_===te.Up&&L>=D.y;if(H&&!f.x){p.scrollTo({top:L,behavior:s});return}H?h.y=p.scrollTop-L:h.y=_===te.Down?p.scrollTop-C.y:p.scrollTop-D.y,h.y&&p.scrollBy({top:-h.y,behavior:s});break}}this.handleMove(t,Or(Qi(d,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Nf.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=Em,onActivation:r}=t,{active:i}=n;const{code:l}=e.nativeEvent;if(a.start.includes(l)){const s=i.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),r==null||r({event:e.nativeEvent}),!0)}return!1}}];function Eh(e){return!!(e&&"distance"in e)}function Th(e){return!!(e&&"delay"in e)}class Uf{constructor(t,n,a){var r;a===void 0&&(a=V_(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:l}=i;this.props=t,this.events=n,this.document=Qr(l),this.documentListeners=new Ci(this.document),this.listeners=new Ci(a),this.windowListeners=new Ci(it(l)),this.initialCoordinates=(r=Ms(i))!=null?r:Ft,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Bt.Resize,this.handleCancel),this.windowListeners.add(Bt.DragStart,Sh),this.windowListeners.add(Bt.VisibilityChange,this.handleCancel),this.windowListeners.add(Bt.ContextMenu,Sh),this.documentListeners.add(Bt.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Th(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Eh(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:r}=this.props;r(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Bt.Click,Y_,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Bt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:r,props:i}=this,{onMove:l,options:{activationConstraint:s}}=i;if(!r)return;const o=(n=Ms(t))!=null?n:Ft,u=Qi(r,o);if(!a&&s){if(Eh(s)){if(s.tolerance!=null&&iu(u,s.tolerance))return this.handleCancel();if(iu(u,s.distance))return this.handleStart()}if(Th(s)&&iu(u,s.tolerance))return this.handleCancel();this.handlePending(s,u);return}t.cancelable&&t.preventDefault(),l(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===te.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const I_={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class fo extends Uf{constructor(t){const{event:n}=t,a=Qr(n.target);super(t,I_,a)}}fo.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const J_={move:{name:"mousemove"},end:{name:"mouseup"}};var gc;(function(e){e[e.RightClick=2]="RightClick"})(gc||(gc={}));class Q_ extends Uf{constructor(t){super(t,J_,Qr(t.event.target))}}Q_.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===gc.RightClick?!1:(a==null||a({event:n}),!0)}}];const lu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Z_ extends Uf{constructor(t){super(t,lu)}static setup(){return window.addEventListener(lu.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(lu.move.name,t)};function t(){}}}Z_.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:r}=n;return r.length>1?!1:(a==null||a({event:n}),!0)}}];var Di;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Di||(Di={}));var Bs;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Bs||(Bs={}));function P_(e){let{acceleration:t,activator:n=Di.Pointer,canScroll:a,draggingRect:r,enabled:i,interval:l=5,order:s=Bs.TreeOrder,pointerCoordinates:o,scrollableAncestors:u,scrollableAncestorRects:c,delta:d,threshold:f}=e;const h=F_({delta:d,disabled:!i}),[m,p]=d_(),_=S.useRef({x:0,y:0}),g=S.useRef({x:0,y:0}),v=S.useMemo(()=>{switch(n){case Di.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case Di.DraggableRect:return r}},[n,r,o]),y=S.useRef(null),b=S.useCallback(()=>{const D=y.current;if(!D)return;const w=_.current.x*g.current.x,O=_.current.y*g.current.y;D.scrollBy(w,O)},[]),C=S.useMemo(()=>s===Bs.TreeOrder?[...u].reverse():u,[s,u]);S.useEffect(()=>{if(!i||!u.length||!v){p();return}for(const D of C){if((a==null?void 0:a(D))===!1)continue;const w=u.indexOf(D),O=c[w];if(!O)continue;const{direction:U,speed:k}=q_(D,O,v,t,f);for(const L of["x","y"])h[L][U[L]]||(k[L]=0,U[L]=0);if(k.x>0||k.y>0){p(),y.current=D,m(b,l),_.current=k,g.current=U;return}}_.current={x:0,y:0},g.current={x:0,y:0},p()},[t,b,a,p,i,l,JSON.stringify(v),JSON.stringify(h),m,u,C,c,JSON.stringify(f)])}const W_={x:{[$e.Backward]:!1,[$e.Forward]:!1},y:{[$e.Backward]:!1,[$e.Forward]:!1}};function F_(e){let{delta:t,disabled:n}=e;const a=zs(t);return vl(r=>{if(n||!a||!r)return W_;const i={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[$e.Backward]:r.x[$e.Backward]||i.x===-1,[$e.Forward]:r.x[$e.Forward]||i.x===1},y:{[$e.Backward]:r.y[$e.Backward]||i.y===-1,[$e.Forward]:r.y[$e.Forward]||i.y===1}}},[n,t,a])}function ew(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return vl(r=>{var i;return t==null?null:(i=a??r)!=null?i:null},[a,t])}function tw(e,t){return S.useMemo(()=>e.reduce((n,a)=>{const{sensor:r}=a,i=r.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,a)}));return[...n,...i]},[]),[e,t])}var qr;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(qr||(qr={}));var vc;(function(e){e.Optimized="optimized"})(vc||(vc={}));const Ah=new Map;function nw(e,t){let{dragging:n,dependencies:a,config:r}=t;const[i,l]=S.useState(null),{frequency:s,measure:o,strategy:u}=r,c=S.useRef(e),d=_(),f=Ji(d),h=S.useCallback(function(g){g===void 0&&(g=[]),!f.current&&l(v=>v===null?g:v.concat(g.filter(y=>!v.includes(y))))},[f]),m=S.useRef(null),p=vl(g=>{if(d&&!n)return Ah;if(!g||g===Ah||c.current!==e||i!=null){const v=new Map;for(let y of e){if(!y)continue;if(i&&i.length>0&&!i.includes(y.id)&&y.rect.current){v.set(y.id,y.rect.current);continue}const b=y.node.current,C=b?new jf(o(b),b):null;y.rect.current=C,C&&v.set(y.id,C)}return v}return g},[e,i,n,d,o]);return S.useEffect(()=>{c.current=e},[e]),S.useEffect(()=>{d||h()},[n,d]),S.useEffect(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),S.useEffect(()=>{d||typeof s!="number"||m.current!==null||(m.current=setTimeout(()=>{h(),m.current=null},s))},[s,d,h,...a]),{droppableRects:p,measureDroppableContainers:h,measuringScheduled:i!=null};function _(){switch(u){case qr.Always:return!1;case qr.BeforeDragging:return n;default:return!n}}}function zf(e,t){return vl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function aw(e,t){return zf(e,t)}function rw(e){let{callback:t,disabled:n}=e;const a=oo(t),r=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(a)},[a,n]);return S.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function ho(e){let{callback:t,disabled:n}=e;const a=oo(t),r=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(a)},[n]);return S.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function iw(e){return new jf(Zr(e),e)}function Oh(e,t,n){t===void 0&&(t=iw);const[a,r]=S.useState(null);function i(){r(o=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=o??n)!=null?u:null}const c=t(e);return JSON.stringify(o)===JSON.stringify(c)?o:c})}const l=rw({callback(o){if(e)for(const u of o){const{type:c,target:d}=u;if(c==="childList"&&d instanceof HTMLElement&&d.contains(e)){i();break}}}}),s=ho({callback:i});return Wt(()=>{i(),e?(s==null||s.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),l==null||l.disconnect())},[e]),a}function lw(e){const t=zf(e);return gm(e,t)}const xh=[];function sw(e){const t=S.useRef(e),n=vl(a=>e?a&&a!==xh&&e&&t.current&&e.parentNode===t.current.parentNode?a:co(e):xh,[e]);return S.useEffect(()=>{t.current=e},[e]),n}function ow(e){const[t,n]=S.useState(null),a=S.useRef(e),r=S.useCallback(i=>{const l=ru(i.target);l&&n(s=>s?(s.set(l,hc(l)),new Map(s)):null)},[]);return S.useEffect(()=>{const i=a.current;if(e!==i){l(i);const s=e.map(o=>{const u=ru(o);return u?(u.addEventListener("scroll",r,{passive:!0}),[u,hc(u)]):null}).filter(o=>o!=null);n(s.length?new Map(s):null),a.current=e}return()=>{l(e),l(i)};function l(s){s.forEach(o=>{const u=ru(o);u==null||u.removeEventListener("scroll",r)})}},[r,e]),S.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,l)=>Or(i,l),Ft):wm(e):Ft,[e,t])}function Rh(e,t){t===void 0&&(t=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},t),S.useEffect(()=>{const a=e!==Ft;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?Qi(e,n.current):Ft}function uw(e){S.useEffect(()=>{if(!so)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function cw(e,t){return S.useMemo(()=>e.reduce((n,a)=>{let{eventName:r,handler:i}=a;return n[r]=l=>{i(l,t)},n},{}),[e,t])}function Tm(e){return S.useMemo(()=>e?M_(e):null,[e])}const Ch=[];function fw(e,t){t===void 0&&(t=Zr);const[n]=e,a=Tm(n?it(n):null),[r,i]=S.useState(Ch);function l(){i(()=>e.length?e.map(o=>bm(o)?a:new jf(t(o),o)):Ch)}const s=ho({callback:l});return Wt(()=>{s==null||s.disconnect(),l(),e.forEach(o=>s==null?void 0:s.observe(o))},[e]),r}function Am(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return gl(t)?t:e}function dw(e){let{measure:t}=e;const[n,a]=S.useState(null),r=S.useCallback(u=>{for(const{target:c}of u)if(gl(c)){a(d=>{const f=t(c);return d?{...d,width:f.width,height:f.height}:f});break}},[t]),i=ho({callback:r}),l=S.useCallback(u=>{const c=Am(u);i==null||i.disconnect(),c&&(i==null||i.observe(c)),a(c?t(c):null)},[t,i]),[s,o]=Us(l);return S.useMemo(()=>({nodeRef:s,rect:n,setRef:o}),[n,s,o])}const hw=[{sensor:fo,options:{}},{sensor:Nf,options:{}}],gw={current:{}},as={draggable:{measure:wh},droppable:{measure:wh,strategy:qr.WhileDragging,frequency:vc.Optimized},dragOverlay:{measure:Zr}};class ji extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const vw={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ji,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ks},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:as,measureDroppableContainers:ks,windowRect:null,measuringScheduled:!1},Om={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ks,draggableNodes:new Map,over:null,measureDroppableContainers:ks},ml=S.createContext(Om),xm=S.createContext(vw);function yw(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ji}}}function mw(e,t){switch(t.type){case Be.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Be.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Be.DragEnd:case Be.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Be.RegisterDroppable:{const{element:n}=t,{id:a}=n,r=new ji(e.droppable.containers);return r.set(a,n),{...e,droppable:{...e.droppable,containers:r}}}case Be.SetDroppableDisabled:{const{id:n,key:a,disabled:r}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const l=new ji(e.droppable.containers);return l.set(n,{...i,disabled:r}),{...e,droppable:{...e.droppable,containers:l}}}case Be.UnregisterDroppable:{const{id:n,key:a}=t,r=e.droppable.containers.get(n);if(!r||a!==r.key)return e;const i=new ji(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function pw(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:r}=S.useContext(ml),i=zs(a),l=zs(n==null?void 0:n.id);return S.useEffect(()=>{if(!t&&!a&&i&&l!=null){if(!uo(i)||document.activeElement===i.target)return;const s=r.get(l);if(!s)return;const{activatorNode:o,node:u}=s;if(!o.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[o.current,u.current]){if(!c)continue;const d=v_(c);if(d){d.focus();break}}})}},[a,t,r,l,i]),null}function Rm(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((r,i)=>i({transform:r,...a}),n):n}function bw(e){return S.useMemo(()=>({draggable:{...as.draggable,...e==null?void 0:e.draggable},droppable:{...as.droppable,...e==null?void 0:e.droppable},dragOverlay:{...as.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function _w(e){let{activeNode:t,measure:n,initialRect:a,config:r=!0}=e;const i=S.useRef(!1),{x:l,y:s}=typeof r=="boolean"?{x:r,y:r}:r;Wt(()=>{if(!l&&!s||!t){i.current=!1;return}if(i.current||!a)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const c=n(u),d=gm(c,a);if(l||(d.x=0),s||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const f=ym(u);f&&f.scrollBy({top:d.y,left:d.x})}},[t,l,s,a,n])}const go=S.createContext({...Ft,scaleX:1,scaleY:1});var Hn;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Hn||(Hn={}));const Cm=S.memo(function(t){var n,a,r,i;let{id:l,accessibility:s,autoScroll:o=!0,children:u,sensors:c=hw,collisionDetection:d=C_,measuring:f,modifiers:h,...m}=t;const p=S.useReducer(mw,void 0,yw),[_,g]=p,[v,y]=w_(),[b,C]=S.useState(Hn.Uninitialized),D=b===Hn.Initialized,{draggable:{active:w,nodes:O,translate:U},droppable:{containers:k}}=_,L=w!=null?O.get(w):null,H=S.useRef({initial:null,translated:null}),Q=S.useMemo(()=>{var et;return w!=null?{id:w,data:(et=L==null?void 0:L.data)!=null?et:gw,rect:H}:null},[w,L]),Y=S.useRef(null),[ae,A]=S.useState(null),[j,z]=S.useState(null),x=Ji(m,Object.values(m)),N=yl("DndDescribedBy",l),E=S.useMemo(()=>k.getEnabled(),[k]),T=bw(f),{droppableRects:B,measureDroppableContainers:q,measuringScheduled:$}=nw(E,{dragging:D,dependencies:[U.x,U.y],config:T.droppable}),K=ew(O,w),ue=S.useMemo(()=>j?Ms(j):null,[j]),lt=hp(),de=aw(K,T.draggable.measure);_w({activeNode:w!=null?O.get(w):null,config:lt.layoutShiftCompensation,initialRect:de,measure:T.draggable.measure});const V=Oh(K,T.draggable.measure,de),we=Oh(K?K.parentElement:null),Ce=S.useRef({activatorEvent:null,active:null,activeNode:K,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),gt=k.getNodeFor((n=Ce.current.over)==null?void 0:n.id),vt=dw({measure:T.dragOverlay.measure}),Nt=(a=vt.nodeRef.current)!=null?a:K,tn=D?(r=vt.rect)!=null?r:V:null,bl=!!(vt.nodeRef.current&&vt.rect),tt=lw(bl?null:V),Ut=Tm(Nt?it(Nt):null),De=sw(D?gt??K:null),zt=fw(De),We=Rm(h,{transform:{x:U.x-tt.x,y:U.y-tt.y,scaleX:1,scaleY:1},activatorEvent:j,active:Q,activeNodeRect:V,containerNodeRect:we,draggingNodeRect:tn,over:Ce.current.over,overlayNodeRect:vt.rect,scrollableAncestors:De,scrollableAncestorRects:zt,windowRect:Ut}),Fe=ue?Or(ue,U):null,Ha=ow(De),Pr=Rh(Ha),sp=Rh(Ha,[V]),$a=Or(We,Pr),Ga=tn?N_(tn,We):null,Wr=Q&&Ga?d({active:Q,collisionRect:Ga,droppableRects:B,droppableContainers:E,pointerCoordinates:Fe}):null,Hf=dm(Wr,"id"),[Un,$f]=S.useState(null),op=bl?We:Or(We,sp),up=D_(op,(i=Un==null?void 0:Un.rect)!=null?i:null,V),po=S.useRef(null),Gf=S.useCallback((et,yt)=>{let{sensor:mt,options:zn}=yt;if(Y.current==null)return;const Mt=O.get(Y.current);if(!Mt)return;const pt=et.nativeEvent,nn=new mt({active:Y.current,activeNode:Mt,event:pt,options:zn,context:Ce,onAbort(Ve){if(!O.get(Ve))return;const{onDragAbort:an}=x.current,fn={id:Ve};an==null||an(fn),v({type:"onDragAbort",event:fn})},onPending(Ve,Mn,an,fn){if(!O.get(Ve))return;const{onDragPending:ei}=x.current,kn={id:Ve,constraint:Mn,initialCoordinates:an,offset:fn};ei==null||ei(kn),v({type:"onDragPending",event:kn})},onStart(Ve){const Mn=Y.current;if(Mn==null)return;const an=O.get(Mn);if(!an)return;const{onDragStart:fn}=x.current,Fr={activatorEvent:pt,active:{id:Mn,data:an.data,rect:H}};ir.unstable_batchedUpdates(()=>{fn==null||fn(Fr),C(Hn.Initializing),g({type:Be.DragStart,initialCoordinates:Ve,active:Mn}),v({type:"onDragStart",event:Fr}),A(po.current),z(pt)})},onMove(Ve){g({type:Be.DragMove,coordinates:Ve})},onEnd:Ka(Be.DragEnd),onCancel:Ka(Be.DragCancel)});po.current=nn;function Ka(Ve){return async function(){const{active:an,collisions:fn,over:Fr,scrollAdjustedTranslate:ei}=Ce.current;let kn=null;if(an&&ei){const{cancelDrop:ti}=x.current;kn={activatorEvent:pt,active:an,collisions:fn,delta:ei,over:Fr},Ve===Be.DragEnd&&typeof ti=="function"&&await Promise.resolve(ti(kn))&&(Ve=Be.DragCancel)}Y.current=null,ir.unstable_batchedUpdates(()=>{g({type:Ve}),C(Hn.Uninitialized),$f(null),A(null),z(null),po.current=null;const ti=Ve===Be.DragEnd?"onDragEnd":"onDragCancel";if(kn){const bo=x.current[ti];bo==null||bo(kn),v({type:ti,event:kn})}})}}},[O]),cp=S.useCallback((et,yt)=>(mt,zn)=>{const Mt=mt.nativeEvent,pt=O.get(zn);if(Y.current!==null||!pt||Mt.dndKit||Mt.defaultPrevented)return;const nn={active:pt};et(mt,yt.options,nn)===!0&&(Mt.dndKit={capturedBy:yt.sensor},Y.current=zn,Gf(mt,yt))},[O,Gf]),Kf=tw(c,cp);uw(c),Wt(()=>{V&&b===Hn.Initializing&&C(Hn.Initialized)},[V,b]),S.useEffect(()=>{const{onDragMove:et}=x.current,{active:yt,activatorEvent:mt,collisions:zn,over:Mt}=Ce.current;if(!yt||!mt)return;const pt={active:yt,activatorEvent:mt,collisions:zn,delta:{x:$a.x,y:$a.y},over:Mt};ir.unstable_batchedUpdates(()=>{et==null||et(pt),v({type:"onDragMove",event:pt})})},[$a.x,$a.y]),S.useEffect(()=>{const{active:et,activatorEvent:yt,collisions:mt,droppableContainers:zn,scrollAdjustedTranslate:Mt}=Ce.current;if(!et||Y.current==null||!yt||!Mt)return;const{onDragOver:pt}=x.current,nn=zn.get(Hf),Ka=nn&&nn.rect.current?{id:nn.id,rect:nn.rect.current,data:nn.data,disabled:nn.disabled}:null,Ve={active:et,activatorEvent:yt,collisions:mt,delta:{x:Mt.x,y:Mt.y},over:Ka};ir.unstable_batchedUpdates(()=>{$f(Ka),pt==null||pt(Ve),v({type:"onDragOver",event:Ve})})},[Hf]),Wt(()=>{Ce.current={activatorEvent:j,active:Q,activeNode:K,collisionRect:Ga,collisions:Wr,droppableRects:B,draggableNodes:O,draggingNode:Nt,draggingNodeRect:tn,droppableContainers:k,over:Un,scrollableAncestors:De,scrollAdjustedTranslate:$a},H.current={initial:tn,translated:Ga}},[Q,K,Wr,Ga,O,Nt,tn,B,k,Un,De,$a]),P_({...lt,delta:U,draggingRect:Ga,pointerCoordinates:Fe,scrollableAncestors:De,scrollableAncestorRects:zt});const fp=S.useMemo(()=>({active:Q,activeNode:K,activeNodeRect:V,activatorEvent:j,collisions:Wr,containerNodeRect:we,dragOverlay:vt,draggableNodes:O,droppableContainers:k,droppableRects:B,over:Un,measureDroppableContainers:q,scrollableAncestors:De,scrollableAncestorRects:zt,measuringConfiguration:T,measuringScheduled:$,windowRect:Ut}),[Q,K,V,j,Wr,we,vt,O,k,B,Un,q,De,zt,T,$,Ut]),dp=S.useMemo(()=>({activatorEvent:j,activators:Kf,active:Q,activeNodeRect:V,ariaDescribedById:{draggable:N},dispatch:g,draggableNodes:O,over:Un,measureDroppableContainers:q}),[j,Kf,Q,V,g,N,O,Un,q]);return pe.createElement(om.Provider,{value:y},pe.createElement(ml.Provider,{value:dp},pe.createElement(xm.Provider,{value:fp},pe.createElement(go.Provider,{value:up},u)),pe.createElement(pw,{disabled:(s==null?void 0:s.restoreFocus)===!1})),pe.createElement(T_,{...s,hiddenTextDescribedById:N}));function hp(){const et=(ae==null?void 0:ae.autoScrollEnabled)===!1,yt=typeof o=="object"?o.enabled===!1:o===!1,mt=D&&!et&&!yt;return typeof o=="object"?{...o,enabled:mt}:{enabled:mt}}}),ww=S.createContext(null),Dh="button",Sw="Draggable";function Ew(e){let{id:t,data:n,disabled:a=!1,attributes:r}=e;const i=yl(Sw),{activators:l,activatorEvent:s,active:o,activeNodeRect:u,ariaDescribedById:c,draggableNodes:d,over:f}=S.useContext(ml),{role:h=Dh,roleDescription:m="draggable",tabIndex:p=0}=r??{},_=(o==null?void 0:o.id)===t,g=S.useContext(_?go:ww),[v,y]=Us(),[b,C]=Us(),D=cw(l,t),w=Ji(n);Wt(()=>(d.set(t,{id:t,key:i,node:v,activatorNode:b,data:w}),()=>{const U=d.get(t);U&&U.key===i&&d.delete(t)}),[d,t]);const O=S.useMemo(()=>({role:h,tabIndex:p,"aria-disabled":a,"aria-pressed":_&&h===Dh?!0:void 0,"aria-roledescription":m,"aria-describedby":c.draggable}),[a,h,p,_,m,c.draggable]);return{active:o,activatorEvent:s,activeNodeRect:u,attributes:O,isDragging:_,listeners:a?void 0:D,node:v,over:f,setNodeRef:y,setActivatorNodeRef:C,transform:g}}function Dm(){return S.useContext(xm)}const Tw="Droppable",Aw={timeout:25};function Ow(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:r}=e;const i=yl(Tw),{active:l,dispatch:s,over:o,measureDroppableContainers:u}=S.useContext(ml),c=S.useRef({disabled:n}),d=S.useRef(!1),f=S.useRef(null),h=S.useRef(null),{disabled:m,updateMeasurementsFor:p,timeout:_}={...Aw,...r},g=Ji(p??a),v=S.useCallback(()=>{if(!d.current){d.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(g.current)?g.current:[g.current]),h.current=null},_)},[_]),y=ho({callback:v,disabled:m||!l}),b=S.useCallback((O,U)=>{y&&(U&&(y.unobserve(U),d.current=!1),O&&y.observe(O))},[y]),[C,D]=Us(b),w=Ji(t);return S.useEffect(()=>{!y||!C.current||(y.disconnect(),d.current=!1,y.observe(C.current))},[C,y]),S.useEffect(()=>(s({type:Be.RegisterDroppable,element:{id:a,key:i,disabled:n,node:C,rect:f,data:w}}),()=>s({type:Be.UnregisterDroppable,key:i,id:a})),[a]),S.useEffect(()=>{n!==c.current.disabled&&(s({type:Be.SetDroppableDisabled,id:a,key:i,disabled:n}),c.current.disabled=n)},[a,i,n,s]),{active:l,rect:f,isOver:(o==null?void 0:o.id)===a,node:C,over:o,setNodeRef:D}}function xw(e){let{animation:t,children:n}=e;const[a,r]=S.useState(null),[i,l]=S.useState(null),s=zs(n);return!n&&!a&&s&&r(s),Wt(()=>{if(!i)return;const o=a==null?void 0:a.key,u=a==null?void 0:a.props.id;if(o==null||u==null){r(null);return}Promise.resolve(t(u,i)).then(()=>{r(null)})},[t,a,i]),pe.createElement(pe.Fragment,null,n,a?S.cloneElement(a,{ref:l}):null)}const Rw={x:0,y:0,scaleX:1,scaleY:1};function Cw(e){let{children:t}=e;return pe.createElement(ml.Provider,{value:Om},pe.createElement(go.Provider,{value:Rw},t))}const Dw={position:"fixed",touchAction:"none"},jw=e=>uo(e)?"transform 250ms ease":void 0,Nw=S.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:r,children:i,className:l,rect:s,style:o,transform:u,transition:c=jw}=e;if(!s)return null;const d=r?u:{...u,scaleX:1,scaleY:1},f={...Dw,width:s.width,height:s.height,top:s.top,left:s.left,transform:za.Transform.toString(d),transformOrigin:r&&a?A_(a,s):void 0,transition:typeof c=="function"?c(a):c,...o};return pe.createElement(n,{className:l,style:f,ref:t},i)}),Uw=e=>t=>{let{active:n,dragOverlay:a}=t;const r={},{styles:i,className:l}=e;if(i!=null&&i.active)for(const[s,o]of Object.entries(i.active))o!==void 0&&(r[s]=n.node.style.getPropertyValue(s),n.node.style.setProperty(s,o));if(i!=null&&i.dragOverlay)for(const[s,o]of Object.entries(i.dragOverlay))o!==void 0&&a.node.style.setProperty(s,o);return l!=null&&l.active&&n.node.classList.add(l.active),l!=null&&l.dragOverlay&&a.node.classList.add(l.dragOverlay),function(){for(const[o,u]of Object.entries(r))n.node.style.setProperty(o,u);l!=null&&l.active&&n.node.classList.remove(l.active)}},zw=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:za.Transform.toString(t)},{transform:za.Transform.toString(n)}]},Mw={duration:250,easing:"ease",keyframes:zw,sideEffects:Uw({styles:{active:{opacity:"0"}}})};function kw(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:r}=e;return oo((i,l)=>{if(t===null)return;const s=n.get(i);if(!s)return;const o=s.node.current;if(!o)return;const u=Am(l);if(!u)return;const{transform:c}=it(l).getComputedStyle(l),d=vm(c);if(!d)return;const f=typeof t=="function"?t:Bw(t);return Sm(o,r.draggable.measure),f({active:{id:i,data:s.data,node:o,rect:r.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:l,rect:r.dragOverlay.measure(u)},droppableContainers:a,measuringConfiguration:r,transform:d})})}function Bw(e){const{duration:t,easing:n,sideEffects:a,keyframes:r}={...Mw,...e};return i=>{let{active:l,dragOverlay:s,transform:o,...u}=i;if(!t)return;const c={x:s.rect.left-l.rect.left,y:s.rect.top-l.rect.top},d={scaleX:o.scaleX!==1?l.rect.width*o.scaleX/s.rect.width:1,scaleY:o.scaleY!==1?l.rect.height*o.scaleY/s.rect.height:1},f={x:o.x-c.x,y:o.y-c.y,...d},h=r({...u,active:l,dragOverlay:s,transform:{initial:o,final:f}}),[m]=h,p=h[h.length-1];if(JSON.stringify(m)===JSON.stringify(p))return;const _=a==null?void 0:a({active:l,dragOverlay:s,...u}),g=s.node.animate(h,{duration:t,easing:n,fill:"forwards"});return new Promise(v=>{g.onfinish=()=>{_==null||_(),v()}})}}let jh=0;function Lw(e){return S.useMemo(()=>{if(e!=null)return jh++,jh},[e])}const jm=pe.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:r,transition:i,modifiers:l,wrapperElement:s="div",className:o,zIndex:u=999}=e;const{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:h,draggableNodes:m,droppableContainers:p,dragOverlay:_,over:g,measuringConfiguration:v,scrollableAncestors:y,scrollableAncestorRects:b,windowRect:C}=Dm(),D=S.useContext(go),w=Lw(d==null?void 0:d.id),O=Rm(l,{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:h,draggingNodeRect:_.rect,over:g,overlayNodeRect:_.rect,scrollableAncestors:y,scrollableAncestorRects:b,transform:D,windowRect:C}),U=zf(f),k=kw({config:a,draggableNodes:m,droppableContainers:p,measuringConfiguration:v}),L=U?_.setRef:void 0;return pe.createElement(Cw,null,pe.createElement(xw,{animation:k},d&&w?pe.createElement(Nw,{key:w,id:d.id,ref:L,as:s,activatorEvent:c,adjustScale:t,className:o,transition:i,rect:U,style:{zIndex:u,...r},transform:O},n):null))});function Nm(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function qw(e,t){return e.reduce((n,a,r)=>{const i=t.get(a);return i&&(n[r]=i),n},Array(e.length))}function kl(e){return e!==null&&e>=0}function Hw(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function $w(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Um=e=>{let{rects:t,activeIndex:n,overIndex:a,index:r}=e;const i=Nm(t,a,n),l=t[r],s=i[r];return!s||!l?null:{x:s.left-l.left,y:s.top-l.top,scaleX:s.width/l.width,scaleY:s.height/l.height}},Bl={scaleX:1,scaleY:1},zm=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:r,rects:i,overIndex:l}=e;const s=(t=i[n])!=null?t:a;if(!s)return null;if(r===n){const u=i[l];return u?{x:0,y:n<l?u.top+u.height-(s.top+s.height):u.top-s.top,...Bl}:null}const o=Gw(i,r,n);return r>n&&r<=l?{x:0,y:-s.height-o,...Bl}:r<n&&r>=l?{x:0,y:s.height+o,...Bl}:{x:0,y:0,...Bl}};function Gw(e,t,n){const a=e[t],r=e[t-1],i=e[t+1];return a?n<t?r?a.top-(r.top+r.height):i?i.top-(a.top+a.height):0:i?i.top-(a.top+a.height):r?a.top-(r.top+r.height):0:0}const Mm="Sortable",km=pe.createContext({activeIndex:-1,containerId:Mm,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Um,disabled:{draggable:!1,droppable:!1}});function Bm(e){let{children:t,id:n,items:a,strategy:r=Um,disabled:i=!1}=e;const{active:l,dragOverlay:s,droppableRects:o,over:u,measureDroppableContainers:c}=Dm(),d=yl(Mm,n),f=s.rect!==null,h=S.useMemo(()=>a.map(D=>typeof D=="object"&&"id"in D?D.id:D),[a]),m=l!=null,p=l?h.indexOf(l.id):-1,_=u?h.indexOf(u.id):-1,g=S.useRef(h),v=!Hw(h,g.current),y=_!==-1&&p===-1||v,b=$w(i);Wt(()=>{v&&m&&c(h)},[v,h,m,c]),S.useEffect(()=>{g.current=h},[h]);const C=S.useMemo(()=>({activeIndex:p,containerId:d,disabled:b,disableTransforms:y,items:h,overIndex:_,useDragOverlay:f,sortedRects:qw(h,o),strategy:r}),[p,d,b.draggable,b.droppable,y,h,_,o,f,r]);return pe.createElement(km.Provider,{value:C},t)}const Kw=e=>{let{id:t,items:n,activeIndex:a,overIndex:r}=e;return Nm(n,a,r).indexOf(t)},Vw=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:r,items:i,newIndex:l,previousItems:s,previousContainerId:o,transition:u}=e;return!u||!a||s!==i&&r===l?!1:n?!0:l!==r&&t===o},Yw={duration:200,easing:"ease"},Lm="transform",Xw=za.Transition.toString({property:Lm,duration:0,easing:"linear"}),Iw={roleDescription:"sortable"};function Jw(e){let{disabled:t,index:n,node:a,rect:r}=e;const[i,l]=S.useState(null),s=S.useRef(n);return Wt(()=>{if(!t&&n!==s.current&&a.current){const o=r.current;if(o){const u=Zr(a.current,{ignoreTransform:!0}),c={x:o.left-u.left,y:o.top-u.top,scaleX:o.width/u.width,scaleY:o.height/u.height};(c.x||c.y)&&l(c)}}n!==s.current&&(s.current=n)},[t,n,a,r]),S.useEffect(()=>{i&&l(null)},[i]),i}function qm(e){let{animateLayoutChanges:t=Vw,attributes:n,disabled:a,data:r,getNewIndex:i=Kw,id:l,strategy:s,resizeObserverConfig:o,transition:u=Yw}=e;const{items:c,containerId:d,activeIndex:f,disabled:h,disableTransforms:m,sortedRects:p,overIndex:_,useDragOverlay:g,strategy:v}=S.useContext(km),y=Qw(a,h),b=c.indexOf(l),C=S.useMemo(()=>({sortable:{containerId:d,index:b,items:c},...r}),[d,r,b,c]),D=S.useMemo(()=>c.slice(c.indexOf(l)),[c,l]),{rect:w,node:O,isOver:U,setNodeRef:k}=Ow({id:l,data:C,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...o}}),{active:L,activatorEvent:H,activeNodeRect:Q,attributes:Y,setNodeRef:ae,listeners:A,isDragging:j,over:z,setActivatorNodeRef:x,transform:N}=Ew({id:l,data:C,attributes:{...Iw,...n},disabled:y.draggable}),E=f_(k,ae),T=!!L,B=T&&!m&&kl(f)&&kl(_),q=!g&&j,$=q&&B?N:null,ue=B?$??(s??v)({rects:p,activeNodeRect:Q,activeIndex:f,overIndex:_,index:b}):null,lt=kl(f)&&kl(_)?i({id:l,items:c,activeIndex:f,overIndex:_}):b,de=L==null?void 0:L.id,V=S.useRef({activeId:de,items:c,newIndex:lt,containerId:d}),we=c!==V.current.items,Ce=t({active:L,containerId:d,isDragging:j,isSorting:T,id:l,index:b,items:c,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:u,wasDragging:V.current.activeId!=null}),gt=Jw({disabled:!Ce,index:b,node:O,rect:w});return S.useEffect(()=>{T&&V.current.newIndex!==lt&&(V.current.newIndex=lt),d!==V.current.containerId&&(V.current.containerId=d),c!==V.current.items&&(V.current.items=c)},[T,lt,d,c]),S.useEffect(()=>{if(de===V.current.activeId)return;if(de!=null&&V.current.activeId==null){V.current.activeId=de;return}const Nt=setTimeout(()=>{V.current.activeId=de},50);return()=>clearTimeout(Nt)},[de]),{active:L,activeIndex:f,attributes:Y,data:C,rect:w,index:b,newIndex:lt,items:c,isOver:U,isSorting:T,isDragging:j,listeners:A,node:O,overIndex:_,over:z,setNodeRef:E,setActivatorNodeRef:x,setDroppableNodeRef:k,setDraggableNodeRef:ae,transform:gt??ue,transition:vt()};function vt(){if(gt||we&&V.current.newIndex===b)return Xw;if(!(q&&!uo(H)||!u)&&(T||Ce))return za.Transition.toString({...u,property:Lm})}}function Qw(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function Ls(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Zw=[te.Down,te.Right,te.Up,te.Left],Pw=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:r,droppableContainers:i,over:l,scrollableAncestors:s}}=t;if(Zw.includes(e.code)){if(e.preventDefault(),!n||!a)return;const o=[];i.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const f=r.get(d.id);if(f)switch(e.code){case te.Down:a.top<f.top&&o.push(d);break;case te.Up:a.top>f.top&&o.push(d);break;case te.Left:a.left>f.left&&o.push(d);break;case te.Right:a.left<f.left&&o.push(d);break}});const u=x_({collisionRect:a,droppableRects:r,droppableContainers:o});let c=dm(u,"id");if(c===(l==null?void 0:l.id)&&u.length>1&&(c=u[1].id),c!=null){const d=i.get(n.id),f=i.get(c),h=f?r.get(f.id):null,m=f==null?void 0:f.node.current;if(m&&h&&d&&f){const _=co(m).some((D,w)=>s[w]!==D),g=Hm(d,f),v=Ww(d,f),y=_||!g?{x:0,y:0}:{x:v?a.width-h.width:0,y:v?a.height-h.height:0},b={x:h.left,y:h.top};return y.x&&y.y?b:Qi(b,y)}}}};function Hm(e,t){return!Ls(e)||!Ls(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Ww(e,t){return!Ls(e)||!Ls(t)||!Hm(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function $m({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:r,parentBlock:i,rootSetBlocks:l,draggingChildIds:s=[],activeId:o,overId:u,onSaveHistoryOnBlur:c}){const{attributes:d,listeners:f,setNodeRef:h,transform:m,transition:p,isDragging:_}=qm({id:e.id}),g=e.id===o,v=e.id===u&&o&&o!==u,y={cursor:"grab",opacity:g?.4:1,borderTop:v?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"};return R.jsx("div",{ref:h,style:y,children:R.jsx(Gm,{block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:r,dragHandleProps:{...d,...f},parentBlock:i,rootSetBlocks:l,draggingChildIds:s,activeId:o,overId:u,onSaveHistoryOnBlur:c})})}function Gm({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:r,dragHandleProps:i,parentBlock:l,rootSetBlocks:s,draggingChildIds:o=[],activeId:u,overId:c,onSaveHistoryOnBlur:d}){const f=S.useRef(null),h=S.useRef(!1),m=S.useRef(e.content);S.useEffect(()=>{if(a===e.id&&f.current){f.current.focus();const w=f.current.value.length;f.current.setSelectionRange(w,w)}},[a,e.id]),S.useEffect(()=>{f.current&&(f.current.style.height="auto",f.current.style.height=f.current.scrollHeight+"px")},[e.content]);const p=(w,O,U)=>w.map(k=>{if(k.id===O){const L=U(k);return{...L,children:Array.isArray(L.children)?L.children:[]}}return Array.isArray(k.children)&&k.children.length>0?{...k,children:p(k.children,O,U)}:k}),_=w=>{n(O=>p(O,e.id,U=>({...U,content:w})))},g=w=>{n(O=>p(O,e.id,U=>({...U,children:typeof w=="function"?w(U.children):w})))},v=()=>{n(w=>p(w,e.id,O=>{const U=!O.isOpen;if(U&&(!Array.isArray(O.children)||O.children.length===0)){const k={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};return{...O,isOpen:U,children:[k]}}return{...O,isOpen:U,children:Array.isArray(O.children)?O.children:[]}}))},y=()=>{const w=t.findIndex(U=>U.id===e.id);if(w<=0)return;const O=t[w-1];n(U=>{const k=[...U];k.splice(w,1);const L={...O,children:[...Array.isArray(O.children)?O.children:[],e],isOpen:!0};return k[w-1]=L,k})},b=()=>{!l||!s||s(w=>{const O=(L,H,Q)=>{const Y=[];for(let ae=0;ae<L.length;ae++){const A=L[ae];if(A.id===H){const j=A.children.filter(x=>x.id!==Q.id),z={...A,children:j};Y.push(z),Y.push(Q)}else if(Array.isArray(A.children)&&A.children.length>0){const j=O(A.children,H,Q);j!==A.children?Y.push({...A,children:j}):Y.push(A)}else Y.push(A)}return Y},U=L=>L.map(H=>{const Q=Array.isArray(H.children)&&H.children.length>0;return!Q&&H.isOpen?{...H,isOpen:!1}:Q?{...H,children:U(H.children)}:H}),k=O(w,l.id,e);return U(k)})},C=w=>{const O=[],U=k=>{for(const L of k)O.push(L),L.isOpen&&Array.isArray(L.children)&&L.children.length>0&&U(L.children)};return U(w),O},D=w=>{if(w.key==="Enter"){if(w.shiftKey)return;{if(h.current){w.preventDefault(),w.stopPropagation();return}w.preventDefault(),w.stopPropagation(),h.current=!0;const O=w.target.selectionStart,U={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};O===0?(n(k=>{const L=k.findIndex(Q=>Q.id===e.id);if(L===-1)return k;const H=[...k];return H.splice(L,0,U),H}),setTimeout(()=>{r(e.id),setTimeout(()=>{h.current=!1},100)},0)):(n(k=>{const L=k.findIndex(Q=>Q.id===e.id);if(L===-1)return k;const H=[...k];return H.splice(L+1,0,U),H}),setTimeout(()=>{r(U.id),setTimeout(()=>{h.current=!1},100)},0))}}else if(w.key==="Tab"&&w.shiftKey)w.preventDefault(),w.stopPropagation(),l&&s&&b();else if(w.key==="Tab"&&!w.shiftKey)w.preventDefault(),w.stopPropagation(),y();else if(w.key==="Backspace"){const O=w.target.selectionStart;if(e.content===""||O===0){const H=(()=>{if(s){let ae=[];return s(A=>(ae=A,A)),ae}return t})(),Q=C(H),Y=Q.findIndex(ae=>ae.id===e.id);if(Y>0){w.preventDefault(),w.stopPropagation();const ae=Q[Y-1],A=(z,x)=>z.filter(N=>N.id!==x).map(N=>Array.isArray(N.children)&&N.children.length>0?{...N,children:A(N.children,x)}:N),j=z=>z.map(x=>{const N=Array.isArray(x.children)&&x.children.length>0;return!N&&x.isOpen?{...x,isOpen:!1}:N?{...x,children:j(x.children)}:x});s?s(z=>{const x=A(z,e.id);return j(x)}):n(z=>{const x=A(z,e.id);return j(x)}),setTimeout(()=>{r(ae.id)},0)}}}else if(w.key==="ArrowUp"&&!w.shiftKey){w.preventDefault(),w.stopPropagation();const U=(()=>{if(s){let H=[];return s(Q=>(H=Q,Q)),H}return t})(),k=C(U),L=k.findIndex(H=>H.id===e.id);L>0&&r(k[L-1].id)}else if(w.key==="ArrowDown"&&!w.shiftKey){w.preventDefault(),w.stopPropagation();const U=(()=>{if(s){let H=[];return s(Q=>(H=Q,Q)),H}return t})(),k=C(U),L=k.findIndex(H=>H.id===e.id);L<k.length-1&&r(k[L+1].id)}};return R.jsxs("div",{className:"notion-block",children:[i&&R.jsx("div",{className:"notion-drag-handle",...i,title:" ",children:""}),R.jsx("div",{className:"notion-block-controls",children:R.jsx("button",{className:"block-type-button",onClick:v,title:": /",style:{transform:e.isOpen?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})}),R.jsx("div",{className:"notion-block-content",children:R.jsx("textarea",{ref:f,value:e.content,onChange:w=>_(w.target.value),onKeyDown:D,onFocus:()=>{r(e.id),m.current=e.content},onBlur:()=>{d&&d(e.id,m.current,e.content)},placeholder:"",className:"notion-block-input",rows:1})}),e.isOpen&&Array.isArray(e.children)&&e.children.length>0&&R.jsx("div",{className:"notion-block-children",children:e.children.map(w=>R.jsx($m,{block:w,blocks:e.children,setBlocks:g,focusedBlockId:a,setFocusedBlockId:r,parentBlock:e,rootSetBlocks:s||n,draggingChildIds:o,activeId:u,overId:c,onSaveHistoryOnBlur:d},w.id))})]})}function Fw({blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,currentPageId:r,currentPageName:i,onPageRename:l,onShowHistory:s,onOpenViewer:o,onSaveHistoryOnBlur:u,onManualSaveHistory:c}){const[d,f]=S.useState(null),[h,m]=S.useState(null),[p,_]=S.useState(!1),[g,v]=S.useState(""),y=pe.useRef(null),[b,C]=S.useState(!1),D=um(dc(fo,{activationConstraint:{distance:3}}),dc(Nf,{coordinateGetter:Pw})),w=T=>T.map(B=>{const q=Array.isArray(B.children)&&B.children.length>0;return!q&&B.isOpen?{...B,isOpen:!1}:q?{...B,children:w(B.children)}:B});S.useEffect(()=>{const T=w(e);JSON.stringify(T)!==JSON.stringify(e)&&t(T)},[e]),S.useEffect(()=>{p&&y.current&&(y.current.focus(),y.current.select())},[p]);const O=()=>{v(i||"Page"),_(!0)},U=()=>{g.trim()&&r&&l(r,g.trim()),_(!1)},k=()=>{_(!1),v("")},L=async()=>{if(!c)return;C(!0);const T=await c();C(!1),T&&alert("   .")};S.useEffect(()=>{const T=B=>{(B.ctrlKey||B.metaKey)&&B.key==="s"&&(B.preventDefault(),L())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[c]);const H=T=>{const B=[],q=$=>{for(const K of $)B.push(K),K.isOpen&&Array.isArray(K.children)&&K.children.length>0&&q(K.children)};return q(T),B},Q=T=>{const B=[],q=$=>{if(Array.isArray($.children)&&$.children.length>0)for(const K of $.children)B.push(K.id),q(K)};return q(T),B},Y=T=>{const{active:B}=T,$=H(e).find(K=>K.id===B.id);f($)},ae=T=>{const{over:B}=T;m((B==null?void 0:B.id)||null)},A=pe.useMemo(()=>d?Q(d):[],[d]),j=T=>{const{active:B,over:q}=T;if(f(null),m(null),!q||B.id===q.id)return;const $=H(e),K=$.find(tt=>tt.id===B.id),ue=$.find(tt=>tt.id===q.id);if(!K||!ue||Q(K).includes(q.id))return;const de=JSON.parse(JSON.stringify(K)),V=(tt,Ut)=>tt.filter(De=>De.id!==Ut).map(De=>({...De,children:Array.isArray(De.children)?V(De.children,Ut):[]})),we=(tt,Ut,De)=>{let zt=!1;const We=[];for(const Fe of tt)if(We.push(Fe),Fe.id===Ut&&(We.push(De),zt=!0),Array.isArray(Fe.children)&&Fe.children.length>0){const{newChildren:Ha,wasInserted:Pr}=Ce(Fe.children,Ut,De);Pr&&(We[We.length-1]={...Fe,children:Ha},zt=!0)}return{newTree:We,inserted:zt}},Ce=(tt,Ut,De)=>{let zt=!1;const We=[];for(const Fe of tt)if(We.push(Fe),Fe.id===Ut&&(We.push(De),zt=!0),Array.isArray(Fe.children)&&Fe.children.length>0){const{newChildren:Ha,wasInserted:Pr}=Ce(Fe.children,Ut,De);Pr&&(We[We.length-1]={...Fe,children:Ha},zt=!0)}return{newChildren:We,wasInserted:zt}};let gt=V(e,K.id);const vt=gt.length>0&&gt[0].id===ue.id;let Nt,tn=!1;if(vt)Nt=[de,...gt],tn=!0;else{const tt=we(gt,ue.id,de);Nt=tt.newTree,tn=tt.inserted}if(!tn){console.warn("Failed to insert block, keeping original state");return}const bl=w(Nt);t(bl)},z=H(e).filter(T=>!A.includes(T.id)).map(T=>T.id),x=T=>{const B=q=>q.map($=>({...$,isOpen:T,children:Array.isArray($.children)?B($.children):[]}));t(B(e))},N=T=>{for(const B of T)if(!B.isOpen&&Array.isArray(B.children)&&B.children.length>0||Array.isArray(B.children)&&B.children.length>0&&!N(B.children))return!1;return!0},E=N(e);return R.jsxs("div",{className:"key-thoughts-section section-block",children:[R.jsxs("div",{className:"section-header",children:[p?R.jsx("input",{ref:y,type:"text",className:"section-title-input",value:g,onChange:T=>v(T.target.value),onKeyDown:T=>{T.key==="Enter"?U():T.key==="Escape"&&k()},onBlur:U}):R.jsx("h3",{className:"section-title editable-title",onClick:O,title:"   ",children:i||"Page"}),R.jsxs("div",{style:{display:"flex",gap:"8px"},children:[R.jsx("button",{className:"toggle-all-button",onClick:L,disabled:b,title:"   (Ctrl+S)",children:b?"  ...":"  "}),R.jsx("button",{className:"toggle-all-button",onClick:()=>o&&o(),title:" ",children:" "}),R.jsx("button",{className:"toggle-all-button",onClick:()=>s&&s(),title:"  ",children:" "}),R.jsx("button",{className:"toggle-all-button",onClick:()=>x(!E),title:E?" ":" ",children:E?" ":" "})]})]}),R.jsx("div",{className:"key-thoughts-content notion-editor",children:R.jsxs(Cm,{sensors:D,collisionDetection:hm,onDragStart:Y,onDragOver:ae,onDragEnd:j,measuring:{droppable:{strategy:qr.Always}},children:[R.jsx(Bm,{items:z,strategy:zm,children:e.map(T=>R.jsx($m,{block:T,blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,rootSetBlocks:t,draggingChildIds:A,activeId:d==null?void 0:d.id,overId:h,onSaveHistoryOnBlur:u},T.id))}),R.jsx(jm,{children:d?R.jsx("div",{className:"drag-overlay-block",children:R.jsx(Gm,{block:d,blocks:e,setBlocks:()=>{},focusedBlockId:null,setFocusedBlockId:()=>{},dragHandleProps:{},parentBlock:null,rootSetBlocks:()=>{},draggingChildIds:[]})}):null})]})})]})}function Km(e,t=0){return Array.isArray(e)?e.map((n,a)=>R.jsxs("div",{style:{marginLeft:`${t*16}px`,marginBottom:"4px"},children:[R.jsxs("div",{children:[n.type==="toggle"?" ":"",n.content||"( )"]}),n.children&&n.children.length>0&&Km(n.children,t+1)]},a)):null}function eS({showKeyThoughtsHistory:e,onClose:t,keyThoughtsHistory:n,onRestoreVersion:a}){return e?R.jsx("div",{className:"modal-overlay",onClick:t,children:R.jsxs("div",{className:"modal-content",onClick:r=>r.stopPropagation(),style:{maxWidth:"800px",maxHeight:"80vh"},children:[R.jsxs("div",{className:"modal-header",children:[R.jsx("h2",{children:"    "}),R.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),R.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:n.length===0?R.jsx("p",{style:{textAlign:"center",color:"var(--color-text-tertiary)",padding:"20px"},children:"  ."}):R.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:n.map(r=>R.jsxs("div",{style:{border:"1px solid var(--color-border-medium)",borderRadius:"var(--border-radius-xl)",padding:"16px",backgroundColor:"var(--color-bg-input)"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[R.jsxs("div",{children:[R.jsx("div",{style:{fontWeight:"bold",fontSize:"14px",color:"var(--color-text-primary)"},children:new Date(r.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Seoul"})}),r.description&&R.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-secondary)",marginTop:"4px"},children:r.description})]}),R.jsx("button",{onClick:()=>a(r.id),style:{padding:"6px 12px",backgroundColor:"var(--color-success)",color:"white",border:"none",borderRadius:"var(--border-radius-md)",cursor:"pointer",fontSize:"12px"},children:""})]}),R.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-secondary)",maxHeight:"100px",overflowY:"auto",backgroundColor:"var(--color-bg-secondary)",padding:"8px",borderRadius:"var(--border-radius-md)",whiteSpace:"pre-wrap"},children:r.action==="manual_snapshot"&&Array.isArray(r.content_after)?Km(r.content_after,0):r.content_after?R.jsx("div",{children:r.content_after}):"( )"})]},r.id))})})]})}):null}function tS({authLoading:e,session:t,handleGoogleLogin:n}){return e?R.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:R.jsxs("div",{style:{textAlign:"center"},children:[R.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),R.jsx("div",{children:" ..."})]})}):t?null:R.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:R.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[R.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" KeyThoughts"}),R.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:" "}),R.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[R.jsx("span",{children:""}),"Google "]})]})})}function nS({onToggleSidebar:e,currentProjectId:t,currentProjectName:n,onProjectRename:a,sidebarOpen:r}){const[i,l]=S.useState(!1),[s,o]=S.useState(""),u=S.useRef(null);S.useEffect(()=>{i&&u.current&&(u.current.focus(),u.current.select())},[i]);const c=()=>{o(n||"My Project"),l(!0)},d=()=>{s.trim()&&t&&a(t,s.trim()),l(!1)},f=()=>{l(!1),o("")};return R.jsxs(R.Fragment,{children:[!r&&R.jsx("button",{onClick:e,className:"index-button-fixed",title:" ",children:""}),R.jsx("div",{className:"header-fixed",children:R.jsx("div",{className:"settings-bar",children:i?R.jsx("input",{ref:u,type:"text",className:"header-title-input",value:s,onChange:h=>o(h.target.value),onKeyDown:h=>{h.key==="Enter"?d():h.key==="Escape"&&f()},onBlur:d}):R.jsx("h1",{className:"app-title editable-title",onClick:c,title:"   ",children:n||"My Project"})})})]})}const Nh=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)});function aS({block:e,depth:t,isSelected:n,isCurrent:a,isOver:r,dropPosition:i,activeId:l,hasChildren:s,text:o,onClick:u,isEditing:c,editingText:d,onDoubleClick:f,onEditChange:h,onSaveEdit:m,onCancelEdit:p,onAddChildBlock:_,onDeleteBlock:g,isReference:v}){const{attributes:y,listeners:b,setNodeRef:C}=qm({id:e.id}),D=S.useRef(null),w=S.useRef(!1);S.useEffect(()=>{c&&D.current&&(D.current.style.height="auto",D.current.style.height=D.current.scrollHeight+"px")},[c,d]);const O=e.id===l,U=r&&i==="top"&&l&&l!==e.id,k=r&&i==="bottom"&&l&&l!==e.id,L=r&&i==="center"&&l&&l!==e.id,H={cursor:c?"text":"grab",opacity:O?.4:1},Q=c?{}:{...y,...b};return R.jsxs("div",{ref:C,style:H,"data-block-id":e.id,"data-drop-zone":r?i:"",className:`viewer-block ${n?"selected":""} ${a?"current-selected":""} ${s?"has-children":""} ${U?"show-drop-line-top":""} ${k?"show-drop-line-bottom":""} ${L?"show-as-child-target":""} ${c?"editing":""} ${v?"is-reference":""}`,onClick:c?void 0:u,onDoubleClick:c?void 0:f,...Q,children:[R.jsx("div",{className:"block-content-area",children:c?R.jsx("textarea",{ref:D,className:"block-edit-input",value:d,onChange:Y=>h(Y.target.value),onKeyDown:Y=>{Y.key==="Enter"&&!Y.shiftKey?(Y.preventDefault(),Y.stopPropagation(),w.current=!0,m(),D.current&&D.current.blur()):Y.key==="Escape"&&(Y.preventDefault(),Y.stopPropagation(),w.current=!0,p(),D.current&&D.current.blur())},onBlur:()=>{w.current||m(),w.current=!1},autoFocus:!0,rows:1}):R.jsxs("div",{className:"block-text",children:[v&&R.jsx("span",{className:"reference-badge",children:""}),o||" "]})}),R.jsx("div",{className:"block-actions-area",children:c?R.jsxs("div",{className:"block-edit-buttons",children:[R.jsx("button",{className:"add-child-button",onMouseDown:Y=>Y.preventDefault(),onClick:Y=>{Y.stopPropagation(),m(),_(e.id)},title:"  ",children:""}),R.jsx("button",{className:"delete-block-button",onMouseDown:Y=>Y.preventDefault(),onClick:Y=>{Y.stopPropagation(),window.confirm("  ?")&&g(e.id)},title:" ",children:""})]}):s&&R.jsx("div",{className:"block-arrow",children:n?"":""})})]})}function rS({blocks:e=[],setBlocks:t,onSave:n,onClose:a}){const[r,i]=S.useState(!1),[l,s]=S.useState([]),[o,u]=S.useState(null),[c,d]=S.useState(null),[f,h]=S.useState(null),[m,p]=S.useState(null),[_,g]=S.useState(""),v=S.useRef({x:0,y:0}),y=S.useRef(null),b=S.useRef(null),C=um(dc(fo,{activationConstraint:{delay:500,tolerance:8}}));S.useEffect(()=>{if(l.length===0)return;const x=l.length-1,N=l[x];N&&setTimeout(()=>{let E=null;if(N==="ADD_BUTTON"){const T=document.querySelectorAll(".viewer-column");T[x]&&(E=T[x].querySelector(".add-block-button"))}else E=document.querySelector(`[data-block-id="${N}"]`);E&&E.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},50)},[l]),S.useEffect(()=>{const x=N=>{if(m)return;const E=l.length>0?l.length-1:0,T=l[E],B=T==="ADD_BUTTON",q=w(E),$=q.findIndex(K=>K.id===T);switch(N.key){case"Enter":{if(N.preventDefault(),B)Y(E);else if(T){const K=D(e,T);K&&(p(T),g(K.content||""))}break}case"ArrowUp":{if(N.preventDefault(),B){if(q.length>0){const K=q[q.length-1].id,ue=l.slice(0,E);ue[E]=K,s(ue)}}else if($>0){const K=q[$-1].id,ue=l.slice(0,E);ue[E]=K,s(ue)}break}case"ArrowDown":{if(N.preventDefault(),$===q.length-1){const K=l.slice(0,E);K[E]="ADD_BUTTON",s(K)}else if($<q.length-1&&!B){const K=q[$+1].id,ue=l.slice(0,E);ue[E]=K,s(ue)}break}case"ArrowLeft":{N.preventDefault(),l.length>0&&s(l.slice(0,-1));break}case"ArrowRight":case"Tab":{if(N.preventDefault(),T&&T!=="ADD_BUTTON"){const K=D(e,T);if(K)if(K.children&&K.children.length>0){const ue=[...l,K.children[0].id];s(ue)}else{const ue=[...l,"ADD_BUTTON"];s(ue)}}else q.length>0&&s([q[0].id]);break}}N.key==="Tab"&&N.shiftKey&&(N.preventDefault(),l.length>0&&s(l.slice(0,-1)))};return window.addEventListener("keydown",x),()=>{window.removeEventListener("keydown",x)}},[l,m,e]);const D=(x,N)=>{for(const E of x){if(E.id===N)return E;if(E.children){const T=D(E.children,N);if(T)return T}}return null},w=x=>{if(x===0)return e||[];let N=e;for(let E=0;E<x;E++){const T=l[E];if(!T)return[];const B=N.find(q=>q.id===T);if(!B||!B.children||B.children.length===0)return[];N=B.children}return N},O=(x,N,E)=>{if(m||o)return;const T=l.slice(0,x);T[x]=N,s(T)},U=(x,N)=>{N.stopPropagation();const E=D(e,x);E&&(p(x),g(E.content||""))},k=()=>{if(!m||!t)return;const x=JSON.parse(JSON.stringify(e)),N=(E,T,B)=>{for(let q=0;q<E.length;q++){if(E[q].id===T)return E[q].content=B,!0;if(E[q].children&&N(E[q].children,T,B))return!0}return!1};N(x,m,_),t(x),p(null),g(""),n&&setTimeout(()=>{n()},100)},L=()=>{p(null),g("")},H=x=>{if(!t)return;const N=JSON.parse(JSON.stringify(e)),E=(B,q)=>{for(let $=0;$<B.length;$++){if(B[$].id===q){const K=Nh(),ue={id:K,content:"",type:"toggle",children:[],isOpen:!0,depth:(B[$].depth||0)+1};return B[$].children||(B[$].children=[]),B[$].children.push(ue),K}if(B[$].children){const K=E(B[$].children,q);if(K)return K}}return null};E(N,x)&&(t(N),p(null),g(""),n&&setTimeout(()=>{n()},100))},Q=x=>{if(!t)return;const N=JSON.parse(JSON.stringify(e)),E=(T,B)=>{for(let q=0;q<T.length;q++){if(T[q].id===B)return T.splice(q,1),!0;if(T[q].children&&E(T[q].children,B))return!0}return!1};if(E(N,x)){t(N),p(null),g("");const T=l.filter(B=>B!==x);s(T),n&&setTimeout(()=>{n()},100)}},Y=x=>{if(!t)return;const N=JSON.parse(JSON.stringify(e));if(x===0){const E=Nh(),T={id:E,content:"",type:"toggle",children:[],isOpen:!0,depth:0};N.push(T),t(N),s([E]),n&&setTimeout(()=>{n()},100)}else{const E=l[x-1];E&&H(E)}},ae=x=>{u(D(e,x.active.id)),b.current=x.active.id},A=x=>{const{over:N}=x;if(!N)return;d(N.id),y.current=N.id;const E=document.querySelector(`[data-block-id="${N.id}"]`);if(E){const T=E.getBoundingClientRect(),q=v.current.y-T.top,$=T.height;q<$*.25?h("top"):q>$*.75?h("bottom"):h("center")}},j=x=>{u(null),d(null),h(null),b.current=null,y.current=null};S.useEffect(()=>{const x=E=>{v.current={x:E.clientX,y:E.clientY}},N=E=>{E.touches.length>0&&(v.current={x:E.touches[0].clientX,y:E.touches[0].clientY})};return window.addEventListener("mousemove",x),window.addEventListener("touchmove",N),()=>{window.removeEventListener("mousemove",x),window.removeEventListener("touchmove",N)}},[]);const z=()=>{const x=[];for(let E=0;E<10;E++){const T=w(E);if(T.length===0&&E>l.length)break;const B=l[E],q=E===l.length-1;x.push(R.jsxs("div",{className:"viewer-column",children:[R.jsx("div",{className:"column-header",children:String.fromCharCode(65+E)}),R.jsxs("div",{className:"column-blocks",children:[R.jsx(Bm,{items:T.map($=>$.id),strategy:zm,children:T.map($=>{const K=l.includes($.id),ue=q&&B===$.id,lt=$.children&&$.children.length>0,de=$._isReference===!0;return R.jsx(aS,{block:$,depth:E,isSelected:K,isCurrent:ue,isOver:c===$.id,dropPosition:f,activeId:o==null?void 0:o.id,hasChildren:lt,text:$.content,onClick:V=>O(E,$.id),onDoubleClick:V=>U($.id,V),isEditing:m===$.id,editingText:_,onEditChange:g,onSaveEdit:k,onCancelEdit:L,onAddChildBlock:H,onDeleteBlock:Q,isReference:de},$.id)})}),R.jsx("button",{className:`add-block-button ${B==="ADD_BUTTON"?"selected":""}`,onClick:()=>Y(E),children:"+  "})]})]},E))}return x};return R.jsxs("div",{className:`viewer-page ${r?"dark-mode":""}`,children:[R.jsxs("div",{className:"viewer-header",children:[R.jsx("button",{className:"viewer-close-button",onClick:a,children:""}),R.jsx("h1",{className:"viewer-title",children:"ThinkMap"}),R.jsx("button",{className:"dark-mode-toggle",onClick:()=>i(!r),children:r?" ":" "})]}),R.jsx("div",{className:"viewer-content",children:R.jsxs(Cm,{sensors:C,collisionDetection:hm,onDragStart:ae,onDragOver:A,onDragEnd:j,children:[R.jsx("div",{className:"columns-container",children:z()}),R.jsx(jm,{children:o?R.jsx("div",{className:"viewer-block dragging-overlay",children:R.jsx("div",{className:"block-content-area",children:R.jsx("div",{className:"block-text",children:o.content||" "})})}):null})]})})]})}function iS({isOpen:e,onClose:t,projects:n=[],currentProjectId:a,onProjectSelect:r,onProjectCreate:i,onProjectRename:l,onProjectDelete:s,pages:o=[],currentPageId:u,onPageSelect:c,onPageCreate:d,onPageRename:f,onPageDelete:h,userEmail:m,onLogout:p}){const[_,g]=S.useState(!1),[v,y]=S.useState(null),[b,C]=S.useState(""),[D,w]=S.useState(null),[O,U]=S.useState(""),k=n.find(E=>E.id===a),L=E=>{y(E.id),C(E.name)},H=()=>{v&&b.trim()&&f(v,b.trim()),y(null),C("")},Q=()=>{y(null),C("")},Y=(E,T)=>{if(T.stopPropagation(),o.length<=1){alert("    .");return}window.confirm(`  ?
   .`)&&h(E)},ae=(E,T)=>{T.stopPropagation(),w(E.id),U(E.name)},A=()=>{D&&O.trim()&&l(D,O.trim()),w(null),U("")},j=()=>{w(null),U("")},z=(E,T)=>{if(T.stopPropagation(),n.length<=1){alert("    .");return}window.confirm(`  ?
    .`)&&s(E)},x=async()=>{const E=prompt("   :","Untitled Project");if(E){const T=await i(E);T&&(r(T.id),g(!1))}},N=async()=>{const E=prompt("   :","Untitled");E&&await d(E)};return R.jsxs(R.Fragment,{children:[e&&R.jsx("div",{className:"sidebar-overlay",onClick:t}),R.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[R.jsxs("div",{className:"sidebar-header",children:[R.jsxs("div",{className:"sidebar-project-section",children:[R.jsxs("button",{className:"sidebar-project-toggle",onClick:()=>g(!_),children:[R.jsx("span",{className:"project-icon",children:""}),R.jsx("span",{className:"project-name",children:(k==null?void 0:k.name)||"My Project"})]}),_&&R.jsxs("div",{className:"sidebar-projects-dropdown",children:[n.map(E=>R.jsx("div",{className:`sidebar-project-item ${a===E.id?"active":""}`,onClick:()=>{D!==E.id&&(r(E.id),g(!1))},onDoubleClick:T=>ae(E,T),children:D===E.id?R.jsx("input",{type:"text",className:"project-name-input",value:O,onChange:T=>U(T.target.value),onKeyDown:T=>{T.key==="Enter"?A():T.key==="Escape"&&j()},onBlur:A,autoFocus:!0,onClick:T=>T.stopPropagation()}):R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"project-item-icon",children:""}),R.jsx("span",{className:"project-item-name",children:E.name}),n.length>1&&R.jsx("button",{className:"project-delete-button",onClick:T=>z(E.id,T),title:" ",children:""})]})},E.id)),R.jsx("button",{className:"add-project-button",onClick:x,children:"+  "})]})]}),R.jsx("button",{className:"sidebar-close-button sidebar-close-button-desktop",onClick:t,children:""})]}),R.jsxs("div",{className:"sidebar-content",children:[R.jsx("div",{className:"sidebar-pages-header",children:"Pages"}),R.jsx("div",{className:"page-list",children:o.map(E=>R.jsx("div",{className:`page-item ${u===E.id?"active":""}`,onClick:()=>{v!==E.id&&c(E.id)},onDoubleClick:()=>L(E),children:v===E.id?R.jsx("input",{type:"text",className:"page-name-input",value:b,onChange:T=>C(T.target.value),onKeyDown:T=>{T.key==="Enter"?H():T.key==="Escape"&&Q()},onBlur:H,autoFocus:!0,onClick:T=>T.stopPropagation()}):R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"page-icon",children:""}),R.jsx("span",{className:"page-name",children:E.name}),o.length>1&&R.jsx("button",{className:"page-delete-button",onClick:T=>Y(E.id,T),title:" ",children:""})]})},E.id))}),R.jsx("button",{className:"add-page-button",onClick:N,children:"+  "})]}),R.jsxs("div",{className:"sidebar-footer",children:[R.jsxs("div",{className:"sidebar-user-profile",children:[R.jsx("div",{className:"user-avatar",children:m?m.charAt(0).toUpperCase():"U"}),R.jsx("div",{className:"user-info",children:R.jsx("div",{className:"user-email",children:m||"User"})})]}),R.jsxs("button",{className:"sidebar-logout-button",onClick:()=>{window.confirm(" ?")&&p()},title:"",children:[R.jsx("span",{className:"logout-icon",children:""}),R.jsx("span",{className:"logout-text",children:""})]})]})]})]})}function vo(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}function lS(e,t,n,a){function r(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function s(c){try{u(a.next(c))}catch(d){l(d)}}function o(c){try{u(a.throw(c))}catch(d){l(d)}}function u(c){c.done?i(c.value):r(c.value).then(s,o)}u((a=a.apply(e,t||[])).next())})}const sS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Mf extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class oS extends Mf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Uh extends Mf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class zh extends Mf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yc||(yc={}));class uS{constructor(t,{headers:n={},customFetch:a,region:r=yc.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=sS(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return lS(this,arguments,void 0,function*(n,a={}){var r;let i,l;try{const{headers:s,method:o,body:u,signal:c,timeout:d}=a;let f={},{region:h}=a;h||(h=this.region);const m=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let p;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(f["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(f["Content-Type"]="application/json",p=JSON.stringify(u)):p=u;let _=c;d&&(l=new AbortController,i=setTimeout(()=>l.abort(),d),c?(_=l.signal,c.addEventListener("abort",()=>l.abort())):_=l.signal);const g=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),s),body:p,signal:_}).catch(C=>{throw new oS(C)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new Uh(g);if(!g.ok)throw new zh(g);let y=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield g.json():y==="application/octet-stream"||y==="application/pdf"?b=yield g.blob():y==="text/event-stream"?b=g:y==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(s){return{data:null,error:s,response:s instanceof zh||s instanceof Uh?s.context:void 0}}finally{i&&clearTimeout(i)}})}}var cS=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},fS=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let r=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let l=null,s=null,o=null,u=i.status,c=i.statusText;if(i.ok){var d,f;if(n.method!=="HEAD"){var h;const g=await i.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((h=n.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?s=g:s=JSON.parse(g))}const p=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");p&&_&&_.length>1&&(o=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(l={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var m;const p=await i.text();try{l=JSON.parse(p),Array.isArray(l)&&i.status===404&&(s=[],l=null,u=200,c="OK")}catch{i.status===404&&p===""?(u=204,c="No Content"):l={message:p}}if(l&&n.isMaybeSingle&&(!(l==null||(m=l.details)===null||m===void 0)&&m.includes("0 rows"))&&(l=null,u=200,c="OK"),l&&n.shouldThrowOnError)throw new cS(l)}return{error:l,data:s,count:o,status:u,statusText:c}});return this.shouldThrowOnError||(r=r.catch(i=>{var l;let s="";const o=i==null?void 0:i.cause;if(o){var u,c,d,f;const m=(u=o==null?void 0:o.message)!==null&&u!==void 0?u:"",p=(c=o==null?void 0:o.code)!==null&&c!==void 0?c:"";s=`${(d=i==null?void 0:i.name)!==null&&d!==void 0?d:"FetchError"}: ${i==null?void 0:i.message}`,s+=`

Caused by: ${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"Error"}: ${m}`,p&&(s+=` (${p})`),o!=null&&o.stack&&(s+=`
${o.stack}`)}else{var h;s=(h=i==null?void 0:i.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},dS=class extends fS{select(e){let t=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:a,referencedTable:r=a}={}){const i=r?`${r}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:a=n}={}){const r=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:a=!1,wal:r=!1,format:i="text"}={}){var l;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,a?"buffers":null,r?"wal":null].filter(Boolean).join("|"),o=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${o}"; options=${s};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Mh=new RegExp("[,()]");var nr=class extends dS{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&Mh.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&Mh.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:a}={}){let r="";a==="plain"?r="pl":a==="phrase"?r="ph":a==="websearch"&&(r="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${r}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},hS=class{constructor(e,{headers:t={},schema:n,fetch:a}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=a}select(e,t){const{head:n=!1,count:a}=t??{},r=n?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",l),a&&this.headers.append("Prefer",`count=${a}`),new nr({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var a;const r="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((l,s)=>l.concat(Object.keys(s)),[]);if(i.length>0){const l=[...new Set(i)].map(s=>`"${s}"`);this.url.searchParams.set("columns",l.join(","))}}return new nr({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:a,defaultToNull:r=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),a&&this.headers.append("Prefer",`count=${a}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(s.length>0){const o=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new nr({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const a="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new nr({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new nr({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},gS=class Vm{constructor(t,{headers:n={},schema:a,fetch:r}={}){this.url=t,this.headers=new Headers(n),this.schemaName=a,this.fetch=r}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new hS(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Vm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:a=!1,get:r=!1,count:i}={}){var l;let s;const o=new URL(`${this.url}/rpc/${t}`);let u;a||r?(s=a?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new nr({method:s,url:o,headers:c,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class vS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,r=parseInt(a.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const yS="2.89.0",mS=`realtime-js/${yS}`,Ym="1.0.0",pS="2.0.0",kh=Ym,mc=1e4,bS=1e3,_S=100;var $n;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($n||($n={}));var ke;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ke||(ke={}));var Pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pt||(Pt={}));var pc;(function(e){e.websocket="websocket"})(pc||(pc={}));var wa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wa||(wa={}));class wS{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,a;const r=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(t){var n,a;const r=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},l=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,a){var r,i;const l=t.topic,s=(r=t.ref)!==null&&r!==void 0?r:"",o=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(o.length>255)throw new Error(`joinRef length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+s.length+l.length+u.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(h),p=0;m.setUint8(p++,this.KINDS.userBroadcastPush),m.setUint8(p++,o.length),m.setUint8(p++,s.length),m.setUint8(p++,l.length),m.setUint8(p++,u.length),m.setUint8(p++,d.length),m.setUint8(p++,n),Array.from(o,g=>m.setUint8(p++,g.charCodeAt(0))),Array.from(s,g=>m.setUint8(p++,g.charCodeAt(0))),Array.from(l,g=>m.setUint8(p++,g.charCodeAt(0))),Array.from(u,g=>m.setUint8(p++,g.charCodeAt(0))),Array.from(d,g=>m.setUint8(p++,g.charCodeAt(0)));var _=new Uint8Array(h.byteLength+a.byteLength);return _.set(new Uint8Array(h),0),_.set(new Uint8Array(a),h.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return n(a)}if(typeof t=="string"){const a=JSON.parse(t),[r,i,l,s,o]=a;return n({join_ref:r,ref:i,topic:l,event:s,payload:o})}return n({})}_binaryDecode(t){const n=new DataView(t),a=n.getUint8(0),r=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,r)}}_decodeUserBroadcast(t,n,a){const r=n.getUint8(1),i=n.getUint8(2),l=n.getUint8(3),s=n.getUint8(4);let o=this.HEADER_LENGTH+4;const u=a.decode(t.slice(o,o+r));o=o+r;const c=a.decode(t.slice(o,o+i));o=o+i;const d=a.decode(t.slice(o,o+l));o=o+l;const f=t.slice(o,t.byteLength),h=s===this.JSON_ENCODING?JSON.parse(a.decode(f)):f,m={type:this.BROADCAST_EVENT,event:c,payload:h};return l>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>n.includes(a)))}}class Xm{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ge||(ge={}));const Bh=(e,t,n={})=>{var a;const r=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,l)=>(i[l]=SS(l,e,t,r),i),{}):{}},SS=(e,t,n,a)=>{const r=t.find(s=>s.name===e),i=r==null?void 0:r.type,l=n[e];return i&&!a.includes(i)?Im(i,l):bc(l)},Im=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return OS(t,n)}switch(e){case ge.bool:return ES(t);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return TS(t);case ge.json:case ge.jsonb:return AS(t);case ge.timestamp:return xS(t);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return bc(t);default:return bc(t)}},bc=e=>e,ES=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},OS=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let i;const l=e.slice(1,n);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(s=>Im(t,s))}return e},xS=e=>typeof e=="string"?e.replace(" ","T"):e,Jm=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class su{constructor(t,n,a={},r=mc){this.channel=t,this.event=n,this.payload=a,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Lh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Lh||(Lh={}));class Ni{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},r=>{const{onJoin:i,onLeave:l,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ni.syncState(this.state,r,i,l),this.pendingDiffs.forEach(o=>{this.state=Ni.syncDiff(this.state,o,i,l)}),this.pendingDiffs=[],s()}),this.channel._on(a.diff,{},r=>{const{onJoin:i,onLeave:l,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ni.syncDiff(this.state,r,i,l),s())}),this.onJoin((r,i,l)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:l})}),this.onLeave((r,i,l)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,r){const i=this.cloneDeep(t),l=this.transformState(n),s={},o={};return this.map(i,(u,c)=>{l[u]||(o[u]=c)}),this.map(l,(u,c)=>{const d=i[u];if(d){const f=c.map(_=>_.presence_ref),h=d.map(_=>_.presence_ref),m=c.filter(_=>h.indexOf(_.presence_ref)<0),p=d.filter(_=>f.indexOf(_.presence_ref)<0);m.length>0&&(s[u]=m),p.length>0&&(o[u]=p)}else s[u]=c}),this.syncDiff(i,{joins:s,leaves:o},a,r)}static syncDiff(t,n,a,r){const{joins:i,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),r||(r=()=>{}),this.map(i,(s,o)=>{var u;const c=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(o),c.length>0){const d=t[s].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[s].unshift(...f)}a(s,c,o)}),this.map(l,(s,o)=>{let u=t[s];if(!u)return;const c=o.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[s]=u,r(s,u,o),u.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const r=t[a];return"metas"in r?n[a]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qh||(qh={}));var Ui;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ui||(Ui={}));var mn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mn||(mn={}));class pr{constructor(t,n={config:{}},a){var r,i;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new su(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new Xm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ke.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(l,s)=>{this._trigger(this._replyEventName(s),l)}),this.presence=new Ni(this),this.broadcastEndpointURL=Jm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ke.closed){const{config:{broadcast:l,presence:s,private:o}}=this.params,u=(r=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(h=>h.filter))!==null&&r!==void 0?r:[],c=!!this.bindings[Ui.PRESENCE]&&this.bindings[Ui.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:l,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(mn.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(mn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t==null||t(mn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,_=(m=p==null?void 0:p.length)!==null&&m!==void 0?m:0,g=[];for(let v=0;v<_;v++){const y=p[v],{filter:{event:b,schema:C,table:D,filter:w}}=y,O=h&&h[v];if(O&&O.event===b&&pr.isFilterValueEqual(O.schema,C)&&pr.isFilterValueEqual(O.table,D)&&pr.isFilterValueEqual(O.filter,w))g.push(Object.assign(Object.assign({},y),{id:O.id}));else{this.unsubscribe(),this.state=ke.errored,t==null||t(mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(mn.SUBSCRIBED);return}}).receive("error",h=>{this.state=ke.errored,t==null||t(mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===ke.joined&&t===Ui.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var r;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);if(s.status===202)return{success:!0};let o=s.statusText;try{const u=await s.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,r;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,s,o;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(s=(l=this.params)===null||l===void 0?void 0:l.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ke.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(r=>{a=new su(this,Pt.leave,{},t),a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ke.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const r=new AbortController,i=setTimeout(()=>r.abort(),a),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),l}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new su(this,t,n,a);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>_S){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var r,i;const l=t.toLocaleLowerCase(),{close:s,error:o,leave:u,join:c}=Pt;if(a&&[s,o,u,c].indexOf(l)>=0&&a!==this._joinRef())return;let f=this._onMessage(l,n,a);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(h=>{var m,p,_;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((_=(p=h.filter)===null||p===void 0?void 0:p.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(h=>h.callback(f,a)):(i=this.bindings[l])===null||i===void 0||i.filter(h=>{var m,p,_,g,v,y;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in h){const b=h.id,C=(m=h.filter)===null||m===void 0?void 0:m.event;return b&&((p=n.ids)===null||p===void 0?void 0:p.includes(b))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(v=(g=h==null?void 0:h.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return b==="*"||b===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===l}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:p,table:_,commit_timestamp:g,type:v,errors:y}=m;f=Object.assign(Object.assign({},{schema:p,table:_,commit_timestamp:g,eventType:v,new:{},old:{},errors:y}),this._getPayloadRecords(m))}h.callback(f,a)})}_isClosed(){return this.state===ke.closed}_isJoined(){return this.state===ke.joined}_isJoining(){return this.state===ke.joining}_isLeaving(){return this.state===ke.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const r=t.toLocaleLowerCase(),i={type:r,filter:n,callback:a};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&pr.isEqual(r.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pt.close,{},t)}_onError(t){this._on(Pt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ke.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Bh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Bh(t.columns,t.old_record)),n}}const ou=()=>{},Ll={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RS=[1e3,2e3,5e3,1e4],CS=1e4,DS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jS{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mc,this.transport=null,this.heartbeatIntervalMs=Ll.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ou,this.ref=0,this.reconnectTimer=null,this.vsn=kh,this.logger=ou,this.conn=null,this.sendBuffer=[],this.serializer=new wS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>r?(...i)=>r(...i):(...i)=>fetch(...i),!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${pc.websocket}`,this.httpEndpoint=Jm(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case $n.connecting:return wa.Connecting;case $n.open:return wa.Open;case $n.closing:return wa.Closing;default:return wa.Closed}}isConnected(){return this.connectionState()===wa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,r=this.getChannels().find(i=>i.topic===a);if(r)return r;{const i=new pr(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:a,payload:r,ref:i}=t,l=()=>{this.encode(t,s=>{var o;(o=this.conn)===null||o===void 0||o.send(s)})};this.log("push",`${n} ${a} (${i})`,r),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(bS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ll.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:r,payload:i,ref:l}=n,s=l?`(${l})`:"",o=i.status||"";this.log("receive",`${o} ${a} ${r} ${s}`.trim(),i),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(r,i,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===$n.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===$n.open||this.conn.readyState===$n.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${a}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([DS],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,a=!1;if(t)n=t,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:mS};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Pt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Xm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ll.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,r,i,l,s,o,u,c,d,f,h;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:mc,this.heartbeatIntervalMs=(r=t==null?void 0:t.heartbeatIntervalMs)!==null&&r!==void 0?r:Ll.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:ou,this.vsn=(o=t==null?void 0:t.vsn)!==null&&o!==void 0?o:kh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:m=>RS[m-1]||CS,this.vsn){case Ym:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(m,p)=>p(JSON.stringify(m)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(m,p)=>p(JSON.parse(m));break;case pS:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Zi=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function NS(e,t,n){const a=new URL(t,e);if(n)for(const[r,i]of Object.entries(n))i!==void 0&&a.searchParams.set(r,i);return a.toString()}async function US(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function zS(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:r,body:i,headers:l}){const s=NS(e.baseUrl,a,r),o=await US(e.auth),u=await t(s,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...o,...l},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),f=d&&c?JSON.parse(c):c;if(!u.ok){const h=d?f:void 0,m=h==null?void 0:h.error;throw new Zi((m==null?void 0:m.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:h})}return{status:u.status,headers:u.headers,data:f}}}}function ql(e){return e.join("")}var MS=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ql(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ql(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ql(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ql(e.namespace)}`}),!0}catch(t){if(t instanceof Zi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Zi&&n.status===409)return;throw n}}};function Xa(e){return e.join("")}var kS=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xa(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xa(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xa(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xa(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xa(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xa(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Zi&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Zi&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},BS=class{constructor(e){var a;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=zS({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(a=e.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new MS(this.client,t),this.tableOps=new kS(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},yo=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ee(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var LS=class extends yo{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_c=class extends yo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const kf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qS=()=>Response,wc=e=>{if(Array.isArray(e))return e.map(n=>wc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=wc(a)}),t},HS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$S=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Pi(e){"@babel/helpers - typeof";return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(e)}function GS(e,t){if(Pi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Pi(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KS(e){var t=GS(e,"string");return Pi(t)=="symbol"?t:t+""}function VS(e,t,n){return(t=KS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hh(Object(n),!0).forEach(function(a){VS(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hh(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}const uu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},YS=async(e,t,n)=>{e instanceof await qS()&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{const r=e.status||500,i=(a==null?void 0:a.statusCode)||r+"";t(new LS(uu(a),r,i))}).catch(a=>{t(new _c(uu(a),a))}):t(new _c(uu(e),e))},XS=(e,t,n,a)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?r:(HS(a)?(r.headers=I({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(a)):r.body=a,t!=null&&t.duplex&&(r.duplex=t.duplex),I(I({},r),n))};async function pl(e,t,n,a,r,i){return new Promise((l,s)=>{e(n,XS(t,a,r,i)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>l(o)).catch(o=>YS(o,s,a))})}async function Wi(e,t,n,a){return pl(e,"GET",t,n,a)}async function Qt(e,t,n,a,r){return pl(e,"POST",t,a,r,n)}async function Sc(e,t,n,a,r){return pl(e,"PUT",t,a,r,n)}async function IS(e,t,n,a){return pl(e,"HEAD",t,I(I({},n),{},{noResolveJson:!0}),a)}async function Bf(e,t,n,a,r){return pl(e,"DELETE",t,a,r,n)}var JS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ee(t))return{data:null,error:t};throw t}}};let Qm;Qm=Symbol.toStringTag;var QS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Qm]="BlobDownloadBuilder",this.promise=null}asStream(){return new JS(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ee(t))return{data:null,error:t};throw t}}};const ZS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$h={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var PS=class{constructor(e,t={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=kf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,a){var r=this;try{let i;const l=I(I({},$h),a);let s=I(I({},r.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const o=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),o&&i.append("metadata",r.encodeMetadata(o)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",l.cacheControl),o&&!i.has("metadata")&&i.append("metadata",r.encodeMetadata(o))):(i=n,s["cache-control"]=`max-age=${l.cacheControl}`,s["content-type"]=l.contentType,o&&(s["x-metadata"]=r.toBase64(r.encodeMetadata(o))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!l.duplex&&(l.duplex="half")),a!=null&&a.headers&&(s=I(I({},s),a.headers));const u=r._removeEmptyFolders(t),c=r._getFinalPath(u),d=await(e=="PUT"?Sc:Qt)(r.fetch,`${r.url}/object/${c}`,i,I({headers:s},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ee(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,a){var r=this;const i=r._removeEmptyFolders(e),l=r._getFinalPath(i),s=new URL(r.url+`/object/upload/sign/${l}`);s.searchParams.set("token",t);try{let o;const u=I({upsert:$h.upsert},a),c=I(I({},r.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",u.cacheControl)):(o=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await Sc(r.fetch,s.toString(),o,{headers:c})).Key},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Ee(o))return{data:null,error:o};throw o}}async createSignedUploadUrl(e,t){var n=this;try{let a=n._getFinalPath(e);const r=I({},n.headers);t!=null&&t.upsert&&(r["x-upsert"]="true");const i=await Qt(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:r}),l=new URL(n.url+i.url),s=l.searchParams.get("token");if(!s)throw new yo("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:s},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ee(a))return{data:null,error:a};throw a}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var a=this;try{return{data:await Qt(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}}async copy(e,t,n){var a=this;try{return{data:{path:(await Qt(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers})).Key},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}}async createSignedUrl(e,t,n){var a=this;try{let r=a._getFinalPath(e),i=await Qt(a.fetch,`${a.url}/object/sign/${r}`,I({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:a.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${a.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}}async createSignedUrls(e,t,n){var a=this;try{const r=await Qt(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:e},{headers:a.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(l=>I(I({},l),{},{signedUrl:l.signedURL?encodeURI(`${a.url}${l.signedURL}${i}`):null})),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),r=a?`?${a}`:"",i=this._getFinalPath(e),l=()=>Wi(this.fetch,`${this.url}/${n}/${i}${r}`,{headers:this.headers,noResolveJson:!0});return new QS(l,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:wc(await Wi(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Ee(a))return{data:null,error:a};throw a}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await IS(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Ee(a)&&a instanceof _c){const r=a.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:a}}throw a}}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],r=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";r!==""&&a.push(r);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&a.push(l);let s=a.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${s}`)}}}async remove(e){var t=this;try{return{data:await Bf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}async list(e,t,n){var a=this;try{const r=I(I(I({},ZS),t),{},{prefix:e||""});return{data:await Qt(a.fetch,`${a.url}/object/list/${a.bucketId}`,r,{headers:a.headers},n),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}}async listV2(e,t){var n=this;try{const a=I({},e);return{data:await Qt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},t),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ee(a))return{data:null,error:a};throw a}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Zm="2.89.0",Pm={"X-Client-Info":`storage-js/${Zm}`};var WS=class{constructor(e,t={},n,a){this.shouldThrowOnError=!1;const r=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=I(I({},Pm),t),this.fetch=kf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Wi(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Wi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ee(a))return{data:null,error:a};throw a}}async updateBucket(e,t){var n=this;try{return{data:await Sc(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ee(a))return{data:null,error:a};throw a}}async emptyBucket(e){var t=this;try{return{data:await Qt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Bf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},FS=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=I(I({},Pm),t),this.fetch=kf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Qt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const a=n.toString(),r=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return{data:await Wi(t.fetch,r,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Bf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!$S(e))throw new yo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new BS({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(r,i){const l=r[i];return typeof l!="function"?l:async(...s)=>{try{return{data:await l.apply(r,s),error:null}}catch(o){if(a)throw o;return{data:null,error:o}}}}})}};const Lf={"X-Client-Info":`storage-js/${Zm}`,"Content-Type":"application/json"};var Wm=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Et(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var cu=class extends Wm{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eE=class extends Wm{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const qf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Gh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nE=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const a=e.status||500,r=e;if(typeof r.json=="function")r.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new cu(Gh(i),a,l))}).catch(()=>{const i=a+"";t(new cu(r.statusText||`HTTP ${a} error`,a,i))});else{const i=a+"";t(new cu(r.statusText||`HTTP ${a} error`,a,i))}}else t(new eE(Gh(e),e))},aE=(e,t,n,a)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(tE(a)?(r.headers=I({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(a)):r.body=a,I(I({},r),n)):r};async function rE(e,t,n,a,r,i){return new Promise((l,s)=>{e(n,aE(t,a,r,i)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const u=o.headers.get("content-type");return!u||!u.includes("application/json")?{}:o.json()}).then(o=>l(o)).catch(o=>nE(o,s,a))})}async function Tt(e,t,n,a,r){return rE(e,"POST",t,a,r,n)}var iE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=I(I({},Lf),t),this.fetch=qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Tt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Et(a))return{data:null,error:a};throw a}}async listIndexes(e){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Tt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Et(a))return{data:null,error:a};throw a}}},lE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=I(I({},Lf),t),this.fetch=qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Tt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Tt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Tt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}},sE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=I(I({},Lf),t),this.fetch=qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Tt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}},oE=class extends sE{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new uE(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},uE=class extends iE{constructor(e,t,n,a){super(e,t,a),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new cE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},cE=class extends lE{constructor(e,t,n,a,r){super(e,t,r),this.vectorBucketName=n,this.indexName=a}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},fE=class extends WS{constructor(e,t={},n,a){super(e,t,n,a)}from(e){return new PS(this.url,this.headers,e,this.fetch)}get vectors(){return new oE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new FS(this.url+"/iceberg",this.headers,this.fetch)}};const Fm="2.89.0",ar=30*1e3,Ec=3,fu=Ec*ar,dE="http://localhost:9999",hE="supabase.auth.token",gE={"X-Client-Info":`gotrue-js/${Fm}`},Tc="X-Supabase-Api-Version",ep={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yE=10*60*1e3;class Fi extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function G(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class mE extends Fi{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function pE(e){return G(e)&&e.name==="AuthApiError"}class Sa extends Fi{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Nn extends Fi{constructor(t,n,a,r){super(t,a,r),this.name=n,this.status=a}}class bt extends Nn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bE(e){return G(e)&&e.name==="AuthSessionMissingError"}class Ia extends Nn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hl extends Nn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $l extends Nn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _E(e){return G(e)&&e.name==="AuthImplicitGrantRedirectError"}class Kh extends Nn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wE extends Nn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ac extends Nn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function du(e){return G(e)&&e.name==="AuthRetryableFetchError"}class Vh extends Nn{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Oc extends Nn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const qs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yh=` 	
\r=`.split(""),SE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Yh.length;t+=1)e[Yh[t].charCodeAt(0)]=-2;for(let t=0;t<qs.length;t+=1)e[qs[t].charCodeAt(0)]=t;return e})();function Xh(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(qs[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(qs[a]),t.queuedBits-=6}}function tp(e,t,n){const a=SE[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ih(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},a={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=l=>{AE(l,a,n)};for(let l=0;l<e.length;l+=1)tp(e.charCodeAt(l),r,i);return t.join("")}function EE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function TE(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const r=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}EE(a,t)}}function AE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function xr(e){const t=[],n={queue:0,queuedBits:0},a=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)tp(e.charCodeAt(r),n,a);return new Uint8Array(t)}function OE(e){const t=[];return TE(e,n=>t.push(n)),new Uint8Array(t)}function Ea(e){const t=[],n={queue:0,queuedBits:0},a=r=>{t.push(r)};return e.forEach(r=>Xh(r,n,a)),Xh(null,n,a),t.join("")}function xE(e){return Math.round(Date.now()/1e3)+e}function RE(){return Symbol("auth-callback")}const Xe=()=>typeof window<"u"&&typeof document<"u",ga={tested:!1,writable:!1},np=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ga.tested)return ga.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ga.tested=!0,ga.writable=!0}catch{ga.tested=!0,ga.writable=!1}return ga.writable};function CE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return n.searchParams.forEach((a,r)=>{t[r]=a}),t}const ap=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},va=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ye=async(e,t)=>{await e.removeItem(t)};class mo{constructor(){this.promise=new mo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}mo.promiseConstructor=Promise;function hu(e){const t=e.split(".");if(t.length!==3)throw new Oc("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!vE.test(t[a]))throw new Oc("JWT not in base64url format");return{header:JSON.parse(Ih(t[0])),payload:JSON.parse(Ih(t[1])),signature:xr(t[2]),raw:{header:t[0],payload:t[1]}}}async function jE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function NE(e,t){return new Promise((a,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){a(l);return}}catch(l){if(!t(i,l)){r(l);return}}})()})}function UE(e){return("0"+e.toString(16)).substr(-2)}function zE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*a));return r}return crypto.getRandomValues(t),Array.from(t,UE).join("")}async function ME(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(a);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function kE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ME(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ja(e,t,n=!1){const a=zE();let r=a;n&&(r+="/PASSWORD_RECOVERY"),await rr(e,`${t}-code-verifier`,r);const i=await kE(a);return[i,a===i?"plain":"s256"]}const BE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LE(e){const t=e.headers.get(Tc);if(!t||!t.match(BE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function HE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $E=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qa(e){if(!$E.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function GE(e,t){return new Proxy(e,{get:(n,a,r)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,r)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,r)}})}function Jh(e){return JSON.parse(JSON.stringify(e))}const _a=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KE=[502,503,504];async function Qh(e){var t;if(!DE(e))throw new Ac(_a(e),0);if(KE.includes(e.status))throw new Ac(_a(e),e.status);let n;try{n=await e.json()}catch(i){throw new Sa(_a(i),i)}let a;const r=LE(e);if(r&&r.getTime()>=ep["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Vh(_a(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new bt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Vh(_a(n),e.status,n.weak_password.reasons);throw new mE(_a(n),e.status||500,a)}const VE=(e,t,n,a)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(a),Object.assign(Object.assign({},r),n))};async function X(e,t,n,a){var r;const i=Object.assign({},a==null?void 0:a.headers);i[Tc]||(i[Tc]=ep["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const l=(r=a==null?void 0:a.query)!==null&&r!==void 0?r:{};a!=null&&a.redirectTo&&(l.redirect_to=a.redirectTo);const s=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=await YE(e,t,n+s,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function YE(e,t,n,a,r,i){const l=VE(t,a,r,i);let s;try{s=await e(n,Object.assign({},l))}catch(o){throw console.error(o),new Ac(_a(o),0)}if(s.ok||await Qh(s),a!=null&&a.noResolveJson)return s;try{return await s.json()}catch(o){await Qh(o)}}function Jt(e){var t;let n=null;JE(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=xE(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function Zh(e){const t=Jt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function XE(e){return{data:e,error:null}}function IE(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:r,verification_type:i}=e,l=vo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:a,redirect_to:r,verification_type:i},o=Object.assign({},l);return{data:{properties:s,user:o},error:null}}function Ph(e){return e}function JE(e){return e.access_token&&e.refresh_token&&e.expires_in}const vu=["global","local","others"];class QE{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=ap(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=vu[0]){if(vu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vu.join(", ")}`);try{return await X(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(G(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await X(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xn})}catch(a){if(G(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=vo(t,["options"]),r=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(r.new_email=a==null?void 0:a.newEmail,delete r.newEmail),await X(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:IE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(G(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await X(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xn})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,r,i,l,s,o;try{const u={nextPage:null,lastPage:0,total:0},c=await X(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Ph});if(c.error)throw c.error;const d=await c.json(),f=(l=c.headers.get("x-total-count"))!==null&&l!==void 0?l:0,h=(o=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&o!==void 0?o:[];return h.length>0&&(h.forEach(m=>{const p=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(m.split(";")[1].split("=")[1]);u[`${_}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(G(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Qa(t);try{return await X(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xn})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Qa(t);try{return await X(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Xn})}catch(a){if(G(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){Qa(t);try{return await X(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xn})}catch(a){if(G(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Qa(t.userId);try{const{data:n,error:a}=await X(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:a}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Qa(t.userId),Qa(t.id);try{return{data:await X(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,r,i,l,s,o;try{const u={nextPage:null,lastPage:0,total:0},c=await X(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Ph});if(c.error)throw c.error;const d=await c.json(),f=(l=c.headers.get("x-total-count"))!==null&&l!==void 0?l:0,h=(o=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&o!==void 0?o:[];return h.length>0&&(h.forEach(m=>{const p=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(m.split(";")[1].split("=")[1]);u[`${_}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(G(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await X(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await X(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await X(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(G(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await X(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await X(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}}function Wh(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Za={debug:!!(globalThis&&np()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ZE extends rp{}async function PE(e,t,n){Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Za.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async r=>{if(r){Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ZE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Za.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function WE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ip(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function FE(e){return parseInt(e,16)}function eT(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function tT(e){var t;const{chainId:n,domain:a,expirationTime:r,issuedAt:i=new Date,nonce:l,notBefore:s,requestId:o,resources:u,scheme:c,uri:d,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=ip(e.address),m=c?`${c}://${a}`:a,p=e.statement?`${e.statement}
`:"",_=`${m} wants you to sign in with your Ethereum account:
${h}

${p}`;let g=`URI: ${d}
Version: ${f}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(r&&(g+=`
Expiration Time: ${r.toISOString()}`),s&&(g+=`
Not Before: ${s.toISOString()}`),o&&(g+=`
Request ID: ${o}`),u){let v=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);v+=`
- ${y}`}g+=v}return`${_}
${g}`}class je extends Error{constructor({message:t,code:n,cause:a,name:r}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=r??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Hs extends je{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function nT({error:e,options:t}){var n,a,r;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new je({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(lp(l)){if(i.rp.id!==l)return new je({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function aT({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new je({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(lp(a)){if(n.rpId!==a)return new je({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class rT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const iT=new rT;function lT(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,r=vo(e,["challenge","user","excludeCredentials"]),i=xr(t).buffer,l=Object.assign(Object.assign({},n),{id:xr(n.id).buffer}),s=Object.assign(Object.assign({},r),{challenge:i,user:l});if(a&&a.length>0){s.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const u=a[o];s.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:xr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function sT(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=vo(e,["challenge","allowCredentials"]),r=xr(t).buffer,i=Object.assign(Object.assign({},a),{challenge:r});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const s=n[l];i.allowCredentials[l]=Object.assign(Object.assign({},s),{id:xr(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function oT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ea(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ea(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function uT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ea(new Uint8Array(r.authenticatorData)),clientDataJSON:Ea(new Uint8Array(r.clientDataJSON)),signature:Ea(new Uint8Array(r.signature)),userHandle:r.userHandle?Ea(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lp(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Fh(){var e,t;return!!(Xe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function cT(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hs("Browser returned unexpected credential type",t)}:{data:null,error:new Hs("Empty credential response",t)}}catch(t){return{data:null,error:nT({error:t,options:e})}}}async function fT(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hs("Browser returned unexpected credential type",t)}:{data:null,error:new Hs("Empty credential response",t)}}catch(t){return{data:null,error:aT({error:t,options:e})}}}const dT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $s(...e){const t=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),a={};for(const r of e)if(r)for(const i in r){const l=r[i];if(l!==void 0)if(Array.isArray(l))a[i]=l;else if(n(l))a[i]=l;else if(t(l)){const s=a[i];t(s)?a[i]=$s(s,l):a[i]=$s(l)}else a[i]=l}return a}function gT(e,t){return $s(dT,e,t||{})}function vT(e,t){return $s(hT,e,t||{})}class yT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:r},i){try{const{data:l,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:s};const o=r??iT.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:u}=l.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(l.webauthn.type){case"create":{const u=gT(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await cT({publicKey:u,signal:o});return c?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=vT(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await fT(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:u,signal:o}));return c?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(l){return G(l)?{data:null,error:l}:{data:null,error:new Sa("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},i){if(!n)return{data:null,error:new Fi("rpId is required for WebAuthn authentication")};try{if(!Fh())return{data:null,error:new Sa("Browser does not support WebAuthn",null)};const{data:l,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:r},{request:i});if(!l)return{data:null,error:s};const{webauthn:o}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(l){return G(l)?{data:null,error:l}:{data:null,error:new Sa("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},i){if(!n)return{data:null,error:new Fi("rpId is required for WebAuthn registration")};try{if(!Fh())return{data:null,error:new Sa("Browser does not support WebAuthn",null)};const{data:l,error:s}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:o,error:u}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:r},{create:i});return o?this._verify({factorId:l.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(l){return G(l)?{data:null,error:l}:{data:null,error:new Sa("Unexpected error in register",l)}}}}WE();const mT={url:dE,storageKey:hE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function eg(e,t,n){return await n()}const Pa={};class el{get jwks(){var t,n;return(n=(t=Pa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Pa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{cachedAt:t})}constructor(t){var n,a,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},mT),t);if(this.storageKey=i.storageKey,this.instanceID=(n=el.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,el.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Xe()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new QE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ap(i.fetch),this.lock=i.lock||eg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Xe()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=PE:this.lock=eg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:np()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wh(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Wh(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Fm}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},a="none";if(Xe()&&(n=CE(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),Xe()&&this.detectSessionInUrl&&a!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_E(i)){const o=(t=i.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",l,"redirect type",s),await this._saveSession(l),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return G(n)?this._returnResult({error:n}):this._returnResult({error:new Sa("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,r;try{const i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:Jt}),{data:l,error:s}=i;if(s||!l)return this._returnResult({data:{user:null,session:null},error:s});const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(i){if(G(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,a,r;try{let i;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Ja(this.storage,this.storageKey)),i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},xform:Jt})}else if("phone"in t){const{phone:c,password:d,options:f}=t;i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Jt})}else throw new Hl("You must provide either an email or phone number and a password");const{data:l,error:s}=i;if(s||!l)return await Ye(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(i){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:l,options:s}=t;n=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Zh})}else if("phone"in t){const{phone:i,password:l,options:s}=t;n=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Zh})}else throw new Hl("You must provide either an email or phone number and a password");const{data:a,error:r}=n;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!a||!a.session||!a.user){const i=new Ia;return this._returnResult({data:{user:null,session:null},error:i})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:r})}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,a,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,r,i,l,s,o,u,c,d,f;let h,m;if("message"in t)h=t.message,m=t.signature;else{const{chain:p,wallet:_,statement:g,options:v}=t;let y;if(Xe())if(typeof _=="object")y=_;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")y=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=_}const b=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href),C=await y.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=ip(C[0]);let w=(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!w){const U=await y.request({method:"eth_chainId"});w=FE(U)}const O={domain:b.host,address:D,statement:g,uri:b.href,version:"1",chainId:w,nonce:(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(l=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=tT(O),m=await y.request({method:"personal_sign",params:[eT(h),D]})}try{const{data:p,error:_}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:m},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Jt});if(_)throw _;if(!p||!p.session||!p.user){const g=new Ia;return this._returnResult({data:{user:null,session:null},error:g})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:_})}catch(p){if(G(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var n,a,r,i,l,s,o,u,c,d,f,h;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:_,wallet:g,statement:v,options:y}=t;let b;if(Xe())if(typeof g=="object")b=g;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))b=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const C=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const D=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),v?{statement:v}:null));let w;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")w=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)w=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)m=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),p=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${C.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(r=(a=y==null?void 0:y.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const D=await b.signMessage(new TextEncoder().encode(m),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=D}}try{const{data:_,error:g}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Ea(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Jt});if(g)throw g;if(!_||!_.session||!_.user){const v=new Ia;return this._returnResult({data:{user:null,session:null},error:v})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:g})}catch(_){if(G(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await va(this.storage,`${this.storageKey}-code-verifier`),[a,r]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new wE;const{data:i,error:l}=await X(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Jt});if(await Ye(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!i||!i.session||!i.user){const s=new Ia;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:l})}catch(i){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:a,token:r,access_token:i,nonce:l}=t,s=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:r,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jt}),{data:o,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o||!o.session||!o.user){const c=new Ia;return this._returnResult({data:{user:null,session:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:u})}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,a,r,i,l;try{if("email"in t){const{email:s,options:o}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ja(this.storage,this.storageKey));const{error:d}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:s,options:o}=t,{data:u,error:c}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(i=o==null?void 0:o.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(l=o==null?void 0:o.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Hl("You must provide either an email or phone number.")}catch(s){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var n,a;try{let r,i;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:l,error:s}=await X(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Jt});if(s)throw s;if(!l)throw new Error("An error occurred on token verification.");const o=l.session,u=l.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(t){var n,a,r,i,l;try{let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Ja(this.storage,this.storageKey));const u=await X(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:XE});return!((i=u.data)===null||i===void 0)&&i.url&&Xe()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),G(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new bt;const{error:r}=await X(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(t){if(G(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:r,options:i}=t,{error:l}=await X(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:a,type:r,options:i}=t,{data:l,error:s}=await X(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:s})}throw new Hl("You must provide either an email or phone number and a type")}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await va(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<fu:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const l=await va(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=gu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=GE(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xn}):await this._useSession(async n=>{var a,r,i;const{data:l,error:s}=n;if(s)throw s;return!(!((a=l.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bt}:await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Xn})})}catch(n){if(G(n))return bE(n)&&(await this._removeSession(),await Ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:r,error:i}=a;if(i)throw i;if(!r.session)throw new bt;const l=r.session;let s=null,o=null;this.flowType==="pkce"&&t.email!=null&&([s,o]=await Ja(this.storage,this.storageKey));const{data:u,error:c}=await X(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:o}),jwt:l.access_token,xform:Xn});if(c)throw c;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(a){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),G(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bt;const n=Date.now()/1e3;let a=n,r=!0,i=null;const{payload:l}=hu(t.access_token);if(l.exp&&(a=l.exp,r=a<=n),r){const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:o}=await this._getUser(t.access_token);if(o)throw o;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(G(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:l,error:s}=n;if(s)throw s;t=(a=l.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new bt;const{data:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Xe())throw new $l("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $l(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Kh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $l("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Kh("No code detected.");const{data:v,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:r,access_token:i,refresh_token:l,expires_in:s,expires_at:o,token_type:u}=t;if(!i||!s||!l||!u)throw new $l("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let f=c+d;o&&(f=parseInt(o));const h=f-c;h*1e3<=ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const m=f-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,c);const{data:p,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:a,provider_refresh_token:r,access_token:i,expires_in:d,expires_at:f,refresh_token:l,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(a){if(G(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await va(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i)return this._returnResult({error:i});const l=(a=r.session)===null||a===void 0?void 0:a.access_token;if(l){const{error:s}=await this.admin.signOut(l,t);if(s&&!(pE(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await Ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=RE(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,r;try{const{data:{session:i},error:l}=n;if(l)throw l;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let a=null,r=null;this.flowType==="pkce"&&([a,r]=await Ja(this.storage,this.storageKey,!0));try{return await X(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:r}=await this._useSession(async i=>{var l,s,o,u,c;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await X(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return Xe()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(G(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:r,data:{session:i}}=n;if(r)throw r;const{options:l,provider:s,token:o,access_token:u,nonce:c}=t,d=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:s,id_token:o,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Jt}),{data:f,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Ia}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:h}))}catch(r){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,r;const{data:i,error:l}=n;if(l)throw l;return await X(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await NE(async r=>(r>0&&await jE(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await X(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jt})),(r,i)=>{const l=200*Math.pow(2,r);return i&&du(i)&&Date.now()+l-a<ar})}catch(a){if(this._debug(n,"error",a),G(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),Xe()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const r=await va(this.storage,this.storageKey);if(r&&this.userStorage){let l=await va(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:r.user},await rr(this.userStorage,this.storageKey+"-user",l)),r.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:gu()}else if(r&&!r.user&&!r.user){const l=await va(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(r.user=l.user,await Ye(this.storage,this.storageKey+"-user"),await rr(this.storage,this.storageKey,r)):r.user=gu()}if(this._debug(a,"session from storage",r),!this._isValidSession(r)){this._debug(a,"session is not valid"),r!==null&&await this._removeSession();return}const i=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<fu;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${fu}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),du(l)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:s}=await this._getUser(r.access_token);!s&&(l!=null&&l.user)?(r.user=l.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(a,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(a,"error",r),console.error(r);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new mo;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new bt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(r,"error",i),G(i)){const l={data:null,error:i};return du(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,a=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(o){i.push(o)}});if(await Promise.all(l),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ye(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await rr(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const i=Jh(r);await rr(this.storage,this.storageKey,i)}else{const r=Jh(n);await rr(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ye(this.storage,this.storageKey),await Ye(this.storage,this.storageKey+"-code-verifier"),await Ye(this.storage,this.storageKey+"-user"),this.userStorage&&await Ye(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ar);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((a.expires_at*1e3-t)/ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ar}ms, refresh threshold is ${Ec} ticks`),r<=Ec&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof rp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const r=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&r.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&r.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,l]=await Ja(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});r.push(s.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);r.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&r.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;return i?this._returnResult({data:null,error:i}):await X(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,r;const{data:i,error:l}=n;if(l)return this._returnResult({data:null,error:l});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await X(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&o.type==="totp"&&(!((r=o==null?void 0:o.totp)===null||r===void 0)&&r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?oT(t.webauthn.credential_response):uT(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:o}=await X(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:o}))})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i)return this._returnResult({data:null,error:i});const l=await X(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});if(l.error)return l;const{data:s}=l;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:lT(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:sT(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])r.all.push(i),i.status==="verified"&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=hu(a.access_token);let l=null;i.aal&&(l=i.aal);let s=l;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=i.amr||[];return{data:{currentLevel:l,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:r}=n;return r?this._returnResult({data:null,error:r}):a?await X(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new bt})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:r},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new bt});const l=await X(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return l.data&&l.data.redirect_url&&Xe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(a){if(G(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:r},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new bt});const l=await X(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return l.data&&l.data.redirect_url&&Xe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(a){if(G(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?await X(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new bt})})}catch(t){if(G(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:a},error:r}=n;return r?this._returnResult({data:null,error:r}):a?(await X(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new bt})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(s=>s.kid===t);if(a)return a;const r=Date.now();if(a=this.jwks.keys.find(s=>s.kid===t),a&&this.jwks_cached_at+yE>r)return a;const{data:i,error:l}=await X(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,a=i.keys.find(s=>s.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:h,error:m}=await this.getSession();if(m||!h.session)return this._returnResult({data:null,error:m});a=h.session.access_token}const{header:r,payload:i,signature:l,raw:{header:s,payload:o}}=hu(a);n!=null&&n.allowExpired||qE(i.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(a);if(h)throw h;return{data:{claims:i,header:r,signature:l},error:null}}const c=HE(r.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,l,OE(`${s}.${o}`)))throw new Oc("Invalid JWT signature");return{data:{claims:i,header:r,signature:l},error:null}}catch(a){if(G(a))return this._returnResult({data:null,error:a});throw a}}}el.nextInstanceID={};const pT=el,bT="2.89.0";let gi="";typeof Deno<"u"?gi="deno":typeof document<"u"?gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gi="react-native":gi="node";const _T={"X-Client-Info":`supabase-js-${gi}/${bT}`},wT={headers:_T},ST={schema:"public"},ET={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},TT={};function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function AT(e,t){if(tl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(tl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OT(e){var t=AT(e,"string");return tl(t)=="symbol"?t:t+""}function xT(e,t,n){return(t=OT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tg(Object(n),!0).forEach(function(a){xT(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tg(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}const RT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),CT=()=>Headers,DT=(e,t,n)=>{const a=RT(n),r=CT();return async(i,l)=>{var s;const o=(s=await t())!==null&&s!==void 0?s:e;let u=new r(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),a(i,Ae(Ae({},l),{},{headers:u}))}};function jT(e){return e.endsWith("/")?e:e+"/"}function NT(e,t){var n,a;const{db:r,auth:i,realtime:l,global:s}=e,{db:o,auth:u,realtime:c,global:d}=t,f={db:Ae(Ae({},o),r),auth:Ae(Ae({},u),i),realtime:Ae(Ae({},c),l),storage:{},global:Ae(Ae(Ae({},d),s),{},{headers:Ae(Ae({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(a=s==null?void 0:s.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function UT(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jT(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var zT=class extends pT{constructor(e){super(e)}},MT=class{constructor(e,t,n){var a,r;this.supabaseUrl=e,this.supabaseKey=t;const i=UT(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const l=`sb-${i.hostname.split(".")[0]}-auth-token`,s={db:ST,realtime:TT,auth:Ae(Ae({},ET),{},{storageKey:l}),global:wT},o=NT(n??{},s);if(this.storageKey=(a=o.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(r=o.global.headers)!==null&&r!==void 0?r:{},o.accessToken)this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=o.auth)!==null&&u!==void 0?u:{},this.headers,o.global.fetch)}this.fetch=DT(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(Ae({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new gS(new URL("rest/v1",i).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch}),this.storage=new fE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new uS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:a}=await e.auth.getSession();return(t=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:r,storageKey:i,flowType:l,lock:s,debug:o,throwOnError:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zT({url:this.authUrl.href,headers:Ae(Ae({},f),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:r,flowType:l,lock:s,debug:o,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new jS(this.realtimeUrl.href,Ae(Ae({},e),{},{params:Ae(Ae({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const kT=(e,t,n)=>new MT(e,t,n);function BT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}BT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const LT="https://sqisntxippjzcekyhqyo.supabase.co",qT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNxaXNudHhpcHBqemNla3locXlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYyMDYyMzQsImV4cCI6MjA4MTc4MjIzNH0.wMdFeuYbxBJnJUeON0ccOiULDhEA88R25ewnIeb9dPg",re=kT(LT,qT),HT=()=>{const[e,t]=S.useState(null),[n,a]=S.useState(!0);return S.useEffect(()=>{re.auth.getSession().then(({data:{session:s}})=>{t(s),a(!1)});const{data:{subscription:l}}=re.auth.onAuthStateChange((s,o)=>{t(o)});return()=>l.unsubscribe()},[]),{session:e,authLoading:n,handleGoogleLogin:async()=>{try{const l=window.location.origin,s=window.location.hostname,o=s==="localhost"||s.startsWith("192.")||s.startsWith("172."),u=l+"/thinkmap/",{error:c}=await re.auth.signInWithOAuth({provider:"google",options:{redirectTo:u}});if(c)throw c}catch(l){console.error("  :",l),alert(" : "+l.message)}},handleLogout:async()=>{try{const{error:l}=await re.auth.signOut();if(l)throw l}catch(l){alert(" : "+l.message)}}}},Wa=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)});function $T(e,t){const[n,a]=S.useState([{id:Wa(),type:"toggle",content:"",children:[],isOpen:!0,depth:0}]),[r,i]=S.useState(!1),l=S.useRef(null),[s,o]=S.useState(null),[u,c]=S.useState([]),[d,f]=S.useState(!1),h=S.useRef(null),m=S.useCallback(A=>{if(!Array.isArray(A))return[];const j=new Map(A.map(z=>[z.id,z]));return A.map(z=>{if(z.is_reference&&z.original_block_id){const x=j.get(z.original_block_id);return{...z,content:(x==null?void 0:x.content)||"[    ]",_isReference:!0,_originalId:z.original_block_id}}return z})},[]),p=S.useCallback(A=>{if(!Array.isArray(A)||A.length===0)return[{id:Wa(),type:"toggle",content:"",children:[],isOpen:!0,depth:0}];const j={},z=[];A.forEach(N=>{j[N.id]={...N,children:[],depth:N.depth||0}}),A.forEach(N=>{if(N.parent_id===null||N.parent_id===void 0)z.push(j[N.id]);else{const E=j[N.parent_id];E?E.children.push(j[N.id]):(j[N.id].depth=0,z.push(j[N.id]))}});const x=N=>{N.sort((E,T)=>(E.position||0)-(T.position||0)),N.forEach(E=>{Array.isArray(E.children)&&E.children.length>0&&x(E.children)})};return x(z),z},[]),_=S.useCallback(A=>Array.isArray(A)?A.map(j=>({...j,children:Array.isArray(j.children)?_(j.children):[],depth:j.depth!==void 0?j.depth:0})):[],[]),g=S.useCallback((A,j=-1)=>A.map(z=>({...z,depth:j+1,children:Array.isArray(z.children)?g(z.children,j+1):[]})),[]),v=async()=>{var A;if(!(!((A=e==null?void 0:e.user)!=null&&A.id)||!t))try{const{data:j,error:z}=await re.from("blocks").select("*").eq("user_id",e.user.id).eq("page_id",t).order("position",{ascending:!0});if(z){console.error("  :",z.message);return}if(!j||j.length===0){const E={id:Wa(),user_id:e.user.id,page_id:t,content:"",type:"toggle",parent_id:null,position:0,depth:0,is_open:!0,is_reference:!1,original_block_id:null};await re.from("blocks").insert([E]),a([{...E,children:[]}]);return}const x=m(j),N=p(x);a(N),l.current=JSON.parse(JSON.stringify(N))}catch(j){console.error("  :",j.message)}},y=async(A="",j=null,z=0,x=0,N="toggle")=>{var E;if(!((E=e==null?void 0:e.user)!=null&&E.id)||!t)return console.error(" "),null;try{const T={id:Wa(),user_id:e.user.id,page_id:t,content:A,type:N,parent_id:j,position:z,depth:x,is_open:!0,is_reference:!1,original_block_id:null},{error:B}=await re.from("blocks").insert([T]);return B?(console.error("  :",B.message),null):(await O(T.id,"create",null,A),T)}catch(T){return console.error("  :",T.message),null}},b=async(A,j,z=!1,x=null)=>{var N;if(!((N=e==null?void 0:e.user)!=null&&N.id))return console.error(" "),!1;try{const E=z?x:A,{error:T}=await re.from("blocks").update({...j,updated_at:new Date().toISOString()}).eq("id",E);return T?(console.error("  :",T.message),!1):!0}catch(E){return console.error("  :",E.message),!1}},C=async A=>{var j;if(!((j=e==null?void 0:e.user)!=null&&j.id))return console.error(" "),!1;try{const{data:z}=await re.from("blocks").select("content").eq("id",A).single();await O(A,"delete",z==null?void 0:z.content,null);const{error:x}=await re.from("blocks").delete().eq("id",A);return x?(console.error("  :",x.message),!1):!0}catch(z){return console.error("  :",z.message),!1}},D=async(A,j,z,x)=>{var N;if(!((N=e==null?void 0:e.user)!=null&&N.id))return!1;try{const{error:E}=await re.from("blocks").update({parent_id:j,position:z,depth:x,updated_at:new Date().toISOString()}).eq("id",A);return E?(console.error("  :",E.message),!1):(await O(A,"move",null,null,`depth ${x}, position ${z}`),!0)}catch(E){return console.error("  :",E.message),!1}},w=async(A,j=null,z=0,x=0)=>{var N;if(!((N=e==null?void 0:e.user)!=null&&N.id)||!t)return console.error(" "),null;try{const E={id:Wa(),user_id:e.user.id,page_id:t,content:"",type:"toggle",parent_id:j,position:z,depth:x,is_open:!0,is_reference:!0,original_block_id:A},{error:T}=await re.from("blocks").insert([E]);return T?(console.error("   :",T.message),null):(await O(E.id,"reference_create",null,null,` ${A}  `),E)}catch(E){return console.error("   :",E.message),null}},O=async(A,j,z=null,x=null,N="")=>{var E;if(!(!((E=e==null?void 0:e.user)!=null&&E.id)||!t))try{await re.from("block_history").insert([{block_id:A,user_id:e.user.id,page_id:t,content_before:z,content_after:x,action:j,description:N}])}catch(T){console.warn("   :",T.message)}},U=async(A,j,z)=>{var x;!((x=e==null?void 0:e.user)!=null&&x.id)||!t||j!==z&&await O(A,"update",j,z," ")},k=async(A=null)=>{var j;if(!((j=e==null?void 0:e.user)!=null&&j.id)||!t)return!1;try{const{error:z}=await re.from("block_history").insert([{block_id:null,user_id:e.user.id,page_id:t,content_before:null,content_after:n,action:"manual_snapshot",description:A||"  "}]);return z?(console.error("   :",z.message),!1):!0}catch(z){return console.error("   :",z.message),!1}},L=async A=>{var j;if((j=e==null?void 0:e.user)!=null&&j.id)try{const z=g(A),x=new Map,N=de=>{de.forEach(V=>{/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(V.id)?x.set(V.id,V.id):x.set(V.id,Wa()),Array.isArray(V.children)&&V.children.length>0&&N(V.children)})};N(z);const E=[],T={},B=(de,V=null)=>{de.forEach(we=>{const Ce=V||"root";T[Ce]||(T[Ce]=0);const gt=T[Ce]++,vt=x.get(we.id),Nt=V?x.get(V):null;E.push({id:vt,user_id:e.user.id,page_id:t,content:we.content||"",type:we.type||"toggle",parent_id:Nt,position:gt,depth:we.depth,is_open:we.isOpen!==void 0?we.isOpen:!0,is_reference:we._isReference||!1,original_block_id:we._originalId?x.get(we._originalId):null}),Array.isArray(we.children)&&we.children.length>0&&B(we.children,we.id)})};B(z);const{data:q}=await re.from("blocks").select("id").eq("user_id",e.user.id).eq("page_id",t),$=new Set((q==null?void 0:q.map(de=>de.id))||[]),K=new Set(E.map(de=>de.id)),ue=[...$].filter(de=>!K.has(de));if(ue.length>0&&await re.from("blocks").delete().in("id",ue),E.length>0)for(let V=0;V<E.length;V+=1e3){const we=E.slice(V,V+1e3),{error:Ce}=await re.from("blocks").upsert(we,{onConflict:"id"});if(Ce)throw Ce}const lt=de=>de.map(V=>({...V,id:x.get(V.id),children:Array.isArray(V.children)?lt(V.children):[]}));a(lt(z))}catch(z){console.error("  :",z.message)}};return{keyThoughtsBlocks:n,setKeyThoughtsBlocks:a,isSavingKeyThoughts:r,setIsSavingKeyThoughts:i,lastSavedKeyThoughtsRef:l,focusedBlockId:s,setFocusedBlockId:o,keyThoughtsHistory:u,setKeyThoughtsHistory:c,showKeyThoughtsHistory:d,setShowKeyThoughtsHistory:f,normalizeBlocks:_,enrichBlockReferences:m,buildTree:p,calculateDepth:g,fetchKeyThoughtsContent:v,createBlock:y,updateBlock:b,deleteBlock:C,moveBlock:D,createReferenceBlock:w,saveBlockHistory:O,syncTreeToDB:L,handleSaveKeyThoughts:async()=>{var A;(A=e==null?void 0:e.user)!=null&&A.id&&n.length!==0&&await L(n)},cleanupOldHistory:async()=>{try{const A=new Date().toDateString();if(h.current===A)return;const j=new Date;j.setDate(j.getDate()-30),await re.from("block_history").delete().lt("created_at",j.toISOString()),h.current=A}catch(A){console.error("  :",A.message)}},fetchKeyThoughtsHistory:async()=>{if(t)try{const{data:A,error:j}=await re.from("block_history").select("*").eq("page_id",t).order("created_at",{ascending:!1}).limit(100);if(j){console.error("   :",j.message);return}c(A||[])}catch(A){console.error("   :",A.message)}},restoreKeyThoughtsVersion:async A=>{if(!t){alert("   .");return}try{const{data:j,error:z}=await re.from("block_history").select("*").eq("id",A).single();if(z||!j){console.error("  :",z==null?void 0:z.message),alert("    .");return}if(j.action!=="manual_snapshot"){alert(`       .
    .`);return}let x=j.content_after;if(typeof x=="string")try{x=JSON.parse(x)}catch(T){console.error("JSON  :",T),alert("    .");return}if(!Array.isArray(x)){console.error("blockTree  :",x),alert("   .");return}if(!window.confirm(`  ?

 : ${new Date(j.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Seoul"})}

   ,      .`))return;const E=new Date().toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Seoul"});await k(`     (${E})`),a(x),await L(x),alert("   .")}catch(j){console.error("  :",j.message),alert("     .")}},saveHistoryOnBlur:U,manualSaveHistory:k}}const ng=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),GT=e=>{const[t,n]=S.useState([]),[a,r]=S.useState(null),[i,l]=S.useState(!0),s=async()=>{var h;if((h=e==null?void 0:e.user)!=null&&h.id)try{l(!0);const{data:m,error:p}=await re.from("projects").select("*").eq("user_id",e.user.id).order("position",{ascending:!0});if(p){console.error("  :",p.message);return}!m||m.length===0?await o():(n(m),!a&&m.length>0&&r(m[0].id))}catch(m){console.error("  :",m.message)}finally{l(!1)}},o=async()=>{var h;if((h=e==null?void 0:e.user)!=null&&h.id)try{const m={id:ng(),user_id:e.user.id,name:"My Project",position:0},{error:p}=await re.from("projects").insert([m]);if(p){console.error("   :",p.message);return}n([m]),r(m.id)}catch(m){console.error("   :",m.message)}},u=async(h="Untitled Project")=>{var m;if(!((m=e==null?void 0:e.user)!=null&&m.id))return null;try{const p={id:ng(),user_id:e.user.id,name:h,position:t.length},{error:_}=await re.from("projects").insert([p]);return _?(console.error("  :",_.message),null):(n([...t,p]),p)}catch(p){return console.error("  :",p.message),null}},c=async(h,m)=>{var p;if(!((p=e==null?void 0:e.user)!=null&&p.id)||!m.trim())return!1;try{const{error:_}=await re.from("projects").update({name:m.trim(),updated_at:new Date().toISOString()}).eq("id",h).eq("user_id",e.user.id);return _?(console.error("   :",_.message),!1):(n(t.map(g=>g.id===h?{...g,name:m.trim()}:g)),!0)}catch(_){return console.error("   :",_.message),!1}},d=async h=>{var m;if(!((m=e==null?void 0:e.user)!=null&&m.id))return!1;if(t.length<=1)return console.warn("    ."),!1;try{const{error:p}=await re.from("projects").delete().eq("id",h).eq("user_id",e.user.id);if(p)return console.error("  :",p.message),!1;const _=t.filter(g=>g.id!==h);return n(_),a===h&&_.length>0&&r(_[0].id),!0}catch(p){return console.error("  :",p.message),!1}},f=async h=>{var m;if(!((m=e==null?void 0:e.user)!=null&&m.id))return!1;try{const p=h.map((_,g)=>({id:_.id,position:g,updated_at:new Date().toISOString()}));for(const _ of p){const{error:g}=await re.from("projects").update({position:_.position,updated_at:_.updated_at}).eq("id",_.id).eq("user_id",e.user.id);if(g)throw g}return n(h),!0}catch(p){return console.error("   :",p.message),!1}};return S.useEffect(()=>{var h;(h=e==null?void 0:e.user)!=null&&h.id?s():(n([]),r(null),l(!1))},[e]),{projects:t,currentProjectId:a,setCurrentProjectId:r,projectsLoading:i,fetchProjects:s,createProject:u,renameProject:c,deleteProject:d,reorderProjects:f}},ag=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),KT=(e,t)=>{const[n,a]=S.useState([]),[r,i]=S.useState(null),[l,s]=S.useState(!0),o=async()=>{var m;if(!(!((m=e==null?void 0:e.user)!=null&&m.id)||!t))try{s(!0);const{data:p,error:_}=await re.from("pages").select("*").eq("user_id",e.user.id).eq("project_id",t).order("position",{ascending:!0});if(_){console.error("  :",_.message);return}!p||p.length===0?await u():(a(p),!r&&p.length>0&&i(p[0].id))}catch(p){console.error("  :",p.message)}finally{s(!1)}},u=async()=>{var m;if(!(!((m=e==null?void 0:e.user)!=null&&m.id)||!t))try{const p={id:ag(),user_id:e.user.id,project_id:t,name:"Main",position:0},{error:_}=await re.from("pages").insert([p]);if(_){console.error("   :",_.message);return}a([p]),i(p.id)}catch(p){console.error("   :",p.message)}},c=async(m="Untitled")=>{var p;if(!((p=e==null?void 0:e.user)!=null&&p.id)||!t)return null;try{const _={id:ag(),user_id:e.user.id,project_id:t,name:m,position:n.length},{error:g}=await re.from("pages").insert([_]);return g?(console.error("  :",g.message),null):(a([...n,_]),_)}catch(_){return console.error("  :",_.message),null}},d=async(m,p)=>{var _;if(!((_=e==null?void 0:e.user)!=null&&_.id)||!p.trim())return!1;try{const{error:g}=await re.from("pages").update({name:p.trim(),updated_at:new Date().toISOString()}).eq("id",m).eq("user_id",e.user.id);return g?(console.error("   :",g.message),!1):(a(n.map(v=>v.id===m?{...v,name:p.trim()}:v)),!0)}catch(g){return console.error("   :",g.message),!1}},f=async m=>{var p;if(!((p=e==null?void 0:e.user)!=null&&p.id))return!1;if(n.length<=1)return console.warn("    ."),!1;try{const{error:_}=await re.from("pages").delete().eq("id",m).eq("user_id",e.user.id);if(_)return console.error("  :",_.message),!1;const g=n.filter(v=>v.id!==m);return a(g),r===m&&g.length>0&&i(g[0].id),!0}catch(_){return console.error("  :",_.message),!1}},h=async m=>{var p;if(!((p=e==null?void 0:e.user)!=null&&p.id))return!1;try{const _=m.map((g,v)=>({id:g.id,position:v,updated_at:new Date().toISOString()}));for(const g of _){const{error:v}=await re.from("pages").update({position:g.position,updated_at:g.updated_at}).eq("id",g.id).eq("user_id",e.user.id);if(v)throw v}return a(m),!0}catch(_){return console.error("   :",_.message),!1}};return S.useEffect(()=>{var m;(m=e==null?void 0:e.user)!=null&&m.id&&t?o():(a([]),i(null),s(!1))},[e,t]),{pages:n,currentPageId:r,setCurrentPageId:i,pagesLoading:l,fetchPages:o,createPage:c,renamePage:d,deletePage:f,reorderPages:h}};function VT(){var x,N,E;const{session:e,authLoading:t,handleGoogleLogin:n,handleLogout:a}=HT(),{projects:r,currentProjectId:i,setCurrentProjectId:l,createProject:s,renameProject:o,deleteProject:u}=GT(e),{pages:c,currentPageId:d,setCurrentPageId:f,createPage:h,renamePage:m,deletePage:p}=KT(e,i),{keyThoughtsBlocks:_,setKeyThoughtsBlocks:g,focusedBlockId:v,setFocusedBlockId:y,keyThoughtsHistory:b,showKeyThoughtsHistory:C,setShowKeyThoughtsHistory:D,fetchKeyThoughtsContent:w,handleSaveKeyThoughts:O,fetchKeyThoughtsHistory:U,restoreKeyThoughtsVersion:k,saveHistoryOnBlur:L,manualSaveHistory:H}=$T(e,d),[Q,Y]=S.useState(!1),[ae,A]=S.useState(!0);S.useEffect(()=>{!e||!d||w()},[e,d]),S.useEffect(()=>{if(!e||!d)return;const T=setTimeout(()=>{O()},5e3);return()=>clearTimeout(T)},[_,e,d]);const j=async()=>{const T=prompt("   :","Untitled");if(T){const B=await h(T);B&&f(B.id)}},z=tS({authLoading:t,session:e,handleGoogleLogin:n});return z||(Q?R.jsx(rS,{blocks:_,setBlocks:g,onSave:O,onClose:()=>Y(!1)}):R.jsxs("div",{className:`app ${ae?"sidebar-open":""}`,children:[R.jsx(iS,{isOpen:ae,onClose:()=>A(!1),projects:r,currentProjectId:i,onProjectSelect:l,onProjectCreate:s,onProjectRename:o,onProjectDelete:u,pages:c,currentPageId:d,onPageSelect:f,onPageCreate:j,onPageRename:m,onPageDelete:p,userEmail:(x=e==null?void 0:e.user)==null?void 0:x.email,onLogout:a}),R.jsxs("div",{className:`container ${ae?"with-sidebar":""}`,children:[R.jsx(nS,{onToggleSidebar:()=>A(!ae),currentProjectId:i,currentProjectName:(N=r.find(T=>T.id===i))==null?void 0:N.name,onProjectRename:o,sidebarOpen:ae}),R.jsx("div",{className:"content-scrollable",children:R.jsx(Fw,{blocks:_,setBlocks:g,focusedBlockId:v,setFocusedBlockId:y,currentPageId:d,currentPageName:(E=c.find(T=>T.id===d))==null?void 0:E.name,onPageRename:m,onShowHistory:()=>{U(),D(!0)},onOpenViewer:()=>Y(!0),onSaveHistoryOnBlur:L,onManualSaveHistory:H})}),R.jsx(eS,{showKeyThoughtsHistory:C,onClose:()=>D(!1),keyThoughtsHistory:b,onRestoreVersion:k})]})]}))}c_.createRoot(document.getElementById("root")).render(R.jsx(S.StrictMode,{children:R.jsx(VT,{})}));
